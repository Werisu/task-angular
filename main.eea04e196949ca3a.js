"use strict";(self.webpackChunktask_angular=self.webpackChunktask_angular||[]).push([[179],{2313:(rn,it,G)=>{G.d(it,{nm:()=>gr});var _=G(4976),be=(G(4650),G(3692),G(259),G(5861)),Ve=G(6881),qe=G(4859),Le=G(2090),Qe=G(1877);const pe=new Map,fe={activated:!1,tokenObservers:[]},Ae={initialized:!1,enabled:!1};function ht($e){return pe.get($e)||Object.assign({},fe)}function At(){return Ae}const jt="https://content-firebaseappcheck.googleapis.com/v1",Tt="exchangeDebugToken",Dt={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class ge{constructor(xe,Pe,ft,Nt,An){if(this.operation=xe,this.retryPolicy=Pe,this.getWaitDuration=ft,this.lowerBound=Nt,this.upperBound=An,this.pending=null,this.nextErrorWaitInterval=Nt,Nt>An)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(xe){var Pe=this;return(0,be.Z)(function*(){Pe.stop();try{Pe.pending=new Le.BH,yield function lt($e){return new Promise(xe=>{setTimeout(xe,$e)})}(Pe.getNextRun(xe)),Pe.pending.resolve(),yield Pe.pending.promise,Pe.pending=new Le.BH,yield Pe.operation(),Pe.pending.resolve(),yield Pe.pending.promise,Pe.process(!0).catch(()=>{})}catch(ft){Pe.retryPolicy(ft)?Pe.process(!1).catch(()=>{}):Pe.stop()}})()}getNextRun(xe){if(xe)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const Pe=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),Pe}}}const ot=new Le.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function re($e){if(!ht($e).activated)throw ot.create("use-before-activation",{appName:$e.name})}function Rn($e,xe){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,be.Z)(function*({url:$e,body:xe},Pe){const ft={"Content-Type":"application/json"},Nt=Pe.getImmediate({optional:!0});if(Nt){const vi=yield Nt.getHeartbeatsHeader();vi&&(ft["X-Firebase-Client"]=vi)}const An={method:"POST",body:JSON.stringify(xe),headers:ft};let Kn,wn;try{Kn=yield fetch($e,An)}catch(vi){throw ot.create("fetch-network-error",{originalErrorMessage:vi?.message})}if(200!==Kn.status)throw ot.create("fetch-status-error",{httpStatus:Kn.status});try{wn=yield Kn.json()}catch(vi){throw ot.create("fetch-parse-error",{originalErrorMessage:vi?.message})}const hr=wn.ttl.match(/^([\d.]+)(s)$/);if(!hr||!hr[2]||isNaN(Number(hr[1])))throw ot.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${wn.ttl}`});const Li=1e3*Number(hr[1]),Vi=Date.now();return{token:wn.token,expireTimeMillis:Vi+Li,issuedAtTimeMillis:Vi}})).apply(this,arguments)}function on($e,xe){const{projectId:Pe,appId:ft,apiKey:Nt}=$e.options;return{url:`${jt}/projects/${Pe}/apps/${ft}:${Tt}?key=${Nt}`,body:{debug_token:xe}}}const Gn="firebase-app-check-database",ke=1,Fe="firebase-app-check-store";let Me=null;function zt($e,xe){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,be.Z)(function*($e,xe){const ft=(yield function Xe(){return Me||(Me=new Promise(($e,xe)=>{try{const Pe=indexedDB.open(Gn,ke);Pe.onsuccess=ft=>{$e(ft.target.result)},Pe.onerror=ft=>{var Nt;xe(ot.create("storage-open",{originalErrorMessage:null===(Nt=ft.target.error)||void 0===Nt?void 0:Nt.message}))},Pe.onupgradeneeded=ft=>{0===ft.oldVersion&&ft.target.result.createObjectStore(Fe,{keyPath:"compositeKey"})}}catch(Pe){xe(ot.create("storage-open",{originalErrorMessage:Pe?.message}))}}),Me)}()).transaction(Fe,"readwrite"),An=ft.objectStore(Fe).put({compositeKey:$e,value:xe});return new Promise((Kn,wn)=>{An.onsuccess=hr=>{Kn()},ft.onerror=hr=>{var Li;wn(ot.create("storage-set",{originalErrorMessage:null===(Li=hr.target.error)||void 0===Li?void 0:Li.message}))}})})).apply(this,arguments)}const rr=new Qe.Yd("@firebase/app-check");function Or($e,xe){return(0,Le.hl)()?function Ft($e,xe){return zt(function Un($e){return`${$e.options.appId}-${$e.name}`}($e),xe)}($e,xe).catch(Pe=>{rr.warn(`Failed to write token to IndexedDB. Error: ${Pe}`)}):Promise.resolve()}function Bn(){return At().enabled}function ar(){return kr.apply(this,arguments)}function kr(){return(kr=(0,be.Z)(function*(){const $e=At();if($e.enabled&&$e.token)return $e.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const dr={error:"UNKNOWN_ERROR"};function Zn($e){return Le.US.encodeString(JSON.stringify($e),!1)}function fn($e){return Kt.apply(this,arguments)}function Kt(){return(Kt=(0,be.Z)(function*($e,xe=!1){const Pe=$e.app;re(Pe);const ft=ht(Pe);let An,Nt=ft.token;if(Nt&&!Fn(Nt)&&(ft.token=void 0,Nt=void 0),!Nt){const hr=yield ft.cachedTokenPromise;hr&&(Fn(hr)?Nt=hr:yield Or(Pe,void 0))}if(!xe&&Nt&&Fn(Nt))return{token:Nt.token};let wn,Kn=!1;if(Bn()){ft.exchangeTokenPromise||(ft.exchangeTokenPromise=Rn(on(Pe,yield ar()),$e.heartbeatServiceProvider).finally(()=>{ft.exchangeTokenPromise=void 0}),Kn=!0);const hr=yield ft.exchangeTokenPromise;return yield Or(Pe,hr),ft.token=hr,{token:hr.token}}try{ft.exchangeTokenPromise||(ft.exchangeTokenPromise=ft.provider.getToken().finally(()=>{ft.exchangeTokenPromise=void 0}),Kn=!0),Nt=yield ht(Pe).exchangeTokenPromise}catch(hr){"appCheck/throttled"===hr.code?rr.warn(hr.message):rr.error(hr),An=hr}return Nt?An?wn=Fn(Nt)?{token:Nt.token,internalError:An}:Ir(An):(wn={token:Nt.token},ft.token=Nt,yield Or(Pe,Nt)):wn=Ir(An),Kn&&function ci($e,xe){const Pe=ht($e).tokenObservers;for(const ft of Pe)try{"EXTERNAL"===ft.type&&null!=xe.error?ft.error(xe.error):ft.next(xe)}catch{}}(Pe,wn),wn})).apply(this,arguments)}function mn($e){return ei.apply(this,arguments)}function ei(){return(ei=(0,be.Z)(function*($e){const xe=$e.app;re(xe);const{provider:Pe}=ht(xe);if(Bn()){const ft=yield ar(),{token:Nt}=yield Rn(on(xe,ft),$e.heartbeatServiceProvider);return{token:Nt}}{const{token:ft}=yield Pe.getToken();return{token:ft}}})).apply(this,arguments)}function Rr($e,xe){const Pe=ht($e),ft=Pe.tokenObservers.filter(Nt=>Nt.next!==xe);0===ft.length&&Pe.tokenRefresher&&Pe.tokenRefresher.isRunning()&&Pe.tokenRefresher.stop(),Pe.tokenObservers=ft}function Mi($e){const{app:xe}=$e,Pe=ht(xe);let ft=Pe.tokenRefresher;ft||(ft=function sr($e){const{app:xe}=$e;return new ge((0,be.Z)(function*(){let ft;if(ft=ht(xe).token?yield fn($e,!0):yield fn($e),ft.error)throw ft.error;if(ft.internalError)throw ft.internalError}),()=>!0,()=>{const Pe=ht(xe);if(Pe.token){let ft=Pe.token.issuedAtTimeMillis+.5*(Pe.token.expireTimeMillis-Pe.token.issuedAtTimeMillis)+3e5;return ft=Math.min(ft,Pe.token.expireTimeMillis-3e5),Math.max(0,ft-Date.now())}return 0},Dt.RETRIAL_MIN_WAIT,Dt.RETRIAL_MAX_WAIT)}($e),Pe.tokenRefresher=ft),!ft.isRunning()&&Pe.isTokenAutoRefreshEnabled&&ft.start()}function Fn($e){return $e.expireTimeMillis-Date.now()>0}function Ir($e){return{token:Zn(dr),error:$e}}class Nn{constructor(xe,Pe){this.app=xe,this.heartbeatServiceProvider=Pe}_delete(){const{tokenObservers:xe}=ht(this.app);for(const Pe of xe)Rr(this.app,Pe.next);return Promise.resolve()}}const cn="app-check-internal";!function On(){(0,Ve._registerComponent)(new qe.wA("app-check",$e=>function Cr($e,xe){return new Nn($e,xe)}($e.getProvider("app").getImmediate(),$e.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(($e,xe,Pe)=>{$e.getProvider(cn).initialize()})),(0,Ve._registerComponent)(new qe.wA(cn,$e=>function Ot($e){return{getToken:xe=>fn($e,xe),getLimitedUseToken:()=>mn($e),addTokenListener:xe=>function Zr($e,xe,Pe,ft){const{app:Nt}=$e,An=ht(Nt);if(An.tokenObservers=[...An.tokenObservers,{next:Pe,error:ft,type:xe}],An.token&&Fn(An.token)){const wn=An.token;Promise.resolve().then(()=>{Pe({token:wn.token}),Mi($e)}).catch(()=>{})}An.cachedTokenPromise.then(()=>Mi($e))}($e,"INTERNAL",xe),removeTokenListener:xe=>Rr($e.app,xe)}}($e.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Ve.registerVersion)("@firebase/app-check","0.8.0")}();class gr{constructor(){return(0,_.vb)("app-check")}}typeof window<"u"&&window},3692:(rn,it,G)=>{G.d(it,{Ot:()=>Re,ZF:()=>at,hX:()=>ht,z6:()=>be});var _=G(259),X=G(4650),$=G(4976);class Re{constructor(ge){return ge}}class be{constructor(){return(0,_.C6)()}}const Le=new X.OlP("angularfire2._apps"),Qe={provide:Re,useFactory:function qe(Ge){return Ge&&1===Ge.length?Ge[0]:new Re((0,_.Mq)())},deps:[[new X.FiY,Le]]},pe={provide:be,deps:[[new X.FiY,Le]]};function fe(Ge){return(ge,lt)=>{const et=ge.runOutsideAngular(()=>Ge(lt));return new Re(et)}}let Ae=(()=>{class Ge{constructor(lt){(0,_.KN)("angularfire",$.q4.full,"core"),(0,_.KN)("angularfire",$.q4.full,"app"),(0,_.KN)("angular",X.q4F.full,lt.toString())}}return Ge.\u0275fac=function(lt){return new(lt||Ge)(X.LFG(X.Lbi))},Ge.\u0275mod=X.oAB({type:Ge}),Ge.\u0275inj=X.cJS({providers:[Qe,pe]}),Ge})();function ht(Ge,...ge){return{ngModule:Ae,providers:[{provide:Le,useFactory:fe(Ge),multi:!0,deps:[X.R0b,X.zs3,$.HU,...ge]}]}}const at=(0,$.u3)(_.ZF,!0)},7158:(rn,it,G)=>{G.d(it,{AR:()=>at,ck:()=>Mi,dh:()=>Qe,e5:()=>ar,gx:()=>Le,rh:()=>dr,v0:()=>Rn});var _=G(4976),X=G(4650),$=G(3692),Re=G(259),be=G(2313),Ve=G(4322);class Le{constructor(Nn){return Nn}}class Qe{constructor(){return(0,_.vb)("auth")}}const fe=new X.OlP("angularfire2.auth-instances");function ht(Ir){return(Nn,Cr)=>{const Ot=Nn.runOutsideAngular(()=>Ir(Cr));return new Le(Ot)}}const pt={provide:Qe,deps:[[new X.FiY,fe]]},At={provide:Le,useFactory:function Ae(Ir,Nn){const Cr=(0,_.JM)("auth",Ir,Nn);return Cr&&new Le(Cr)},deps:[[new X.FiY,fe],$.Ot]};let jt=(()=>{class Ir{constructor(){(0,Re.KN)("angularfire",_.q4.full,"auth")}}return Ir.\u0275fac=function(Cr){return new(Cr||Ir)},Ir.\u0275mod=X.oAB({type:Ir}),Ir.\u0275inj=X.cJS({providers:[At,pt]}),Ir})();function at(Ir,...Nn){return{ngModule:jt,providers:[{provide:fe,useFactory:ht(Ir),multi:!0,deps:[X.R0b,X.zs3,_.HU,$.z6,[new X.FiY,be.nm],...Nn]}]}}const Rn=(0,_.u3)(Ve.v0,!0),ar=(0,_.u3)(Ve.e5,!0),dr=(0,_.u3)(Ve.rh,!0),Mi=(0,_.u3)(Ve.ck,!0)},1205:(rn,it,G)=>{G.d(it,{zQ:()=>sn,ww:()=>Vn,rT:()=>en,f7:()=>Rn,L6:()=>Be,_Q:()=>re,lh:()=>Gt,Qv:()=>ot,nw:()=>Ut});var _=G(4650),X=G(7579),$=G(9646),Re=G(9751),be=G(8996),Ve=G(6451),qe=G(5363),Le=G(3900),Qe=G(4004),pe=G(6063);class fe extends X.x{constructor(Gn=1/0,ke=1/0,Fe=pe.l){super(),this._bufferSize=Gn,this._windowTime=ke,this._timestampProvider=Fe,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=ke===1/0,this._bufferSize=Math.max(1,Gn),this._windowTime=Math.max(1,ke)}next(Gn){const{isStopped:ke,_buffer:Fe,_infiniteTimeWindow:Ze,_timestampProvider:Me,_windowTime:Xe}=this;ke||(Fe.push(Gn),!Ze&&Fe.push(Me.now()+Xe)),this._trimBuffer(),super.next(Gn)}_subscribe(Gn){this._throwIfClosed(),this._trimBuffer();const ke=this._innerSubscribe(Gn),{_infiniteTimeWindow:Fe,_buffer:Ze}=this,Me=Ze.slice();for(let Xe=0;Xe<Me.length&&!Gn.closed;Xe+=Fe?1:2)Gn.next(Me[Xe]);return this._checkFinalizedStatuses(Gn),ke}_trimBuffer(){const{_bufferSize:Gn,_timestampProvider:ke,_buffer:Fe,_infiniteTimeWindow:Ze}=this,Me=(Ze?1:2)*Gn;if(Gn<1/0&&Me<Fe.length&&Fe.splice(0,Fe.length-Me),!Ze){const Xe=ke.now();let It=0;for(let Ft=1;Ft<Fe.length&&Fe[Ft]<=Xe;Ft+=2)It=Ft;It&&Fe.splice(0,It+1)}}}var Ae=G(3099);function ht(on,Gn,ke){let Fe,Ze=!1;return on&&"object"==typeof on?({bufferSize:Fe=1/0,windowTime:Gn=1/0,refCount:Ze=!1,scheduler:ke}=on):Fe=on??1/0,(0,Ae.B)({connector:()=>new fe(Fe,Gn,ke),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:Ze})}var pt=G(590),At=G(576);function jt(on,Gn){return(0,At.m)(Gn)?(0,Le.w)(()=>on,Gn):(0,Le.w)(()=>on)}var at=G(9468),wt=G(9300),Tt=G(4976),Dt=G(2011),Ge=G(6895),ge=G(2313),lt=G(9260);const ot=new _.OlP("angularfire2.auth.use-emulator"),Be=new _.OlP("angularfire2.auth.settings"),re=new _.OlP("angularfire2.auth.tenant-id"),en=new _.OlP("angularfire2.auth.langugage-code"),Gt=new _.OlP("angularfire2.auth.use-device-language"),Rn=new _.OlP("angularfire.auth.persistence"),Ut=(on,Gn,ke,Fe,Ze,Me,Xe,It)=>(0,Dt.cc)(`${on.name}.auth`,"AngularFireAuth",on.name,()=>{const Ft=Gn.runOutsideAngular(()=>on.auth());if(ke&&Ft.useEmulator(...ke),Fe&&(Ft.tenantId=Fe),Ft.languageCode=Ze,Me&&Ft.useDeviceLanguage(),Xe)for(const[qt,vn]of Object.entries(Xe))Ft.settings[qt]=vn;return It&&Ft.setPersistence(It),Ft},[ke,Fe,Ze,Me,Xe,It]);let sn=(()=>{class on{constructor(ke,Fe,Ze,Me,Xe,It,Ft,qt,vn,zt,Pn,_r){const xn=new X.x,Un=(0,$.of)(void 0).pipe((0,qe.Q)(Xe.outsideAngular),(0,Le.w)(()=>Me.runOutsideAngular(()=>Promise.resolve().then(G.bind(G,9568)))),(0,Qe.U)(()=>(0,Dt.on)(ke,Me,Fe)),(0,Qe.U)(rr=>Ut(rr,Me,It,qt,vn,zt,Ft,Pn)),ht({bufferSize:1,refCount:!1}));if((0,Ge.PM)(Ze))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,$.of)(null);else{Un.pipe((0,pt.P)()).subscribe();const Zt=Un.pipe((0,Le.w)(Tn=>Tn.getRedirectResult().then(Ht=>Ht,()=>null)),Tt.iC,ht({bufferSize:1,refCount:!1})),cr=Un.pipe((0,Le.w)(Tn=>new Re.y(Ht=>({unsubscribe:Me.runOutsideAngular(()=>Tn.onAuthStateChanged(Bn=>Ht.next(Bn),Bn=>Ht.error(Bn),()=>Ht.complete()))})))),Or=Un.pipe((0,Le.w)(Tn=>new Re.y(Ht=>({unsubscribe:Me.runOutsideAngular(()=>Tn.onIdTokenChanged(Bn=>Ht.next(Bn),Bn=>Ht.error(Bn),()=>Ht.complete()))}))));this.authState=Zt.pipe(jt(cr),(0,at.R)(Xe.outsideAngular),(0,qe.Q)(Xe.insideAngular)),this.user=Zt.pipe(jt(Or),(0,at.R)(Xe.outsideAngular),(0,qe.Q)(Xe.insideAngular)),this.idToken=this.user.pipe((0,Le.w)(Tn=>Tn?(0,be.D)(Tn.getIdToken()):(0,$.of)(null))),this.idTokenResult=this.user.pipe((0,Le.w)(Tn=>Tn?(0,be.D)(Tn.getIdTokenResult()):(0,$.of)(null))),this.credential=(0,Ve.T)(Zt,xn,this.authState.pipe((0,wt.h)(Tn=>!Tn))).pipe((0,Qe.U)(Tn=>Tn?.user?Tn:null),(0,at.R)(Xe.outsideAngular),(0,qe.Q)(Xe.insideAngular))}return(0,Dt.pX)(this,Un,Me,{spy:{apply:(rr,Zt,cr)=>{(rr.startsWith("signIn")||rr.startsWith("createUser"))&&cr.then(Or=>xn.next(Or))}}})}}return on.\u0275fac=function(ke){return new(ke||on)(_.LFG(Dt.Dh),_.LFG(Dt.xv,8),_.LFG(_.Lbi),_.LFG(_.R0b),_.LFG(Tt.HU),_.LFG(ot,8),_.LFG(Be,8),_.LFG(re,8),_.LFG(en,8),_.LFG(Gt,8),_.LFG(Rn,8),_.LFG(ge.nm,8))},on.\u0275prov=_.Yz7({token:on,factory:on.\u0275fac,providedIn:"any"}),on})(),Vn=(()=>{class on{constructor(){lt.Z.registerVersion("angularfire",Tt.q4.full,"auth-compat")}}return on.\u0275fac=function(ke){return new(ke||on)},on.\u0275mod=_.oAB({type:on}),on.\u0275inj=_.cJS({providers:[sn]}),on})()},9532:(rn,it,G)=>{G.d(it,{KQ:()=>Jd,JS:()=>Nc});var _=G(4650),X=G(4986),$=G(9751),Re=G(9646),be=G(6451),Ve=G(4004),qe=G(3099),Le=G(3900),Qe=G(2940),pe=G(4671),fe=G(4482),Ae=G(5403);function pt(h,u){return h===u}var At=G(8421),jt=G(5032),at=G(7669),Dt=G(4976),Ge=G(2011),lt=(G(9568),G(3942)),et=G(4859),ot=G(5861),Be=G(6881),re=G(2090),en=G(1877);const Gt="@firebase/database";let Ut="";function sn(h){Ut=h}class Vn{constructor(u){this.domStorage_=u,this.prefix_="firebase:"}set(u,c){null==c?this.domStorage_.removeItem(this.prefixedName_(u)):this.domStorage_.setItem(this.prefixedName_(u),(0,re.Wl)(c))}get(u){const c=this.domStorage_.getItem(this.prefixedName_(u));return null==c?null:(0,re.cI)(c)}remove(u){this.domStorage_.removeItem(this.prefixedName_(u))}prefixedName_(u){return this.prefix_+u}toString(){return this.domStorage_.toString()}}class on{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(u,c){null==c?delete this.cache_[u]:this.cache_[u]=c}get(u){return(0,re.r3)(this.cache_,u)?this.cache_[u]:null}remove(u){delete this.cache_[u]}}const Gn=function(h){try{if(typeof window<"u"&&typeof window[h]<"u"){const u=window[h];return u.setItem("firebase:sentinel","cache"),u.removeItem("firebase:sentinel"),new Vn(u)}}catch{}return new on},ke=Gn("localStorage"),Fe=Gn("sessionStorage"),Ze=new en.Yd("@firebase/database"),Me=function(){let h=1;return function(){return h++}}(),Xe=function(h){const u=(0,re.dS)(h),c=new re.gQ;c.update(u);const m=c.digest();return re.US.encodeByteArray(m)},It=function(...h){let u="";for(let c=0;c<h.length;c++){const m=h[c];Array.isArray(m)||m&&"object"==typeof m&&"number"==typeof m.length?u+=It.apply(null,m):u+="object"==typeof m?(0,re.Wl)(m):m,u+=" "}return u};let Ft=null,qt=!0;const vn=function(h,u){(0,re.hu)(!u||!0===h||!1===h,"Can't turn on custom loggers persistently."),!0===h?(Ze.logLevel=en.in.VERBOSE,Ft=Ze.log.bind(Ze),u&&Fe.set("logging_enabled",!0)):"function"==typeof h?Ft=h:(Ft=null,Fe.remove("logging_enabled"))},zt=function(...h){if(!0===qt&&(qt=!1,null===Ft&&!0===Fe.get("logging_enabled")&&vn(!0)),Ft){const u=It.apply(null,h);Ft(u)}},Pn=function(h){return function(...u){zt(h,...u)}},_r=function(...h){const u="FIREBASE INTERNAL ERROR: "+It(...h);Ze.error(u)},xn=function(...h){const u=`FIREBASE FATAL ERROR: ${It(...h)}`;throw Ze.error(u),new Error(u)},Un=function(...h){const u="FIREBASE WARNING: "+It(...h);Ze.warn(u)},Zt=function(h){return"number"==typeof h&&(h!=h||h===Number.POSITIVE_INFINITY||h===Number.NEGATIVE_INFINITY)},Or="[MIN_NAME]",Tn="[MAX_NAME]",Ht=function(h,u){if(h===u)return 0;if(h===Or||u===Tn)return-1;if(u===Or||h===Tn)return 1;{const c=Mi(h),m=Mi(u);return null!==c?null!==m?c-m==0?h.length-u.length:c-m:-1:null!==m?1:h<u?-1:1}},Bn=function(h,u){return h===u?0:h<u?-1:1},ar=function(h,u){if(u&&h in u)return u[h];throw new Error("Missing required key ("+h+") in object: "+(0,re.Wl)(u))},kr=function(h){if("object"!=typeof h||null===h)return(0,re.Wl)(h);const u=[];for(const m in h)u.push(m);u.sort();let c="{";for(let m=0;m<u.length;m++)0!==m&&(c+=","),c+=(0,re.Wl)(u[m]),c+=":",c+=kr(h[u[m]]);return c+="}",c},xr=function(h,u){const c=h.length;if(c<=u)return[h];const m=[];for(let D=0;D<c;D+=u)m.push(h.substring(D,D+u>c?c:D+u));return m};function dr(h,u){for(const c in h)h.hasOwnProperty(c)&&u(c,h[c])}const Zn=function(h){(0,re.hu)(!Zt(h),"Invalid JSON number");const m=1023;let D,O,H,ne,ye;0===h?(O=0,H=0,D=1/h==-1/0?1:0):(D=h<0,(h=Math.abs(h))>=Math.pow(2,1-m)?(ne=Math.min(Math.floor(Math.log(h)/Math.LN2),m),O=ne+m,H=Math.round(h*Math.pow(2,52-ne)-Math.pow(2,52))):(O=0,H=Math.round(h/Math.pow(2,-1074))));const Se=[];for(ye=52;ye;ye-=1)Se.push(H%2?1:0),H=Math.floor(H/2);for(ye=11;ye;ye-=1)Se.push(O%2?1:0),O=Math.floor(O/2);Se.push(D?1:0),Se.reverse();const yt=Se.join("");let Ct="";for(ye=0;ye<64;ye+=8){let Rt=parseInt(yt.substr(ye,8),2).toString(16);1===Rt.length&&(Rt="0"+Rt),Ct+=Rt}return Ct.toLowerCase()},ei=new RegExp("^-?(0*)\\d{1,10}$"),Mi=function(h){if(ei.test(h)){const u=Number(h);if(u>=-2147483648&&u<=2147483647)return u}return null},sr=function(h){try{h()}catch(u){setTimeout(()=>{throw Un("Exception was thrown by user callback.",u.stack||""),u},Math.floor(0))}},ci=function(){return("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Fn=function(h,u){const c=setTimeout(h,u);return"number"==typeof c&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(c):"object"==typeof c&&c.unref&&c.unref(),c};class Ir{constructor(u,c){this.appName_=u,this.appCheckProvider=c,this.appCheck=c?.getImmediate({optional:!0}),this.appCheck||c?.get().then(m=>this.appCheck=m)}getToken(u){return this.appCheck?this.appCheck.getToken(u):new Promise((c,m)=>{setTimeout(()=>{this.appCheck?this.getToken(u).then(c,m):c(null)},0)})}addTokenChangeListener(u){var c;null===(c=this.appCheckProvider)||void 0===c||c.get().then(m=>m.addTokenListener(u))}notifyForInvalidToken(){Un(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class Nn{constructor(u,c,m){this.appName_=u,this.firebaseOptions_=c,this.authProvider_=m,this.auth_=null,this.auth_=m.getImmediate({optional:!0}),this.auth_||m.onInit(D=>this.auth_=D)}getToken(u){return this.auth_?this.auth_.getToken(u).catch(c=>c&&"auth/token-not-initialized"===c.code?(zt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(c)):new Promise((c,m)=>{setTimeout(()=>{this.auth_?this.getToken(u).then(c,m):c(null)},0)})}addTokenChangeListener(u){this.auth_?this.auth_.addAuthTokenListener(u):this.authProvider_.get().then(c=>c.addAuthTokenListener(u))}removeTokenChangeListener(u){this.authProvider_.get().then(c=>c.removeAuthTokenListener(u))}notifyForInvalidToken(){let u='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';u+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Un(u)}}let Cr=(()=>{class h{constructor(c){this.accessToken=c}getToken(c){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(c){c(this.accessToken)}removeTokenChangeListener(c){}notifyForInvalidToken(){}}return h.OWNER="owner",h})();const di=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Ee="websocket",oe="long_polling";class ue{constructor(u,c,m,D,O=!1,H="",ne=!1,ye=!1){this.secure=c,this.namespace=m,this.webSocketOnly=D,this.nodeAdmin=O,this.persistenceKey=H,this.includeNamespaceInQueryParams=ne,this.isUsingEmulator=ye,this._host=u.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=ke.get("host:"+u)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(u){u!==this.internalHost&&(this.internalHost=u,this.isCacheableHost()&&ke.set("host:"+this._host,this.internalHost))}toString(){let u=this.toURLString();return this.persistenceKey&&(u+="<"+this.persistenceKey+">"),u}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function De(h,u,c){let m;if((0,re.hu)("string"==typeof u,"typeof type must == string"),(0,re.hu)("object"==typeof c,"typeof params must == object"),u===Ee)m=(h.secure?"wss://":"ws://")+h.internalHost+"/.ws?";else{if(u!==oe)throw new Error("Unknown connection type: "+u);m=(h.secure?"https://":"http://")+h.internalHost+"/.lp?"}(function te(h){return h.host!==h.internalHost||h.isCustomHost()||h.includeNamespaceInQueryParams})(h)&&(c.ns=h.namespace);const D=[];return dr(c,(O,H)=>{D.push(O+"="+H)}),m+D.join("&")}class he{constructor(){this.counters_={}}incrementCounter(u,c=1){(0,re.r3)(this.counters_,u)||(this.counters_[u]=0),this.counters_[u]+=c}get(){return(0,re.p$)(this.counters_)}}const _e={},ce={};function Ne(h){const u=h.toString();return _e[u]||(_e[u]=new he),_e[u]}class bt{constructor(u){this.onMessage_=u,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(u,c){this.closeAfterResponse=u,this.onClose=c,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(u,c){for(this.pendingResponses[u]=c;this.pendingResponses[this.currentResponseNum];){const m=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let D=0;D<m.length;++D)m[D]&&sr(()=>{this.onMessage_(m[D])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Ti{constructor(u,c,m,D,O,H,ne){this.connId=u,this.repoInfo=c,this.applicationId=m,this.appCheckToken=D,this.authToken=O,this.transportSessionId=H,this.lastSessionId=ne,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Pn(u),this.stats_=Ne(c),this.urlFn=ye=>(this.appCheckToken&&(ye.ac=this.appCheckToken),De(c,oe,ye))}open(u,c){this.curSegmentNum=0,this.onDisconnect_=c,this.myPacketOrderer=new bt(u),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(h){if((0,re.Yr)()||"complete"===document.readyState)h();else{let u=!1;const c=function(){document.body?u||(u=!0,h()):setTimeout(c,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",c,!1),window.addEventListener("load",c,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&c()}),window.attachEvent("onload",c))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new _i((...O)=>{const[H,ne,ye,Se,yt]=O;if(this.incrementIncomingBytes_(O),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===H)this.id=ne,this.password=ye;else{if("close"!==H)throw new Error("Unrecognized command received: "+H);ne?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(ne,()=>{this.onClosed_()})):this.onClosed_()}},(...O)=>{const[H,ne]=O;this.incrementIncomingBytes_(O),this.myPacketOrderer.handleResponse(H,ne)},()=>{this.onClosed_()},this.urlFn);const m={start:"t"};m.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(m.cb=this.scriptTagHolder.uniqueCallbackIdentifier),m.v="5",this.transportSessionId&&(m.s=this.transportSessionId),this.lastSessionId&&(m.ls=this.lastSessionId),this.applicationId&&(m.p=this.applicationId),this.appCheckToken&&(m.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&di.test(location.hostname)&&(m.r="f");const D=this.urlFn(m);this.log_("Connecting via long-poll to "+D),this.scriptTagHolder.addTag(D,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Ti.forceAllow_=!0}static forceDisallow(){Ti.forceDisallow_=!0}static isAvailable(){return!((0,re.Yr)()||!Ti.forceAllow_&&(Ti.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(u){const c=(0,re.Wl)(u);this.bytesSent+=c.length,this.stats_.incrementCounter("bytes_sent",c.length);const m=(0,re.h$)(c),D=xr(m,1840);for(let O=0;O<D.length;O++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,D.length,D[O]),this.curSegmentNum++}addDisconnectPingFrame(u,c){if((0,re.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const m={dframe:"t"};m.id=u,m.pw=c,this.myDisconnFrame.src=this.urlFn(m),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(u){const c=(0,re.Wl)(u).length;this.bytesReceived+=c,this.stats_.incrementCounter("bytes_received",c)}}class _i{constructor(u,c,m,D){if(this.onDisconnect=m,this.urlFn=D,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,re.Yr)())this.commandCB=u,this.onMessageCB=c;else{this.uniqueCallbackIdentifier=Me(),window["pLPCommand"+this.uniqueCallbackIdentifier]=u,window["pRTLPCB"+this.uniqueCallbackIdentifier]=c,this.myIFrame=_i.createIFrame_();let O="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(O='<script>document.domain="'+document.domain+'";<\/script>');const H="<html><body>"+O+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(H),this.myIFrame.doc.close()}catch(ne){zt("frame writing exception"),ne.stack&&zt(ne.stack),zt(ne)}}}static createIFrame_(){const u=document.createElement("iframe");if(u.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(u);try{u.contentWindow.document||zt("No IE domain setting required")}catch{const m=document.domain;u.src="javascript:void((function(){document.open();document.domain='"+m+"';document.close();})())"}return u.contentDocument?u.doc=u.contentDocument:u.contentWindow?u.doc=u.contentWindow.document:u.document&&(u.doc=u.document),u}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const u=this.onDisconnect;u&&(this.onDisconnect=null,u())}startLongPoll(u,c){for(this.myID=u,this.myPW=c,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const u={};u.id=this.myID,u.pw=this.myPW,u.ser=this.currentSerial;let c=this.urlFn(u),m="",D=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+m.length<=1870;){const H=this.pendingSegs.shift();m=m+"&seg"+D+"="+H.seg+"&ts"+D+"="+H.ts+"&d"+D+"="+H.d,D++}return c+=m,this.addLongPollTag_(c,this.currentSerial),!0}return!1}enqueueSegment(u,c,m){this.pendingSegs.push({seg:u,ts:c,d:m}),this.alive&&this.newRequest_()}addLongPollTag_(u,c){this.outstandingRequests.add(c);const m=()=>{this.outstandingRequests.delete(c),this.newRequest_()},D=setTimeout(m,Math.floor(25e3));this.addTag(u,()=>{clearTimeout(D),m()})}addTag(u,c){(0,re.Yr)()?this.doNodeLongPoll(u,c):setTimeout(()=>{try{if(!this.sendNewPolls)return;const m=this.myIFrame.doc.createElement("script");m.type="text/javascript",m.async=!0,m.src=u,m.onload=m.onreadystatechange=function(){const D=m.readyState;(!D||"loaded"===D||"complete"===D)&&(m.onload=m.onreadystatechange=null,m.parentNode&&m.parentNode.removeChild(m),c())},m.onerror=()=>{zt("Long-poll script failed to load: "+u),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(m)}catch{}},Math.floor(1))}}let mr=null;typeof MozWebSocket<"u"?mr=MozWebSocket:typeof WebSocket<"u"&&(mr=WebSocket);let Dr=(()=>{class h{constructor(c,m,D,O,H,ne,ye){this.connId=c,this.applicationId=D,this.appCheckToken=O,this.authToken=H,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Pn(this.connId),this.stats_=Ne(m),this.connURL=h.connectionURL_(m,ne,ye,O,D),this.nodeAdmin=m.nodeAdmin}static connectionURL_(c,m,D,O,H){const ne={v:"5"};return!(0,re.Yr)()&&typeof location<"u"&&location.hostname&&di.test(location.hostname)&&(ne.r="f"),m&&(ne.s=m),D&&(ne.ls=D),O&&(ne.ac=O),H&&(ne.p=H),De(c,Ee,ne)}open(c,m){this.onDisconnect=m,this.onMessage=c,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ke.set("previous_websocket_failure",!0);try{let D;if((0,re.Yr)()){D={headers:{"User-Agent":`Firebase/5/${Ut}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(D.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(D.headers["X-Firebase-AppCheck"]=this.appCheckToken);const H=process.env,ne=0===this.connURL.indexOf("wss://")?H.HTTPS_PROXY||H.https_proxy:H.HTTP_PROXY||H.http_proxy;ne&&(D.proxy={origin:ne})}this.mySock=new mr(this.connURL,[],D)}catch(D){this.log_("Error instantiating WebSocket.");const O=D.message||D.data;return O&&this.log_(O),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=D=>{this.handleIncomingFrame(D)},this.mySock.onerror=D=>{this.log_("WebSocket error.  Closing connection.");const O=D.message||D.data;O&&this.log_(O),this.onClosed_()}}start(){}static forceDisallow(){h.forceDisallow_=!0}static isAvailable(){let c=!1;if(typeof navigator<"u"&&navigator.userAgent){const D=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);D&&D.length>1&&parseFloat(D[1])<4.4&&(c=!0)}return!c&&null!==mr&&!h.forceDisallow_}static previouslyFailed(){return ke.isInMemoryStorage||!0===ke.get("previous_websocket_failure")}markConnectionHealthy(){ke.remove("previous_websocket_failure")}appendFrame_(c){if(this.frames.push(c),this.frames.length===this.totalFrames){const m=this.frames.join("");this.frames=null;const D=(0,re.cI)(m);this.onMessage(D)}}handleNewFrameCount_(c){this.totalFrames=c,this.frames=[]}extractFrameCount_(c){if((0,re.hu)(null===this.frames,"We already have a frame buffer"),c.length<=6){const m=Number(c);if(!isNaN(m))return this.handleNewFrameCount_(m),null}return this.handleNewFrameCount_(1),c}handleIncomingFrame(c){if(null===this.mySock)return;const m=c.data;if(this.bytesReceived+=m.length,this.stats_.incrementCounter("bytes_received",m.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(m);else{const D=this.extractFrameCount_(m);null!==D&&this.appendFrame_(D)}}send(c){this.resetKeepAlive();const m=(0,re.Wl)(c);this.bytesSent+=m.length,this.stats_.incrementCounter("bytes_sent",m.length);const D=xr(m,16384);D.length>1&&this.sendString_(String(D.length));for(let O=0;O<D.length;O++)this.sendString_(D[O])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(c){try{this.mySock.send(c)}catch(m){this.log_("Exception thrown from WebSocket.send():",m.message||m.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return h.responsesRequiredToBeHealthy=2,h.healthyTimeout=3e4,h})(),Fi=(()=>{class h{constructor(c){this.initTransports_(c)}static get ALL_TRANSPORTS(){return[Ti,Dr]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(c){const m=Dr&&Dr.isAvailable();let D=m&&!Dr.previouslyFailed();if(c.webSocketOnly&&(m||Un("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),D=!0),D)this.transports_=[Dr];else{const O=this.transports_=[];for(const H of h.ALL_TRANSPORTS)H&&H.isAvailable()&&O.push(H);h.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return h.globalTransportInitialized_=!1,h})();class vi{constructor(u,c,m,D,O,H,ne,ye,Se,yt){this.id=u,this.repoInfo_=c,this.applicationId_=m,this.appCheckToken_=D,this.authToken_=O,this.onMessage_=H,this.onReady_=ne,this.onDisconnect_=ye,this.onKill_=Se,this.lastSessionId=yt,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Pn("c:"+this.id+":"),this.transportManager_=new Fi(c),this.log_("Connection created"),this.start_()}start_(){const u=this.transportManager_.initialTransport();this.conn_=new u(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=u.responsesRequiredToBeHealthy||0;const c=this.connReceiver_(this.conn_),m=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(c,m)},Math.floor(0));const D=u.healthyTimeout||0;D>0&&(this.healthyTimeout_=Fn(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(D)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(u){return c=>{u===this.conn_?this.onConnectionLost_(c):u===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(u){return c=>{2!==this.state_&&(u===this.rx_?this.onPrimaryMessageReceived_(c):u===this.secondaryConn_?this.onSecondaryMessageReceived_(c):this.log_("message on old connection"))}}sendRequest(u){this.sendData_({t:"d",d:u})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(u){if("t"in u){const c=u.t;"a"===c?this.upgradeIfSecondaryHealthy_():"r"===c?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===c&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(u){const c=ar("t",u),m=ar("d",u);if("c"===c)this.onSecondaryControl_(m);else{if("d"!==c)throw new Error("Unknown protocol layer: "+c);this.pendingDataMessages.push(m)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(u){const c=ar("t",u),m=ar("d",u);"c"===c?this.onControl_(m):"d"===c&&this.onDataMessage_(m)}onDataMessage_(u){this.onPrimaryResponse_(),this.onMessage_(u)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(u){const c=ar("t",u);if("d"in u){const m=u.d;if("h"===c){const D=Object.assign({},m);this.repoInfo_.isUsingEmulator&&(D.h=this.repoInfo_.host),this.onHandshake_(D)}else if("n"===c){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let D=0;D<this.pendingDataMessages.length;++D)this.onDataMessage_(this.pendingDataMessages[D]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===c?this.onConnectionShutdown_(m):"r"===c?this.onReset_(m):"e"===c?_r("Server Error: "+m):"o"===c?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):_r("Unknown control packet command: "+c)}}onHandshake_(u){const c=u.ts,m=u.v,D=u.h;this.sessionId=u.s,this.repoInfo_.host=D,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,c),"5"!==m&&Un("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const u=this.transportManager_.upgradeTransport();u&&this.startUpgrade_(u)}startUpgrade_(u){this.secondaryConn_=new u(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=u.responsesRequiredToBeHealthy||0;const c=this.connReceiver_(this.secondaryConn_),m=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(c,m),Fn(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(u){this.log_("Reset packet received.  New host: "+u),this.repoInfo_.host=u,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(u,c){this.log_("Realtime connection established."),this.conn_=u,this.state_=1,this.onReady_&&(this.onReady_(c,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Fn(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const u=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===u||this.rx_===u)&&this.close()}onConnectionLost_(u){this.conn_=null,u||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ke.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(u){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(u),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(u){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(u)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class Ki{put(u,c,m,D){}merge(u,c,m,D){}refreshAuthToken(u){}refreshAppCheckToken(u){}onDisconnectPut(u,c,m){}onDisconnectMerge(u,c,m){}onDisconnectCancel(u,c){}reportStats(u){}}class ti{constructor(u){this.allowedEvents_=u,this.listeners_={},(0,re.hu)(Array.isArray(u)&&u.length>0,"Requires a non-empty array")}trigger(u,...c){if(Array.isArray(this.listeners_[u])){const m=[...this.listeners_[u]];for(let D=0;D<m.length;D++)m[D].callback.apply(m[D].context,c)}}on(u,c,m){this.validateEventType_(u),this.listeners_[u]=this.listeners_[u]||[],this.listeners_[u].push({callback:c,context:m});const D=this.getInitialEvent(u);D&&c.apply(m,D)}off(u,c,m){this.validateEventType_(u);const D=this.listeners_[u]||[];for(let O=0;O<D.length;O++)if(D[O].callback===c&&(!m||m===D[O].context))return void D.splice(O,1)}validateEventType_(u){(0,re.hu)(this.allowedEvents_.find(c=>c===u),"Unknown event: "+u)}}class os extends ti{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,re.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new os}getInitialEvent(u){return(0,re.hu)("online"===u,"Unknown event type: "+u),[this.online_]}currentlyOnline(){return this.online_}}const Co=32,Ps=768;class Tr{constructor(u,c){if(void 0===c){this.pieces_=u.split("/");let m=0;for(let D=0;D<this.pieces_.length;D++)this.pieces_[D].length>0&&(this.pieces_[m]=this.pieces_[D],m++);this.pieces_.length=m,this.pieceNum_=0}else this.pieces_=u,this.pieceNum_=c}toString(){let u="";for(let c=this.pieceNum_;c<this.pieces_.length;c++)""!==this.pieces_[c]&&(u+="/"+this.pieces_[c]);return u||"/"}}function ur(){return new Tr("")}function zn(h){return h.pieceNum_>=h.pieces_.length?null:h.pieces_[h.pieceNum_]}function ii(h){return h.pieces_.length-h.pieceNum_}function Gr(h){let u=h.pieceNum_;return u<h.pieces_.length&&u++,new Tr(h.pieces_,u)}function Ji(h){return h.pieceNum_<h.pieces_.length?h.pieces_[h.pieces_.length-1]:null}function Ts(h,u=0){return h.pieces_.slice(h.pieceNum_+u)}function Do(h){if(h.pieceNum_>=h.pieces_.length)return null;const u=[];for(let c=h.pieceNum_;c<h.pieces_.length-1;c++)u.push(h.pieces_[c]);return new Tr(u,0)}function Lr(h,u){const c=[];for(let m=h.pieceNum_;m<h.pieces_.length;m++)c.push(h.pieces_[m]);if(u instanceof Tr)for(let m=u.pieceNum_;m<u.pieces_.length;m++)c.push(u.pieces_[m]);else{const m=u.split("/");for(let D=0;D<m.length;D++)m[D].length>0&&c.push(m[D])}return new Tr(c,0)}function $n(h){return h.pieceNum_>=h.pieces_.length}function Si(h,u){const c=zn(h),m=zn(u);if(null===c)return u;if(c===m)return Si(Gr(h),Gr(u));throw new Error("INTERNAL ERROR: innerPath ("+u+") is not within outerPath ("+h+")")}function no(h,u){const c=Ts(h,0),m=Ts(u,0);for(let D=0;D<c.length&&D<m.length;D++){const O=Ht(c[D],m[D]);if(0!==O)return O}return c.length===m.length?0:c.length<m.length?-1:1}function Us(h,u){if(ii(h)!==ii(u))return!1;for(let c=h.pieceNum_,m=u.pieceNum_;c<=h.pieces_.length;c++,m++)if(h.pieces_[c]!==u.pieces_[m])return!1;return!0}function Ei(h,u){let c=h.pieceNum_,m=u.pieceNum_;if(ii(h)>ii(u))return!1;for(;c<h.pieces_.length;){if(h.pieces_[c]!==u.pieces_[m])return!1;++c,++m}return!0}class Ca{constructor(u,c){this.errorPrefix_=c,this.parts_=Ts(u,0),this.byteLength_=Math.max(1,this.parts_.length);for(let m=0;m<this.parts_.length;m++)this.byteLength_+=(0,re.ug)(this.parts_[m]);ta(this)}}function ta(h){if(h.byteLength_>Ps)throw new Error(h.errorPrefix_+"has a key path longer than "+Ps+" bytes ("+h.byteLength_+").");if(h.parts_.length>Co)throw new Error(h.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Co+") or object contains a cycle "+ro(h))}function ro(h){return 0===h.parts_.length?"":"in property '"+h.parts_.join(".")+"'"}class qs extends ti{constructor(){let u,c;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(c="visibilitychange",u="hidden"):typeof document.mozHidden<"u"?(c="mozvisibilitychange",u="mozHidden"):typeof document.msHidden<"u"?(c="msvisibilitychange",u="msHidden"):typeof document.webkitHidden<"u"&&(c="webkitvisibilitychange",u="webkitHidden")),this.visible_=!0,c&&document.addEventListener(c,()=>{const m=!document[u];m!==this.visible_&&(this.visible_=m,this.trigger("visible",m))},!1)}static getInstance(){return new qs}getInitialEvent(u){return(0,re.hu)("visible"===u,"Unknown event type: "+u),[this.visible_]}}const $i=1e3;let Te,Z=(()=>{class h extends Ki{constructor(c,m,D,O,H,ne,ye,Se){if(super(),this.repoInfo_=c,this.applicationId_=m,this.onDataUpdate_=D,this.onConnectStatus_=O,this.onServerInfoUpdate_=H,this.authTokenProvider_=ne,this.appCheckTokenProvider_=ye,this.authOverride_=Se,this.id=h.nextPersistentConnectionId_++,this.log_=Pn("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=$i,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,Se&&!(0,re.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");qs.getInstance().on("visible",this.onVisible_,this),-1===c.host.indexOf("fblocal")&&os.getInstance().on("online",this.onOnline_,this)}sendRequest(c,m,D){const O=++this.requestNumber_,H={r:O,a:c,b:m};this.log_((0,re.Wl)(H)),(0,re.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(H),D&&(this.requestCBHash_[O]=D)}get(c){this.initConnection_();const m=new re.BH,O={action:"g",request:{p:c._path.toString(),q:c._queryObject},onComplete:ne=>{const ye=ne.d;"ok"===ne.s?m.resolve(ye):m.reject(ye)}};return this.outstandingGets_.push(O),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),m.promise}listen(c,m,D,O){this.initConnection_();const H=c._queryIdentifier,ne=c._path.toString();this.log_("Listen called for "+ne+" "+H),this.listens.has(ne)||this.listens.set(ne,new Map),(0,re.hu)(c._queryParams.isDefault()||!c._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,re.hu)(!this.listens.get(ne).has(H),"listen() called twice for same path/queryId.");const ye={onComplete:O,hashFn:m,query:c,tag:D};this.listens.get(ne).set(H,ye),this.connected_&&this.sendListen_(ye)}sendGet_(c){const m=this.outstandingGets_[c];this.sendRequest("g",m.request,D=>{delete this.outstandingGets_[c],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),m.onComplete&&m.onComplete(D)})}sendListen_(c){const m=c.query,D=m._path.toString(),O=m._queryIdentifier;this.log_("Listen on "+D+" for "+O);const H={p:D};c.tag&&(H.q=m._queryObject,H.t=c.tag),H.h=c.hashFn(),this.sendRequest("q",H,ye=>{const Se=ye.d,yt=ye.s;h.warnOnListenWarnings_(Se,m),(this.listens.get(D)&&this.listens.get(D).get(O))===c&&(this.log_("listen response",ye),"ok"!==yt&&this.removeListen_(D,O),c.onComplete&&c.onComplete(yt,Se))})}static warnOnListenWarnings_(c,m){if(c&&"object"==typeof c&&(0,re.r3)(c,"w")){const D=(0,re.DV)(c,"w");if(Array.isArray(D)&&~D.indexOf("no_index")){const O='".indexOn": "'+m._queryParams.getIndex().toString()+'"',H=m._path.toString();Un(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${O} at ${H} to your security rules for better performance.`)}}}refreshAuthToken(c){this.authToken_=c,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(c)}reduceReconnectDelayIfAdminCredential_(c){(c&&40===c.length||(0,re.GJ)(c))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(c){this.appCheckToken_=c,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const c=this.authToken_,m=(0,re.w9)(c)?"auth":"gauth",D={cred:c};null===this.authOverride_?D.noauth=!0:"object"==typeof this.authOverride_&&(D.authvar=this.authOverride_),this.sendRequest(m,D,O=>{const H=O.s,ne=O.d||"error";this.authToken_===c&&("ok"===H?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(H,ne))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},c=>{const m=c.s,D=c.d||"error";"ok"===m?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(m,D)})}unlisten(c,m){const D=c._path.toString(),O=c._queryIdentifier;this.log_("Unlisten called for "+D+" "+O),(0,re.hu)(c._queryParams.isDefault()||!c._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(D,O)&&this.connected_&&this.sendUnlisten_(D,O,c._queryObject,m)}sendUnlisten_(c,m,D,O){this.log_("Unlisten on "+c+" for "+m);const H={p:c};O&&(H.q=D,H.t=O),this.sendRequest("n",H)}onDisconnectPut(c,m,D){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",c,m,D):this.onDisconnectRequestQueue_.push({pathString:c,action:"o",data:m,onComplete:D})}onDisconnectMerge(c,m,D){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",c,m,D):this.onDisconnectRequestQueue_.push({pathString:c,action:"om",data:m,onComplete:D})}onDisconnectCancel(c,m){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",c,null,m):this.onDisconnectRequestQueue_.push({pathString:c,action:"oc",data:null,onComplete:m})}sendOnDisconnect_(c,m,D,O){const H={p:m,d:D};this.log_("onDisconnect "+c,H),this.sendRequest(c,H,ne=>{O&&setTimeout(()=>{O(ne.s,ne.d)},Math.floor(0))})}put(c,m,D,O){this.putInternal("p",c,m,D,O)}merge(c,m,D,O){this.putInternal("m",c,m,D,O)}putInternal(c,m,D,O,H){this.initConnection_();const ne={p:m,d:D};void 0!==H&&(ne.h=H),this.outstandingPuts_.push({action:c,request:ne,onComplete:O}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+m)}sendPut_(c){const m=this.outstandingPuts_[c].action,D=this.outstandingPuts_[c].request,O=this.outstandingPuts_[c].onComplete;this.outstandingPuts_[c].queued=this.connected_,this.sendRequest(m,D,H=>{this.log_(m+" response",H),delete this.outstandingPuts_[c],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),O&&O(H.s,H.d)})}reportStats(c){if(this.connected_){const m={c};this.log_("reportStats",m),this.sendRequest("s",m,D=>{"ok"!==D.s&&this.log_("reportStats","Error sending stats: "+D.d)})}}onDataMessage_(c){if("r"in c){this.log_("from server: "+(0,re.Wl)(c));const m=c.r,D=this.requestCBHash_[m];D&&(delete this.requestCBHash_[m],D(c.b))}else{if("error"in c)throw"A server-side error has occurred: "+c.error;"a"in c&&this.onDataPush_(c.a,c.b)}}onDataPush_(c,m){this.log_("handleServerMessage",c,m),"d"===c?this.onDataUpdate_(m.p,m.d,!1,m.t):"m"===c?this.onDataUpdate_(m.p,m.d,!0,m.t):"c"===c?this.onListenRevoked_(m.p,m.q):"ac"===c?this.onAuthRevoked_(m.s,m.d):"apc"===c?this.onAppCheckRevoked_(m.s,m.d):"sd"===c?this.onSecurityDebugPacket_(m):_r("Unrecognized action received from server: "+(0,re.Wl)(c)+"\nAre you using the latest client?")}onReady_(c,m){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(c),this.lastSessionId=m,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(c){(0,re.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(c))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(c){c&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=$i,this.realtime_||this.scheduleConnect_(0)),this.visible_=c}onOnline_(c){c?(this.log_("Browser went online."),this.reconnectDelay_=$i,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=$i),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const c=(new Date).getTime()-this.lastConnectionAttemptTime_;let m=Math.max(0,this.reconnectDelay_-c);m=Math.random()*m,this.log_("Trying to reconnect in "+m+"ms"),this.scheduleConnect_(m),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var c=this;return(0,ot.Z)(function*(){if(c.shouldReconnect_()){c.log_("Making a connection attempt"),c.lastConnectionAttemptTime_=(new Date).getTime(),c.lastConnectionEstablishedTime_=null;const m=c.onDataMessage_.bind(c),D=c.onReady_.bind(c),O=c.onRealtimeDisconnect_.bind(c),H=c.id+":"+h.nextConnectionId_++,ne=c.lastSessionId;let ye=!1,Se=null;const yt=function(){Se?Se.close():(ye=!0,O())};c.realtime_={close:yt,sendRequest:function(_n){(0,re.hu)(Se,"sendRequest call when we're not connected not allowed."),Se.sendRequest(_n)}};const Rt=c.forceTokenRefresh_;c.forceTokenRefresh_=!1;try{const[_n,Jn]=yield Promise.all([c.authTokenProvider_.getToken(Rt),c.appCheckTokenProvider_.getToken(Rt)]);ye?zt("getToken() completed but was canceled"):(zt("getToken() completed. Creating connection."),c.authToken_=_n&&_n.accessToken,c.appCheckToken_=Jn&&Jn.token,Se=new vi(H,c.repoInfo_,c.applicationId_,c.appCheckToken_,c.authToken_,m,D,O,Bi=>{Un(Bi+" ("+c.repoInfo_.toString()+")"),c.interrupt("server_kill")},ne))}catch(_n){c.log_("Failed to get token: "+_n),ye||(c.repoInfo_.nodeAdmin&&Un(_n),yt())}}})()}interrupt(c){zt("Interrupting connection for reason: "+c),this.interruptReasons_[c]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(c){zt("Resuming connection for reason: "+c),delete this.interruptReasons_[c],(0,re.xb)(this.interruptReasons_)&&(this.reconnectDelay_=$i,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(c){const m=c-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:m})}cancelSentTransactions_(){for(let c=0;c<this.outstandingPuts_.length;c++){const m=this.outstandingPuts_[c];m&&"h"in m.request&&m.queued&&(m.onComplete&&m.onComplete("disconnect"),delete this.outstandingPuts_[c],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(c,m){let D;D=m?m.map(H=>kr(H)).join("$"):"default";const O=this.removeListen_(c,D);O&&O.onComplete&&O.onComplete("permission_denied")}removeListen_(c,m){const D=new Tr(c).toString();let O;if(this.listens.has(D)){const H=this.listens.get(D);O=H.get(m),H.delete(m),0===H.size&&this.listens.delete(D)}else O=void 0;return O}onAuthRevoked_(c,m){zt("Auth token revoked: "+c+"/"+m),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===c||"permission_denied"===c)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(c,m){zt("App check token revoked: "+c+"/"+m),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===c||"permission_denied"===c)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(c){this.securityDebugCallback_?this.securityDebugCallback_(c):"msg"in c&&console.log("FIREBASE: "+c.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const c of this.listens.values())for(const m of c.values())this.sendListen_(m);for(let c=0;c<this.outstandingPuts_.length;c++)this.outstandingPuts_[c]&&this.sendPut_(c);for(;this.onDisconnectRequestQueue_.length;){const c=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(c.action,c.pathString,c.data,c.onComplete)}for(let c=0;c<this.outstandingGets_.length;c++)this.outstandingGets_[c]&&this.sendGet_(c)}sendConnectStats_(){const c={};let m="js";(0,re.Yr)()&&(m=this.repoInfo_.nodeAdmin?"admin_node":"node"),c["sdk."+m+"."+Ut.replace(/\./g,"-")]=1,(0,re.uI)()?c["framework.cordova"]=1:(0,re.b$)()&&(c["framework.reactnative"]=1),this.reportStats(c)}shouldReconnect_(){const c=os.getInstance().currentlyOnline();return(0,re.xb)(this.interruptReasons_)&&c}}return h.nextPersistentConnectionId_=0,h.nextConnectionId_=0,h})();class z{constructor(u,c){this.name=u,this.node=c}static Wrap(u,c){return new z(u,c)}}class we{getCompare(){return this.compare.bind(this)}indexedValueChanged(u,c){const m=new z(Or,u),D=new z(Or,c);return 0!==this.compare(m,D)}minPost(){return z.MIN}}class We extends we{static get __EMPTY_NODE(){return Te}static set __EMPTY_NODE(u){Te=u}compare(u,c){return Ht(u.name,c.name)}isDefinedOn(u){throw(0,re.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(u,c){return!1}minPost(){return z.MIN}maxPost(){return new z(Tn,Te)}makePost(u,c){return(0,re.hu)("string"==typeof u,"KeyIndex indexValue must always be a string."),new z(u,Te)}toString(){return".key"}}const _t=new We;class $t{constructor(u,c,m,D,O=null){this.isReverse_=D,this.resultGenerator_=O,this.nodeStack_=[];let H=1;for(;!u.isEmpty();)if(H=c?m(u.key,c):1,D&&(H*=-1),H<0)u=this.isReverse_?u.left:u.right;else{if(0===H){this.nodeStack_.push(u);break}this.nodeStack_.push(u),u=this.isReverse_?u.right:u.left}}getNext(){if(0===this.nodeStack_.length)return null;let c,u=this.nodeStack_.pop();if(c=this.resultGenerator_?this.resultGenerator_(u.key,u.value):{key:u.key,value:u.value},this.isReverse_)for(u=u.left;!u.isEmpty();)this.nodeStack_.push(u),u=u.right;else for(u=u.right;!u.isEmpty();)this.nodeStack_.push(u),u=u.left;return c}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const u=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(u.key,u.value):{key:u.key,value:u.value}}}let zr,tn=(()=>{class h{constructor(c,m,D,O,H){this.key=c,this.value=m,this.color=D??h.RED,this.left=O??Sn.EMPTY_NODE,this.right=H??Sn.EMPTY_NODE}copy(c,m,D,O,H){return new h(c??this.key,m??this.value,D??this.color,O??this.left,H??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(c){return this.left.inorderTraversal(c)||!!c(this.key,this.value)||this.right.inorderTraversal(c)}reverseTraversal(c){return this.right.reverseTraversal(c)||c(this.key,this.value)||this.left.reverseTraversal(c)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(c,m,D){let O=this;const H=D(c,O.key);return O=H<0?O.copy(null,null,null,O.left.insert(c,m,D),null):0===H?O.copy(null,m,null,null,null):O.copy(null,null,null,null,O.right.insert(c,m,D)),O.fixUp_()}removeMin_(){if(this.left.isEmpty())return Sn.EMPTY_NODE;let c=this;return!c.left.isRed_()&&!c.left.left.isRed_()&&(c=c.moveRedLeft_()),c=c.copy(null,null,null,c.left.removeMin_(),null),c.fixUp_()}remove(c,m){let D,O;if(D=this,m(c,D.key)<0)!D.left.isEmpty()&&!D.left.isRed_()&&!D.left.left.isRed_()&&(D=D.moveRedLeft_()),D=D.copy(null,null,null,D.left.remove(c,m),null);else{if(D.left.isRed_()&&(D=D.rotateRight_()),!D.right.isEmpty()&&!D.right.isRed_()&&!D.right.left.isRed_()&&(D=D.moveRedRight_()),0===m(c,D.key)){if(D.right.isEmpty())return Sn.EMPTY_NODE;O=D.right.min_(),D=D.copy(O.key,O.value,null,null,D.right.removeMin_())}D=D.copy(null,null,null,null,D.right.remove(c,m))}return D.fixUp_()}isRed_(){return this.color}fixUp_(){let c=this;return c.right.isRed_()&&!c.left.isRed_()&&(c=c.rotateLeft_()),c.left.isRed_()&&c.left.left.isRed_()&&(c=c.rotateRight_()),c.left.isRed_()&&c.right.isRed_()&&(c=c.colorFlip_()),c}moveRedLeft_(){let c=this.colorFlip_();return c.right.left.isRed_()&&(c=c.copy(null,null,null,null,c.right.rotateRight_()),c=c.rotateLeft_(),c=c.colorFlip_()),c}moveRedRight_(){let c=this.colorFlip_();return c.left.left.isRed_()&&(c=c.rotateRight_(),c=c.colorFlip_()),c}rotateLeft_(){const c=this.copy(null,null,h.RED,null,this.right.left);return this.right.copy(null,null,this.color,c,null)}rotateRight_(){const c=this.copy(null,null,h.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,c)}colorFlip_(){const c=this.left.copy(null,null,!this.left.color,null,null),m=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,c,m)}checkMaxDepth_(){const c=this.check_();return Math.pow(2,c)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const c=this.left.check_();if(c!==this.right.check_())throw new Error("Black depths differ");return c+(this.isRed_()?0:1)}}return h.RED=!0,h.BLACK=!1,h})();class Sn{constructor(u,c=Sn.EMPTY_NODE){this.comparator_=u,this.root_=c}insert(u,c){return new Sn(this.comparator_,this.root_.insert(u,c,this.comparator_).copy(null,null,tn.BLACK,null,null))}remove(u){return new Sn(this.comparator_,this.root_.remove(u,this.comparator_).copy(null,null,tn.BLACK,null,null))}get(u){let c,m=this.root_;for(;!m.isEmpty();){if(c=this.comparator_(u,m.key),0===c)return m.value;c<0?m=m.left:c>0&&(m=m.right)}return null}getPredecessorKey(u){let c,m=this.root_,D=null;for(;!m.isEmpty();){if(c=this.comparator_(u,m.key),0===c){if(m.left.isEmpty())return D?D.key:null;for(m=m.left;!m.right.isEmpty();)m=m.right;return m.key}c<0?m=m.left:c>0&&(D=m,m=m.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(u){return this.root_.inorderTraversal(u)}reverseTraversal(u){return this.root_.reverseTraversal(u)}getIterator(u){return new $t(this.root_,null,this.comparator_,!1,u)}getIteratorFrom(u,c){return new $t(this.root_,u,this.comparator_,!1,c)}getReverseIteratorFrom(u,c){return new $t(this.root_,u,this.comparator_,!0,c)}getReverseIterator(u){return new $t(this.root_,null,this.comparator_,!0,u)}}function ir(h,u){return Ht(h.name,u.name)}function fi(h,u){return Ht(h,u)}Sn.EMPTY_NODE=new class hn{copy(u,c,m,D,O){return this}insert(u,c,m){return new tn(u,c,null)}remove(u,c){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(u){return!1}reverseTraversal(u){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const si=function(h){return"number"==typeof h?"number:"+Zn(h):"string:"+h},Sr=function(h){if(h.isLeafNode()){const u=h.val();(0,re.hu)("string"==typeof u||"number"==typeof u||"object"==typeof u&&(0,re.r3)(u,".sv"),"Priority must be a string or number.")}else(0,re.hu)(h===zr||h.isEmpty(),"priority of unexpected type.");(0,re.hu)(h===zr||h.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let wi,Wr,bi,Ni=(()=>{class h{constructor(c,m=h.__childrenNodeConstructor.EMPTY_NODE){this.value_=c,this.priorityNode_=m,this.lazyHash_=null,(0,re.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),Sr(this.priorityNode_)}static set __childrenNodeConstructor(c){wi=c}static get __childrenNodeConstructor(){return wi}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(c){return new h(this.value_,c)}getImmediateChild(c){return".priority"===c?this.priorityNode_:h.__childrenNodeConstructor.EMPTY_NODE}getChild(c){return $n(c)?this:".priority"===zn(c)?this.priorityNode_:h.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(c,m){return null}updateImmediateChild(c,m){return".priority"===c?this.updatePriority(m):m.isEmpty()&&".priority"!==c?this:h.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(c,m).updatePriority(this.priorityNode_)}updateChild(c,m){const D=zn(c);return null===D?m:m.isEmpty()&&".priority"!==D?this:((0,re.hu)(".priority"!==D||1===ii(c),".priority must be the last token in a path"),this.updateImmediateChild(D,h.__childrenNodeConstructor.EMPTY_NODE.updateChild(Gr(c),m)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(c,m){return!1}val(c){return c&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let c="";this.priorityNode_.isEmpty()||(c+="priority:"+si(this.priorityNode_.val())+":");const m=typeof this.value_;c+=m+":",c+="number"===m?Zn(this.value_):this.value_,this.lazyHash_=Xe(c)}return this.lazyHash_}getValue(){return this.value_}compareTo(c){return c===h.__childrenNodeConstructor.EMPTY_NODE?1:c instanceof h.__childrenNodeConstructor?-1:((0,re.hu)(c.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(c))}compareToLeafNode_(c){const m=typeof c.value_,D=typeof this.value_,O=h.VALUE_TYPE_ORDER.indexOf(m),H=h.VALUE_TYPE_ORDER.indexOf(D);return(0,re.hu)(O>=0,"Unknown leaf type: "+m),(0,re.hu)(H>=0,"Unknown leaf type: "+D),O===H?"object"===D?0:this.value_<c.value_?-1:this.value_===c.value_?0:1:H-O}withIndex(){return this}isIndexed(){return!0}equals(c){return c===this||!!c.isLeafNode()&&(this.value_===c.value_&&this.priorityNode_.equals(c.priorityNode_))}}return h.VALUE_TYPE_ORDER=["object","boolean","number","string"],h})();const Vr=new class bo extends we{compare(u,c){const m=u.node.getPriority(),D=c.node.getPriority(),O=m.compareTo(D);return 0===O?Ht(u.name,c.name):O}isDefinedOn(u){return!u.getPriority().isEmpty()}indexedValueChanged(u,c){return!u.getPriority().equals(c.getPriority())}minPost(){return z.MIN}maxPost(){return new z(Tn,new Ni("[PRIORITY-POST]",bi))}makePost(u,c){const m=Wr(u);return new z(c,new Ni("[PRIORITY-POST]",m))}toString(){return".priority"}},qi=Math.log(2);class Yi{constructor(u){this.count=parseInt(Math.log(u+1)/qi,10),this.current_=this.count-1;const D=(O=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=u+1&D}nextBitIsOne(){const u=!(this.bits_&1<<this.current_);return this.current_--,u}}const Ao=function(h,u,c,m){h.sort(u);const D=function(ye,Se){const yt=Se-ye;let Ct,Rt;if(0===yt)return null;if(1===yt)return Ct=h[ye],Rt=c?c(Ct):Ct,new tn(Rt,Ct.node,tn.BLACK,null,null);{const _n=parseInt(yt/2,10)+ye,Jn=D(ye,_n),Bi=D(_n+1,Se);return Ct=h[_n],Rt=c?c(Ct):Ct,new tn(Rt,Ct.node,tn.BLACK,Jn,Bi)}},ne=function(ye){let Se=null,yt=null,Ct=h.length;const Rt=function(Jn,Bi){const Vo=Ct-Jn,Hl=Ct;Ct-=Jn;const Rl=D(Vo+1,Hl),Gl=h[Vo],Yu=c?c(Gl):Gl;_n(new tn(Yu,Gl.node,Bi,null,Rl))},_n=function(Jn){Se?(Se.left=Jn,Se=Jn):(yt=Jn,Se=Jn)};for(let Jn=0;Jn<ye.count;++Jn){const Bi=ye.nextBitIsOne(),Vo=Math.pow(2,ye.count-(Jn+1));Bi?Rt(Vo,tn.BLACK):(Rt(Vo,tn.BLACK),Rt(Vo,tn.RED))}return yt}(new Yi(h.length));return new Sn(m||u,ne)};let xs;const es={};class ts{constructor(u,c){this.indexes_=u,this.indexSet_=c}static get Default(){return(0,re.hu)(es&&Vr,"ChildrenNode.ts has not been loaded"),xs=xs||new ts({".priority":es},{".priority":Vr}),xs}get(u){const c=(0,re.DV)(this.indexes_,u);if(!c)throw new Error("No index defined for "+u);return c instanceof Sn?c:null}hasIndex(u){return(0,re.r3)(this.indexSet_,u.toString())}addIndex(u,c){(0,re.hu)(u!==_t,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const m=[];let D=!1;const O=c.getIterator(z.Wrap);let ne,H=O.getNext();for(;H;)D=D||u.isDefinedOn(H.node),m.push(H),H=O.getNext();ne=D?Ao(m,u.getCompare()):es;const ye=u.toString(),Se=Object.assign({},this.indexSet_);Se[ye]=u;const yt=Object.assign({},this.indexes_);return yt[ye]=ne,new ts(yt,Se)}addToIndexes(u,c){const m=(0,re.UI)(this.indexes_,(D,O)=>{const H=(0,re.DV)(this.indexSet_,O);if((0,re.hu)(H,"Missing index implementation for "+O),D===es){if(H.isDefinedOn(u.node)){const ne=[],ye=c.getIterator(z.Wrap);let Se=ye.getNext();for(;Se;)Se.name!==u.name&&ne.push(Se),Se=ye.getNext();return ne.push(u),Ao(ne,H.getCompare())}return es}{const ne=c.get(u.name);let ye=D;return ne&&(ye=ye.remove(new z(u.name,ne))),ye.insert(u,u.node)}});return new ts(m,this.indexSet_)}removeFromIndexes(u,c){const m=(0,re.UI)(this.indexes_,D=>{if(D===es)return D;{const O=c.get(u.name);return O?D.remove(new z(u.name,O)):D}});return new ts(m,this.indexSet_)}}let vs,qn=(()=>{class h{constructor(c,m,D){this.children_=c,this.priorityNode_=m,this.indexMap_=D,this.lazyHash_=null,this.priorityNode_&&Sr(this.priorityNode_),this.children_.isEmpty()&&(0,re.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return vs||(vs=new h(new Sn(fi),null,ts.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||vs}updatePriority(c){return this.children_.isEmpty()?this:new h(this.children_,c,this.indexMap_)}getImmediateChild(c){if(".priority"===c)return this.getPriority();{const m=this.children_.get(c);return null===m?vs:m}}getChild(c){const m=zn(c);return null===m?this:this.getImmediateChild(m).getChild(Gr(c))}hasChild(c){return null!==this.children_.get(c)}updateImmediateChild(c,m){if((0,re.hu)(m,"We should always be passing snapshot nodes"),".priority"===c)return this.updatePriority(m);{const D=new z(c,m);let O,H;m.isEmpty()?(O=this.children_.remove(c),H=this.indexMap_.removeFromIndexes(D,this.children_)):(O=this.children_.insert(c,m),H=this.indexMap_.addToIndexes(D,this.children_));const ne=O.isEmpty()?vs:this.priorityNode_;return new h(O,ne,H)}}updateChild(c,m){const D=zn(c);if(null===D)return m;{(0,re.hu)(".priority"!==zn(c)||1===ii(c),".priority must be the last token in a path");const O=this.getImmediateChild(D).updateChild(Gr(c),m);return this.updateImmediateChild(D,O)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(c){if(this.isEmpty())return null;const m={};let D=0,O=0,H=!0;if(this.forEachChild(Vr,(ne,ye)=>{m[ne]=ye.val(c),D++,H&&h.INTEGER_REGEXP_.test(ne)?O=Math.max(O,Number(ne)):H=!1}),!c&&H&&O<2*D){const ne=[];for(const ye in m)ne[ye]=m[ye];return ne}return c&&!this.getPriority().isEmpty()&&(m[".priority"]=this.getPriority().val()),m}hash(){if(null===this.lazyHash_){let c="";this.getPriority().isEmpty()||(c+="priority:"+si(this.getPriority().val())+":"),this.forEachChild(Vr,(m,D)=>{const O=D.hash();""!==O&&(c+=":"+m+":"+O)}),this.lazyHash_=""===c?"":Xe(c)}return this.lazyHash_}getPredecessorChildName(c,m,D){const O=this.resolveIndex_(D);if(O){const H=O.getPredecessorKey(new z(c,m));return H?H.name:null}return this.children_.getPredecessorKey(c)}getFirstChildName(c){const m=this.resolveIndex_(c);if(m){const D=m.minKey();return D&&D.name}return this.children_.minKey()}getFirstChild(c){const m=this.getFirstChildName(c);return m?new z(m,this.children_.get(m)):null}getLastChildName(c){const m=this.resolveIndex_(c);if(m){const D=m.maxKey();return D&&D.name}return this.children_.maxKey()}getLastChild(c){const m=this.getLastChildName(c);return m?new z(m,this.children_.get(m)):null}forEachChild(c,m){const D=this.resolveIndex_(c);return D?D.inorderTraversal(O=>m(O.name,O.node)):this.children_.inorderTraversal(m)}getIterator(c){return this.getIteratorFrom(c.minPost(),c)}getIteratorFrom(c,m){const D=this.resolveIndex_(m);if(D)return D.getIteratorFrom(c,O=>O);{const O=this.children_.getIteratorFrom(c.name,z.Wrap);let H=O.peek();for(;null!=H&&m.compare(H,c)<0;)O.getNext(),H=O.peek();return O}}getReverseIterator(c){return this.getReverseIteratorFrom(c.maxPost(),c)}getReverseIteratorFrom(c,m){const D=this.resolveIndex_(m);if(D)return D.getReverseIteratorFrom(c,O=>O);{const O=this.children_.getReverseIteratorFrom(c.name,z.Wrap);let H=O.peek();for(;null!=H&&m.compare(H,c)>0;)O.getNext(),H=O.peek();return O}}compareTo(c){return this.isEmpty()?c.isEmpty()?0:-1:c.isLeafNode()||c.isEmpty()?1:c===Ys?-1:0}withIndex(c){if(c===_t||this.indexMap_.hasIndex(c))return this;{const m=this.indexMap_.addIndex(c,this.children_);return new h(this.children_,this.priorityNode_,m)}}isIndexed(c){return c===_t||this.indexMap_.hasIndex(c)}equals(c){if(c===this)return!0;if(c.isLeafNode())return!1;{const m=c;if(this.getPriority().equals(m.getPriority())){if(this.children_.count()===m.children_.count()){const D=this.getIterator(Vr),O=m.getIterator(Vr);let H=D.getNext(),ne=O.getNext();for(;H&&ne;){if(H.name!==ne.name||!H.node.equals(ne.node))return!1;H=D.getNext(),ne=O.getNext()}return null===H&&null===ne}return!1}return!1}}resolveIndex_(c){return c===_t?null:this.indexMap_.get(c.toString())}}return h.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,h})();const Ys=new class Yn extends qn{constructor(){super(new Sn(fi),qn.EMPTY_NODE,ts.Default)}compareTo(u){return u===this?0:1}equals(u){return u===this}getPriority(){return this}getImmediateChild(u){return qn.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(z,{MIN:{value:new z(Or,qn.EMPTY_NODE)},MAX:{value:new z(Tn,Ys)}}),We.__EMPTY_NODE=qn.EMPTY_NODE,Ni.__childrenNodeConstructor=qn,function pi(h){zr=h}(Ys),function Ui(h){bi=h}(Ys);const Da=!0;function tr(h,u=null){if(null===h)return qn.EMPTY_NODE;if("object"==typeof h&&".priority"in h&&(u=h[".priority"]),(0,re.hu)(null===u||"string"==typeof u||"number"==typeof u||"object"==typeof u&&".sv"in u,"Invalid priority type found: "+typeof u),"object"==typeof h&&".value"in h&&null!==h[".value"]&&(h=h[".value"]),"object"!=typeof h||".sv"in h)return new Ni(h,tr(u));if(h instanceof Array||!Da){let c=qn.EMPTY_NODE;return dr(h,(m,D)=>{if((0,re.r3)(h,m)&&"."!==m.substring(0,1)){const O=tr(D);(O.isLeafNode()||!O.isEmpty())&&(c=c.updateImmediateChild(m,O))}}),c.updatePriority(tr(u))}{const c=[];let m=!1;if(dr(h,(H,ne)=>{if("."!==H.substring(0,1)){const ye=tr(ne);ye.isEmpty()||(m=m||!ye.getPriority().isEmpty(),c.push(new z(H,ye)))}}),0===c.length)return qn.EMPTY_NODE;const O=Ao(c,ir,H=>H.name,fi);if(m){const H=Ao(c,Vr.getCompare());return new qn(O,tr(u),new ts({".priority":H},{".priority":Vr}))}return new qn(O,tr(u),ts.Default)}}!function Ii(h){Wr=h}(tr);class Ta extends we{constructor(u){super(),this.indexPath_=u,(0,re.hu)(!$n(u)&&".priority"!==zn(u),"Can't create PathIndex with empty path or .priority key")}extractChild(u){return u.getChild(this.indexPath_)}isDefinedOn(u){return!u.getChild(this.indexPath_).isEmpty()}compare(u,c){const m=this.extractChild(u.node),D=this.extractChild(c.node),O=m.compareTo(D);return 0===O?Ht(u.name,c.name):O}makePost(u,c){const m=tr(u),D=qn.EMPTY_NODE.updateChild(this.indexPath_,m);return new z(c,D)}maxPost(){const u=qn.EMPTY_NODE.updateChild(this.indexPath_,Ys);return new z(Tn,u)}toString(){return Ts(this.indexPath_,0).join("/")}}const ra=new class na extends we{compare(u,c){const m=u.node.compareTo(c.node);return 0===m?Ht(u.name,c.name):m}isDefinedOn(u){return!0}indexedValueChanged(u,c){return!u.equals(c)}minPost(){return z.MIN}maxPost(){return z.MAX}makePost(u,c){const m=tr(u);return new z(c,m)}toString(){return".value"}};function el(h){return{type:"value",snapshotNode:h}}function da(h,u){return{type:"child_added",snapshotNode:u,childName:h}}function x(h,u){return{type:"child_removed",snapshotNode:u,childName:h}}function U(h,u,c){return{type:"child_changed",snapshotNode:u,childName:h,oldSnap:c}}class ie{constructor(u){this.index_=u}updateChild(u,c,m,D,O,H){(0,re.hu)(u.isIndexed(this.index_),"A node must be indexed if only a child is updated");const ne=u.getImmediateChild(c);return ne.getChild(D).equals(m.getChild(D))&&ne.isEmpty()===m.isEmpty()||(null!=H&&(m.isEmpty()?u.hasChild(c)?H.trackChildChange(x(c,ne)):(0,re.hu)(u.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):ne.isEmpty()?H.trackChildChange(da(c,m)):H.trackChildChange(U(c,m,ne))),u.isLeafNode()&&m.isEmpty())?u:u.updateImmediateChild(c,m).withIndex(this.index_)}updateFullNode(u,c,m){return null!=m&&(u.isLeafNode()||u.forEachChild(Vr,(D,O)=>{c.hasChild(D)||m.trackChildChange(x(D,O))}),c.isLeafNode()||c.forEachChild(Vr,(D,O)=>{if(u.hasChild(D)){const H=u.getImmediateChild(D);H.equals(O)||m.trackChildChange(U(D,O,H))}else m.trackChildChange(da(D,O))})),c.withIndex(this.index_)}updatePriority(u,c){return u.isEmpty()?qn.EMPTY_NODE:u.updatePriority(c)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Ye{constructor(u){this.indexedFilter_=new ie(u.getIndex()),this.index_=u.getIndex(),this.startPost_=Ye.getStartPost_(u),this.endPost_=Ye.getEndPost_(u),this.startIsInclusive_=!u.startAfterSet_,this.endIsInclusive_=!u.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(u){const c=this.startIsInclusive_?this.index_.compare(this.getStartPost(),u)<=0:this.index_.compare(this.getStartPost(),u)<0,m=this.endIsInclusive_?this.index_.compare(u,this.getEndPost())<=0:this.index_.compare(u,this.getEndPost())<0;return c&&m}updateChild(u,c,m,D,O,H){return this.matches(new z(c,m))||(m=qn.EMPTY_NODE),this.indexedFilter_.updateChild(u,c,m,D,O,H)}updateFullNode(u,c,m){c.isLeafNode()&&(c=qn.EMPTY_NODE);let D=c.withIndex(this.index_);D=D.updatePriority(qn.EMPTY_NODE);const O=this;return c.forEachChild(Vr,(H,ne)=>{O.matches(new z(H,ne))||(D=D.updateImmediateChild(H,qn.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(u,D,m)}updatePriority(u,c){return u}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(u){if(u.hasStart()){const c=u.getIndexStartName();return u.getIndex().makePost(u.getIndexStartValue(),c)}return u.getIndex().minPost()}static getEndPost_(u){if(u.hasEnd()){const c=u.getIndexEndName();return u.getIndex().makePost(u.getIndexEndValue(),c)}return u.getIndex().maxPost()}}class pn{constructor(u){this.withinDirectionalStart=c=>this.reverse_?this.withinEndPost(c):this.withinStartPost(c),this.withinDirectionalEnd=c=>this.reverse_?this.withinStartPost(c):this.withinEndPost(c),this.withinStartPost=c=>{const m=this.index_.compare(this.rangedFilter_.getStartPost(),c);return this.startIsInclusive_?m<=0:m<0},this.withinEndPost=c=>{const m=this.index_.compare(c,this.rangedFilter_.getEndPost());return this.endIsInclusive_?m<=0:m<0},this.rangedFilter_=new Ye(u),this.index_=u.getIndex(),this.limit_=u.getLimit(),this.reverse_=!u.isViewFromLeft(),this.startIsInclusive_=!u.startAfterSet_,this.endIsInclusive_=!u.endBeforeSet_}updateChild(u,c,m,D,O,H){return this.rangedFilter_.matches(new z(c,m))||(m=qn.EMPTY_NODE),u.getImmediateChild(c).equals(m)?u:u.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(u,c,m,D,O,H):this.fullLimitUpdateChild_(u,c,m,O,H)}updateFullNode(u,c,m){let D;if(c.isLeafNode()||c.isEmpty())D=qn.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<c.numChildren()&&c.isIndexed(this.index_)){let O;D=qn.EMPTY_NODE.withIndex(this.index_),O=this.reverse_?c.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):c.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let H=0;for(;O.hasNext()&&H<this.limit_;){const ne=O.getNext();if(this.withinDirectionalStart(ne)){if(!this.withinDirectionalEnd(ne))break;D=D.updateImmediateChild(ne.name,ne.node),H++}}}else{let O;D=c.withIndex(this.index_),D=D.updatePriority(qn.EMPTY_NODE),O=this.reverse_?D.getReverseIterator(this.index_):D.getIterator(this.index_);let H=0;for(;O.hasNext();){const ne=O.getNext();H<this.limit_&&this.withinDirectionalStart(ne)&&this.withinDirectionalEnd(ne)?H++:D=D.updateImmediateChild(ne.name,qn.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(u,D,m)}updatePriority(u,c){return u}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(u,c,m,D,O){let H;if(this.reverse_){const Ct=this.index_.getCompare();H=(Rt,_n)=>Ct(_n,Rt)}else H=this.index_.getCompare();const ne=u;(0,re.hu)(ne.numChildren()===this.limit_,"");const ye=new z(c,m),Se=this.reverse_?ne.getFirstChild(this.index_):ne.getLastChild(this.index_),yt=this.rangedFilter_.matches(ye);if(ne.hasChild(c)){const Ct=ne.getImmediateChild(c);let Rt=D.getChildAfterChild(this.index_,Se,this.reverse_);for(;null!=Rt&&(Rt.name===c||ne.hasChild(Rt.name));)Rt=D.getChildAfterChild(this.index_,Rt,this.reverse_);const _n=null==Rt?1:H(Rt,ye);if(yt&&!m.isEmpty()&&_n>=0)return O?.trackChildChange(U(c,m,Ct)),ne.updateImmediateChild(c,m);{O?.trackChildChange(x(c,Ct));const Bi=ne.updateImmediateChild(c,qn.EMPTY_NODE);return null!=Rt&&this.rangedFilter_.matches(Rt)?(O?.trackChildChange(da(Rt.name,Rt.node)),Bi.updateImmediateChild(Rt.name,Rt.node)):Bi}}return m.isEmpty()?u:yt&&H(Se,ye)>=0?(null!=O&&(O.trackChildChange(x(Se.name,Se.node)),O.trackChildChange(da(c,m))),ne.updateImmediateChild(c,m).updateImmediateChild(Se.name,qn.EMPTY_NODE)):u}}class Kr{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Vr}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,re.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,re.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Or}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,re.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,re.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Tn}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,re.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Vr}copy(){const u=new Kr;return u.limitSet_=this.limitSet_,u.limit_=this.limit_,u.startSet_=this.startSet_,u.startAfterSet_=this.startAfterSet_,u.indexStartValue_=this.indexStartValue_,u.startNameSet_=this.startNameSet_,u.indexStartName_=this.indexStartName_,u.endSet_=this.endSet_,u.endBeforeSet_=this.endBeforeSet_,u.indexEndValue_=this.indexEndValue_,u.endNameSet_=this.endNameSet_,u.indexEndName_=this.indexEndName_,u.index_=this.index_,u.viewFrom_=this.viewFrom_,u}}function po(h,u,c){const m=h.copy();return m.startSet_=!0,void 0===u&&(u=null),m.indexStartValue_=u,null!=c?(m.startNameSet_=!0,m.indexStartName_=c):(m.startNameSet_=!1,m.indexStartName_=""),m}function Es(h,u,c){const m=h.copy();return m.endSet_=!0,void 0===u&&(u=null),m.indexEndValue_=u,void 0!==c?(m.endNameSet_=!0,m.indexEndName_=c):(m.endNameSet_=!1,m.indexEndName_=""),m}function as(h,u){const c=h.copy();return c.index_=u,c}function ia(h){const u={};if(h.isDefault())return u;let c;if(h.index_===Vr?c="$priority":h.index_===ra?c="$value":h.index_===_t?c="$key":((0,re.hu)(h.index_ instanceof Ta,"Unrecognized index type!"),c=h.index_.toString()),u.orderBy=(0,re.Wl)(c),h.startSet_){const m=h.startAfterSet_?"startAfter":"startAt";u[m]=(0,re.Wl)(h.indexStartValue_),h.startNameSet_&&(u[m]+=","+(0,re.Wl)(h.indexStartName_))}if(h.endSet_){const m=h.endBeforeSet_?"endBefore":"endAt";u[m]=(0,re.Wl)(h.indexEndValue_),h.endNameSet_&&(u[m]+=","+(0,re.Wl)(h.indexEndName_))}return h.limitSet_&&(h.isViewFromLeft()?u.limitToFirst=h.limit_:u.limitToLast=h.limit_),u}function Ro(h){const u={};if(h.startSet_&&(u.sp=h.indexStartValue_,h.startNameSet_&&(u.sn=h.indexStartName_),u.sin=!h.startAfterSet_),h.endSet_&&(u.ep=h.indexEndValue_,h.endNameSet_&&(u.en=h.indexEndName_),u.ein=!h.endBeforeSet_),h.limitSet_){u.l=h.limit_;let c=h.viewFrom_;""===c&&(c=h.isViewFromLeft()?"l":"r"),u.vf=c}return h.index_!==Vr&&(u.i=h.index_.toString()),u}class As extends Ki{constructor(u,c,m,D){super(),this.repoInfo_=u,this.onDataUpdate_=c,this.authTokenProvider_=m,this.appCheckTokenProvider_=D,this.log_=Pn("p:rest:"),this.listens_={}}reportStats(u){throw new Error("Method not implemented.")}static getListenId_(u,c){return void 0!==c?"tag$"+c:((0,re.hu)(u._queryParams.isDefault(),"should have a tag if it's not a default query."),u._path.toString())}listen(u,c,m,D){const O=u._path.toString();this.log_("Listen called for "+O+" "+u._queryIdentifier);const H=As.getListenId_(u,m),ne={};this.listens_[H]=ne;const ye=ia(u._queryParams);this.restRequest_(O+".json",ye,(Se,yt)=>{let Ct=yt;if(404===Se&&(Ct=null,Se=null),null===Se&&this.onDataUpdate_(O,Ct,!1,m),(0,re.DV)(this.listens_,H)===ne){let Rt;Rt=Se?401===Se?"permission_denied":"rest_error:"+Se:"ok",D(Rt,null)}})}unlisten(u,c){const m=As.getListenId_(u,c);delete this.listens_[m]}get(u){const c=ia(u._queryParams),m=u._path.toString(),D=new re.BH;return this.restRequest_(m+".json",c,(O,H)=>{let ne=H;404===O&&(ne=null,O=null),null===O?(this.onDataUpdate_(m,ne,!1,null),D.resolve(ne)):D.reject(new Error(ne))}),D.promise}refreshAuthToken(u){}restRequest_(u,c={},m){return c.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([D,O])=>{D&&D.accessToken&&(c.auth=D.accessToken),O&&O.token&&(c.ac=O.token);const H=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+u+"?ns="+this.repoInfo_.namespace+(0,re.xO)(c);this.log_("Sending REST request for "+H);const ne=new XMLHttpRequest;ne.onreadystatechange=()=>{if(m&&4===ne.readyState){this.log_("REST Response for "+H+" received. status:",ne.status,"response:",ne.responseText);let ye=null;if(ne.status>=200&&ne.status<300){try{ye=(0,re.cI)(ne.responseText)}catch{Un("Failed to parse JSON response for "+H+": "+ne.responseText)}m(null,ye)}else 401!==ne.status&&404!==ne.status&&Un("Got unsuccessful REST response for "+H+" Status: "+ne.status),m(ne.status);m=null}},ne.open("GET",H,!0),ne.send()})}}class Nl{constructor(){this.rootNode_=qn.EMPTY_NODE}getNode(u){return this.rootNode_.getChild(u)}updateSnapshot(u,c){this.rootNode_=this.rootNode_.updateChild(u,c)}}function Mo(){return{value:null,children:new Map}}function sa(h,u,c){if($n(u))h.value=c,h.children.clear();else if(null!==h.value)h.value=h.value.updateChild(u,c);else{const m=zn(u);h.children.has(m)||h.children.set(m,Mo()),sa(h.children.get(m),u=Gr(u),c)}}function ml(h,u){if($n(u))return h.value=null,h.children.clear(),!0;if(null!==h.value){if(h.value.isLeafNode())return!1;{const c=h.value;return h.value=null,c.forEachChild(Vr,(m,D)=>{sa(h,new Tr(m),D)}),ml(h,u)}}if(h.children.size>0){const c=zn(u);return u=Gr(u),h.children.has(c)&&ml(h.children.get(c),u)&&h.children.delete(c),0===h.children.size}return!0}function ji(h,u,c){null!==h.value?c(u,h.value):function Sa(h,u){h.children.forEach((c,m)=>{u(m,c)})}(h,(m,D)=>{ji(D,new Tr(u.toString()+"/"+m),c)})}class ha{constructor(u){this.collection_=u,this.last_=null}get(){const u=this.collection_.get(),c=Object.assign({},u);return this.last_&&dr(this.last_,(m,D)=>{c[m]=c[m]-D}),this.last_=u,c}}class ba{constructor(u,c){this.server_=c,this.statsToReport_={},this.statsListener_=new ha(u);const m=1e4+2e4*Math.random();Fn(this.reportStats_.bind(this),Math.floor(m))}reportStats_(){const u=this.statsListener_.get(),c={};let m=!1;dr(u,(D,O)=>{O>0&&(0,re.r3)(this.statsToReport_,D)&&(c[D]=O,m=!0)}),m&&this.server_.reportStats(c),Fn(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Bs=(()=>{return(h=Bs||(Bs={}))[h.OVERWRITE=0]="OVERWRITE",h[h.MERGE=1]="MERGE",h[h.ACK_USER_WRITE=2]="ACK_USER_WRITE",h[h.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",Bs;var h})();function rs(h){return{fromUser:!1,fromServer:!0,queryId:h,tagged:!0}}class Aa{constructor(u,c,m){this.path=u,this.affectedTree=c,this.revert=m,this.type=Bs.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(u){if($n(this.path)){if(null!=this.affectedTree.value)return(0,re.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const c=this.affectedTree.subtree(new Tr(u));return new Aa(ur(),c,this.revert)}}return(0,re.hu)(zn(this.path)===u,"operationForChild called for unrelated child."),new Aa(Gr(this.path),this.affectedTree,this.revert)}}class oa{constructor(u,c){this.source=u,this.path=c,this.type=Bs.LISTEN_COMPLETE}operationForChild(u){return $n(this.path)?new oa(this.source,ur()):new oa(this.source,Gr(this.path))}}class Os{constructor(u,c,m){this.source=u,this.path=c,this.snap=m,this.type=Bs.OVERWRITE}operationForChild(u){return $n(this.path)?new Os(this.source,ur(),this.snap.getImmediateChild(u)):new Os(this.source,Gr(this.path),this.snap)}}class Zi{constructor(u,c,m){this.source=u,this.path=c,this.children=m,this.type=Bs.MERGE}operationForChild(u){if($n(this.path)){const c=this.children.subtree(new Tr(u));return c.isEmpty()?null:c.value?new Os(this.source,ur(),c.value):new Zi(this.source,ur(),c)}return(0,re.hu)(zn(this.path)===u,"Can't get a merge for a child not on the path of the operation"),new Zi(this.source,Gr(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Ai{constructor(u,c,m){this.node_=u,this.fullyInitialized_=c,this.filtered_=m}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(u){if($n(u))return this.isFullyInitialized()&&!this.filtered_;const c=zn(u);return this.isCompleteForChild(c)}isCompleteForChild(u){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(u)}getNode(){return this.node_}}class gi{constructor(u){this.query_=u,this.index_=this.query_._queryParams.getIndex()}}function Ho(h,u,c,m,D,O){const H=m.filter(ne=>ne.type===c);H.sort((ne,ye)=>function aa(h,u,c){if(null==u.childName||null==c.childName)throw(0,re.g5)("Should only compare child_ events.");const m=new z(u.childName,u.snapshotNode),D=new z(c.childName,c.snapshotNode);return h.index_.compare(m,D)}(h,ne,ye)),H.forEach(ne=>{const ye=function Va(h,u,c){return"value"===u.type||"child_removed"===u.type||(u.prevName=c.getPredecessorChildName(u.childName,u.snapshotNode,h.index_)),u}(h,ne,O);D.forEach(Se=>{Se.respondsTo(ne.type)&&u.push(Se.createEvent(ye,h.query_))})})}function Ua(h,u){return{eventCache:h,serverCache:u}}function Ba(h,u,c,m){return Ua(new Ai(u,c,m),h.serverCache)}function Po(h,u,c,m){return Ua(h.eventCache,new Ai(u,c,m))}function ga(h){return h.eventCache.isFullyInitialized()?h.eventCache.getNode():null}function la(h){return h.serverCache.isFullyInitialized()?h.serverCache.getNode():null}let N;class F{constructor(u,c=(()=>(N||(N=new Sn(Bn)),N))()){this.value=u,this.children=c}static fromObject(u){let c=new F(null);return dr(u,(m,D)=>{c=c.set(new Tr(m),D)}),c}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(u,c){if(null!=this.value&&c(this.value))return{path:ur(),value:this.value};if($n(u))return null;{const m=zn(u),D=this.children.get(m);if(null!==D){const O=D.findRootMostMatchingPathAndValue(Gr(u),c);return null!=O?{path:Lr(new Tr(m),O.path),value:O.value}:null}return null}}findRootMostValueAndPath(u){return this.findRootMostMatchingPathAndValue(u,()=>!0)}subtree(u){if($n(u))return this;{const c=zn(u),m=this.children.get(c);return null!==m?m.subtree(Gr(u)):new F(null)}}set(u,c){if($n(u))return new F(c,this.children);{const m=zn(u),O=(this.children.get(m)||new F(null)).set(Gr(u),c),H=this.children.insert(m,O);return new F(this.value,H)}}remove(u){if($n(u))return this.children.isEmpty()?new F(null):new F(null,this.children);{const c=zn(u),m=this.children.get(c);if(m){const D=m.remove(Gr(u));let O;return O=D.isEmpty()?this.children.remove(c):this.children.insert(c,D),null===this.value&&O.isEmpty()?new F(null):new F(this.value,O)}return this}}get(u){if($n(u))return this.value;{const c=zn(u),m=this.children.get(c);return m?m.get(Gr(u)):null}}setTree(u,c){if($n(u))return c;{const m=zn(u),O=(this.children.get(m)||new F(null)).setTree(Gr(u),c);let H;return H=O.isEmpty()?this.children.remove(m):this.children.insert(m,O),new F(this.value,H)}}fold(u){return this.fold_(ur(),u)}fold_(u,c){const m={};return this.children.inorderTraversal((D,O)=>{m[D]=O.fold_(Lr(u,D),c)}),c(u,this.value,m)}findOnPath(u,c){return this.findOnPath_(u,ur(),c)}findOnPath_(u,c,m){const D=!!this.value&&m(c,this.value);if(D)return D;if($n(u))return null;{const O=zn(u),H=this.children.get(O);return H?H.findOnPath_(Gr(u),Lr(c,O),m):null}}foreachOnPath(u,c){return this.foreachOnPath_(u,ur(),c)}foreachOnPath_(u,c,m){if($n(u))return this;{this.value&&m(c,this.value);const D=zn(u),O=this.children.get(D);return O?O.foreachOnPath_(Gr(u),Lr(c,D),m):new F(null)}}foreach(u){this.foreach_(ur(),u)}foreach_(u,c){this.children.inorderTraversal((m,D)=>{D.foreach_(Lr(u,m),c)}),this.value&&c(u,this.value)}foreachChild(u){this.children.inorderTraversal((c,m)=>{m.value&&u(c,m.value)})}}class ee{constructor(u){this.writeTree_=u}static empty(){return new ee(new F(null))}}function Ie(h,u,c){if($n(u))return new ee(new F(c));{const m=h.writeTree_.findRootMostValueAndPath(u);if(null!=m){const D=m.path;let O=m.value;const H=Si(D,u);return O=O.updateChild(H,c),new ee(h.writeTree_.set(D,O))}{const D=new F(c),O=h.writeTree_.setTree(u,D);return new ee(O)}}}function dt(h,u,c){let m=h;return dr(c,(D,O)=>{m=Ie(m,Lr(u,D),O)}),m}function St(h,u){if($n(u))return ee.empty();{const c=h.writeTree_.setTree(u,new F(null));return new ee(c)}}function In(h,u){return null!=br(h,u)}function br(h,u){const c=h.writeTree_.findRootMostValueAndPath(u);return null!=c?h.writeTree_.get(c.path).getChild(Si(c.path,u)):null}function Jr(h){const u=[],c=h.writeTree_.value;return null!=c?c.isLeafNode()||c.forEachChild(Vr,(m,D)=>{u.push(new z(m,D))}):h.writeTree_.children.inorderTraversal((m,D)=>{null!=D.value&&u.push(new z(m,D.value))}),u}function Nr(h,u){if($n(u))return h;{const c=br(h,u);return new ee(null!=c?new F(c):h.writeTree_.subtree(u))}}function vr(h){return h.writeTree_.isEmpty()}function Hi(h,u){return mi(ur(),h.writeTree_,u)}function mi(h,u,c){if(null!=u.value)return c.updateChild(h,u.value);{let m=null;return u.children.inorderTraversal((D,O)=>{".priority"===D?((0,re.hu)(null!==O.value,"Priority writes must always be leaf nodes"),m=O.value):c=mi(Lr(h,D),O,c)}),!c.getChild(h).isEmpty()&&null!==m&&(c=c.updateChild(Lr(h,".priority"),m)),c}}function ls(h,u){return $a(u,h)}function oo(h,u){if(h.snap)return Ei(h.path,u);for(const c in h.children)if(h.children.hasOwnProperty(c)&&Ei(Lr(h.path,c),u))return!0;return!1}function ai(h){return h.visible}function ya(h,u,c){let m=ee.empty();for(let D=0;D<h.length;++D){const O=h[D];if(u(O)){const H=O.path;let ne;if(O.snap)Ei(c,H)?(ne=Si(c,H),m=Ie(m,ne,O.snap)):Ei(H,c)&&(ne=Si(H,c),m=Ie(m,ur(),O.snap.getChild(ne)));else{if(!O.children)throw(0,re.g5)("WriteRecord should have .snap or .children");if(Ei(c,H))ne=Si(c,H),m=dt(m,ne,O.children);else if(Ei(H,c))if(ne=Si(H,c),$n(ne))m=dt(m,ur(),O.children);else{const ye=(0,re.DV)(O.children,zn(ne));if(ye){const Se=ye.getChild(Gr(ne));m=Ie(m,ur(),Se)}}}}}return m}function zo(h,u,c,m,D){if(m||D){const O=Nr(h.visibleWrites,u);return!D&&vr(O)?c:D||null!=c||In(O,ur())?Hi(ya(h.allWrites,function(Se){return(Se.visible||D)&&(!m||!~m.indexOf(Se.writeId))&&(Ei(Se.path,u)||Ei(u,Se.path))},u),c||qn.EMPTY_NODE):null}{const O=br(h.visibleWrites,u);if(null!=O)return O;{const H=Nr(h.visibleWrites,u);return vr(H)?c:null!=c||In(H,ur())?Hi(H,c||qn.EMPTY_NODE):null}}}function yn(h,u,c,m){return zo(h.writeTree,h.treePath,u,c,m)}function Cn(h,u){return function ql(h,u,c){let m=qn.EMPTY_NODE;const D=br(h.visibleWrites,u);if(D)return D.isLeafNode()||D.forEachChild(Vr,(O,H)=>{m=m.updateImmediateChild(O,H)}),m;if(c){const O=Nr(h.visibleWrites,u);return c.forEachChild(Vr,(H,ne)=>{const ye=Hi(Nr(O,new Tr(H)),ne);m=m.updateImmediateChild(H,ye)}),Jr(O).forEach(H=>{m=m.updateImmediateChild(H.name,H.node)}),m}return Jr(Nr(h.visibleWrites,u)).forEach(H=>{m=m.updateImmediateChild(H.name,H.node)}),m}(h.writeTree,h.treePath,u)}function sc(h,u,c,m){return function xl(h,u,c,m,D){(0,re.hu)(m||D,"Either existingEventSnap or existingServerSnap must exist");const O=Lr(u,c);if(In(h.visibleWrites,O))return null;{const H=Nr(h.visibleWrites,O);return vr(H)?D.getChild(c):Hi(H,D.getChild(c))}}(h.writeTree,h.treePath,u,c,m)}function Bt(h,u){return function is(h,u){return br(h.visibleWrites,u)}(h.writeTree,Lr(h.treePath,u))}function kt(h,u,c){return function Lt(h,u,c,m){const D=Lr(u,c),O=br(h.visibleWrites,D);return null!=O?O:m.isCompleteForChild(c)?Hi(Nr(h.visibleWrites,D),m.getNode().getImmediateChild(c)):null}(h.writeTree,h.treePath,u,c)}function ps(h,u){return $a(Lr(h.treePath,u),h.writeTree)}function $a(h,u){return{treePath:h,writeTree:u}}class ku{constructor(){this.changeMap=new Map}trackChildChange(u){const c=u.type,m=u.childName;(0,re.hu)("child_added"===c||"child_changed"===c||"child_removed"===c,"Only child changes supported for tracking"),(0,re.hu)(".priority"!==m,"Only non-priority child changes can be tracked.");const D=this.changeMap.get(m);if(D){const O=D.type;if("child_added"===c&&"child_removed"===O)this.changeMap.set(m,U(m,u.snapshotNode,D.snapshotNode));else if("child_removed"===c&&"child_added"===O)this.changeMap.delete(m);else if("child_removed"===c&&"child_changed"===O)this.changeMap.set(m,x(m,D.oldSnap));else if("child_changed"===c&&"child_added"===O)this.changeMap.set(m,da(m,u.snapshotNode));else{if("child_changed"!==c||"child_changed"!==O)throw(0,re.g5)("Illegal combination of changes: "+u+" occurred after "+D);this.changeMap.set(m,U(m,u.snapshotNode,D.oldSnap))}}else this.changeMap.set(m,u)}getChanges(){return Array.from(this.changeMap.values())}}const Is=new class Yl{getCompleteChild(u){return null}getChildAfterChild(u,c,m){return null}};class yl{constructor(u,c,m=null){this.writes_=u,this.viewCache_=c,this.optCompleteServerCache_=m}getCompleteChild(u){const c=this.viewCache_.eventCache;if(c.isCompleteForChild(u))return c.getNode().getImmediateChild(u);{const m=null!=this.optCompleteServerCache_?new Ai(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return kt(this.writes_,u,m)}}getChildAfterChild(u,c,m){const D=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:la(this.viewCache_),O=function ut(h,u,c,m,D,O){return function us(h,u,c,m,D,O,H){let ne;const ye=Nr(h.visibleWrites,u),Se=br(ye,ur());if(null!=Se)ne=Se;else{if(null==c)return[];ne=Hi(ye,c)}if(ne=ne.withIndex(H),ne.isEmpty()||ne.isLeafNode())return[];{const yt=[],Ct=H.getCompare(),Rt=O?ne.getReverseIteratorFrom(m,H):ne.getIteratorFrom(m,H);let _n=Rt.getNext();for(;_n&&yt.length<D;)0!==Ct(_n,m)&&yt.push(_n),_n=Rt.getNext();return yt}}(h.writeTree,h.treePath,u,c,m,D,O)}(this.writes_,D,c,1,m,u);return 0===O.length?null:O[0]}}function nl(h,u,c,m,D,O){const H=u.eventCache;if(null!=Bt(m,c))return u;{let ne,ye;if($n(c))if((0,re.hu)(u.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),u.serverCache.isFiltered()){const Se=la(u),Ct=Cn(m,Se instanceof qn?Se:qn.EMPTY_NODE);ne=h.filter.updateFullNode(u.eventCache.getNode(),Ct,O)}else{const Se=yn(m,la(u));ne=h.filter.updateFullNode(u.eventCache.getNode(),Se,O)}else{const Se=zn(c);if(".priority"===Se){(0,re.hu)(1===ii(c),"Can't have a priority with additional path components");const yt=H.getNode();ye=u.serverCache.getNode();const Ct=sc(m,c,yt,ye);ne=null!=Ct?h.filter.updatePriority(yt,Ct):H.getNode()}else{const yt=Gr(c);let Ct;if(H.isCompleteForChild(Se)){ye=u.serverCache.getNode();const Rt=sc(m,c,H.getNode(),ye);Ct=null!=Rt?H.getNode().getImmediateChild(Se).updateChild(yt,Rt):H.getNode().getImmediateChild(Se)}else Ct=kt(m,Se,u.serverCache);ne=null!=Ct?h.filter.updateChild(H.getNode(),Se,Ct,yt,D,O):H.getNode()}}return Ba(u,ne,H.isFullyInitialized()||$n(c),h.filter.filtersNodes())}}function ja(h,u,c,m,D,O,H,ne){const ye=u.serverCache;let Se;const yt=H?h.filter:h.filter.getIndexedFilter();if($n(c))Se=yt.updateFullNode(ye.getNode(),m,null);else if(yt.filtersNodes()&&!ye.isFiltered()){const _n=ye.getNode().updateChild(c,m);Se=yt.updateFullNode(ye.getNode(),_n,null)}else{const _n=zn(c);if(!ye.isCompleteForPath(c)&&ii(c)>1)return u;const Jn=Gr(c),Vo=ye.getNode().getImmediateChild(_n).updateChild(Jn,m);Se=".priority"===_n?yt.updatePriority(ye.getNode(),Vo):yt.updateChild(ye.getNode(),_n,Vo,Jn,Is,null)}const Ct=Po(u,Se,ye.isFullyInitialized()||$n(c),yt.filtersNodes());return nl(h,Ct,c,D,new yl(D,Ct,O),ne)}function nr(h,u,c,m,D,O,H){const ne=u.eventCache;let ye,Se;const yt=new yl(D,u,O);if($n(c))Se=h.filter.updateFullNode(u.eventCache.getNode(),m,H),ye=Ba(u,Se,!0,h.filter.filtersNodes());else{const Ct=zn(c);if(".priority"===Ct)Se=h.filter.updatePriority(u.eventCache.getNode(),m),ye=Ba(u,Se,ne.isFullyInitialized(),ne.isFiltered());else{const Rt=Gr(c),_n=ne.getNode().getImmediateChild(Ct);let Jn;if($n(Rt))Jn=m;else{const Bi=yt.getCompleteChild(Ct);Jn=null!=Bi?".priority"===Ji(Rt)&&Bi.getChild(Do(Rt)).isEmpty()?Bi:Bi.updateChild(Rt,m):qn.EMPTY_NODE}ye=_n.equals(Jn)?u:Ba(u,h.filter.updateChild(ne.getNode(),Ct,Jn,Rt,yt,H),ne.isFullyInitialized(),h.filter.filtersNodes())}}return ye}function Wo(h,u){return h.eventCache.isCompleteForChild(u)}function Ci(h,u,c){return c.foreach((m,D)=>{u=u.updateChild(m,D)}),u}function Mn(h,u,c,m,D,O,H,ne){if(u.serverCache.getNode().isEmpty()&&!u.serverCache.isFullyInitialized())return u;let Se,ye=u;Se=$n(c)?m:new F(null).setTree(c,m);const yt=u.serverCache.getNode();return Se.children.inorderTraversal((Ct,Rt)=>{if(yt.hasChild(Ct)){const Jn=Ci(0,u.serverCache.getNode().getImmediateChild(Ct),Rt);ye=ja(h,ye,new Tr(Ct),Jn,D,O,H,ne)}}),Se.children.inorderTraversal((Ct,Rt)=>{const _n=!u.serverCache.isCompleteForChild(Ct)&&null===Rt.value;if(!yt.hasChild(Ct)&&!_n){const Bi=Ci(0,u.serverCache.getNode().getImmediateChild(Ct),Rt);ye=ja(h,ye,new Tr(Ct),Bi,D,O,H,ne)}}),ye}class cs{constructor(u,c){this.query_=u,this.eventRegistrations_=[];const m=this.query_._queryParams,D=new ie(m.getIndex()),O=function xi(h){return h.loadsAllData()?new ie(h.getIndex()):h.hasLimit()?new pn(h):new Ye(h)}(m);this.processor_=function qr(h){return{filter:h}}(O);const H=c.serverCache,ne=c.eventCache,ye=D.updateFullNode(qn.EMPTY_NODE,H.getNode(),null),Se=O.updateFullNode(qn.EMPTY_NODE,ne.getNode(),null),yt=new Ai(ye,H.isFullyInitialized(),D.filtersNodes()),Ct=new Ai(Se,ne.isFullyInitialized(),O.filtersNodes());this.viewCache_=Ua(Ct,yt),this.eventGenerator_=new gi(this.query_)}get query(){return this.query_}}function Zl(h,u){const c=la(h.viewCache_);return c&&(h.query._queryParams.loadsAllData()||!$n(u)&&!c.getImmediateChild(zn(u)).isEmpty())?c.getChild(u):null}function Ha(h){return 0===h.eventRegistrations_.length}function _l(h,u,c){const m=[];if(c){(0,re.hu)(null==u,"A cancel should cancel all event registrations.");const D=h.query._path;h.eventRegistrations_.forEach(O=>{const H=O.createCancelEvent(c,D);H&&m.push(H)})}if(u){let D=[];for(let O=0;O<h.eventRegistrations_.length;++O){const H=h.eventRegistrations_[O];if(H.matches(u)){if(u.hasAnyCallback()){D=D.concat(h.eventRegistrations_.slice(O+1));break}}else D.push(H)}h.eventRegistrations_=D}else h.eventRegistrations_=[];return m}function Ql(h,u,c,m){u.type===Bs.MERGE&&null!==u.source.queryId&&((0,re.hu)(la(h.viewCache_),"We should always have a full cache before handling merges"),(0,re.hu)(ga(h.viewCache_),"Missing event cache, even though we have a server cache"));const D=h.viewCache_,O=function _a(h,u,c,m,D){const O=new ku;let H,ne;if(c.type===Bs.OVERWRITE){const Se=c;Se.source.fromUser?H=nr(h,u,Se.path,Se.snap,m,D,O):((0,re.hu)(Se.source.fromServer,"Unknown source."),ne=Se.source.tagged||u.serverCache.isFiltered()&&!$n(Se.path),H=ja(h,u,Se.path,Se.snap,m,D,ne,O))}else if(c.type===Bs.MERGE){const Se=c;Se.source.fromUser?H=function Fu(h,u,c,m,D,O,H){let ne=u;return m.foreach((ye,Se)=>{const yt=Lr(c,ye);Wo(u,zn(yt))&&(ne=nr(h,ne,yt,Se,D,O,H))}),m.foreach((ye,Se)=>{const yt=Lr(c,ye);Wo(u,zn(yt))||(ne=nr(h,ne,yt,Se,D,O,H))}),ne}(h,u,Se.path,Se.children,m,D,O):((0,re.hu)(Se.source.fromServer,"Unknown source."),ne=Se.source.tagged||u.serverCache.isFiltered(),H=Mn(h,u,Se.path,Se.children,m,D,ne,O))}else if(c.type===Bs.ACK_USER_WRITE){const Se=c;H=Se.revert?function va(h,u,c,m,D,O){let H;if(null!=Bt(m,c))return u;{const ne=new yl(m,u,D),ye=u.eventCache.getNode();let Se;if($n(c)||".priority"===zn(c)){let yt;if(u.serverCache.isFullyInitialized())yt=yn(m,la(u));else{const Ct=u.serverCache.getNode();(0,re.hu)(Ct instanceof qn,"serverChildren would be complete if leaf node"),yt=Cn(m,Ct)}Se=h.filter.updateFullNode(ye,yt,O)}else{const yt=zn(c);let Ct=kt(m,yt,u.serverCache);null==Ct&&u.serverCache.isCompleteForChild(yt)&&(Ct=ye.getImmediateChild(yt)),Se=null!=Ct?h.filter.updateChild(ye,yt,Ct,Gr(c),ne,O):u.eventCache.getNode().hasChild(yt)?h.filter.updateChild(ye,yt,qn.EMPTY_NODE,Gr(c),ne,O):ye,Se.isEmpty()&&u.serverCache.isFullyInitialized()&&(H=yn(m,la(u)),H.isLeafNode()&&(Se=h.filter.updateFullNode(Se,H,O)))}return H=u.serverCache.isFullyInitialized()||null!=Bt(m,ur()),Ba(u,Se,H,h.filter.filtersNodes())}}(h,u,Se.path,m,D,O):function gs(h,u,c,m,D,O,H){if(null!=Bt(D,c))return u;const ne=u.serverCache.isFiltered(),ye=u.serverCache;if(null!=m.value){if($n(c)&&ye.isFullyInitialized()||ye.isCompleteForPath(c))return ja(h,u,c,ye.getNode().getChild(c),D,O,ne,H);if($n(c)){let Se=new F(null);return ye.getNode().forEachChild(_t,(yt,Ct)=>{Se=Se.set(new Tr(yt),Ct)}),Mn(h,u,c,Se,D,O,ne,H)}return u}{let Se=new F(null);return m.foreach((yt,Ct)=>{const Rt=Lr(c,yt);ye.isCompleteForPath(Rt)&&(Se=Se.set(yt,ye.getNode().getChild(Rt)))}),Mn(h,u,c,Se,D,O,ne,H)}}(h,u,Se.path,Se.affectedTree,m,D,O)}else{if(c.type!==Bs.LISTEN_COMPLETE)throw(0,re.g5)("Unknown operation type: "+c.type);H=function Ur(h,u,c,m,D){const O=u.serverCache;return nl(h,Po(u,O.getNode(),O.isFullyInitialized()||$n(c),O.isFiltered()),c,m,Is,D)}(h,u,c.path,m,O)}const ye=O.getChanges();return function Ol(h,u,c){const m=u.eventCache;if(m.isFullyInitialized()){const D=m.getNode().isLeafNode()||m.getNode().isEmpty(),O=ga(h);(c.length>0||!h.eventCache.isFullyInitialized()||D&&!m.getNode().equals(O)||!m.getNode().getPriority().equals(O.getPriority()))&&c.push(el(ga(u)))}}(u,H,ye),{viewCache:H,changes:ye}}(h.processor_,D,u,c,m);return function hu(h,u){(0,re.hu)(u.eventCache.getNode().isIndexed(h.filter.getIndex()),"Event snap not indexed"),(0,re.hu)(u.serverCache.getNode().isIndexed(h.filter.getIndex()),"Server snap not indexed")}(h.processor_,O.viewCache),(0,re.hu)(O.viewCache.serverCache.isFullyInitialized()||!D.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),h.viewCache_=O.viewCache,El(h,O.changes,O.viewCache.eventCache.getNode(),null)}function El(h,u,c,m){return function oi(h,u,c,m){const D=[],O=[];return u.forEach(H=>{"child_changed"===H.type&&h.index_.indexedValueChanged(H.oldSnap,H.snapshotNode)&&O.push(function L(h,u){return{type:"child_moved",snapshotNode:u,childName:h}}(H.childName,H.snapshotNode))}),Ho(h,D,"child_removed",u,m,c),Ho(h,D,"child_added",u,m,c),Ho(h,D,"child_moved",O,m,c),Ho(h,D,"child_changed",u,m,c),Ho(h,D,"value",u,m,c),D}(h.eventGenerator_,u,c,m?[m]:h.eventRegistrations_)}let wl,rl;class No{constructor(){this.views=new Map}}function Ea(h,u,c,m){const D=u.source.queryId;if(null!==D){const O=h.views.get(D);return(0,re.hu)(null!=O,"SyncTree gave us an op for an invalid query."),Ql(O,u,c,m)}{let O=[];for(const H of h.views.values())O=O.concat(Ql(H,u,c,m));return O}}function ds(h,u,c,m,D){const H=h.views.get(u._queryIdentifier);if(!H){let ne=yn(c,D?m:null),ye=!1;ne?ye=!0:m instanceof qn?(ne=Cn(c,m),ye=!1):(ne=qn.EMPTY_NODE,ye=!1);const Se=Ua(new Ai(ne,ye,!1),new Ai(m,D,!1));return new cs(u,Se)}return H}function xo(h){const u=[];for(const c of h.views.values())c.query._queryParams.loadsAllData()||u.push(c);return u}function hs(h,u){let c=null;for(const m of h.views.values())c=c||Zl(m,u);return c}function yo(h,u){return u._queryParams.loadsAllData()?Zs(h):h.views.get(u._queryIdentifier)}function qo(h,u){return null!=yo(h,u)}function Oo(h){return null!=Zs(h)}function Zs(h){for(const u of h.views.values())if(u.query._queryParams.loadsAllData())return u;return null}let fu=1;class zi{constructor(u){this.listenProvider_=u,this.syncPointTree_=new F(null),this.pendingWriteTree_=function Ou(){return{visibleWrites:ee.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function ko(h,u,c,m,D){return function Go(h,u,c,m,D){(0,re.hu)(m>h.lastWriteId,"Stacking an older write on top of newer ones"),void 0===D&&(D=!0),h.allWrites.push({path:u,snap:c,writeId:m,visible:D}),D&&(h.visibleWrites=Ie(h.visibleWrites,u,c)),h.lastWriteId=m}(h.pendingWriteTree_,u,c,m,D),D?fr(h,new Os({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},u,c)):[]}function C(h,u,c=!1){const m=function ma(h,u){for(let c=0;c<h.allWrites.length;c++){const m=h.allWrites[c];if(m.writeId===u)return m}return null}(h.pendingWriteTree_,u);if(function ks(h,u){const c=h.allWrites.findIndex(ne=>ne.writeId===u);(0,re.hu)(c>=0,"removeWrite called with nonexistent writeId.");const m=h.allWrites[c];h.allWrites.splice(c,1);let D=m.visible,O=!1,H=h.allWrites.length-1;for(;D&&H>=0;){const ne=h.allWrites[H];ne.visible&&(H>=c&&oo(ne,m.path)?D=!1:Ei(m.path,ne.path)&&(O=!0)),H--}return!!D&&(O?(function ao(h){h.visibleWrites=ya(h.allWrites,ai,ur()),h.lastWriteId=h.allWrites.length>0?h.allWrites[h.allWrites.length-1].writeId:-1}(h),!0):(m.snap?h.visibleWrites=St(h.visibleWrites,m.path):dr(m.children,ye=>{h.visibleWrites=St(h.visibleWrites,Lr(m.path,ye))}),!0))}(h.pendingWriteTree_,u)){let O=new F(null);return null!=m.snap?O=O.set(ur(),!0):dr(m.children,H=>{O=O.set(new Tr(H),!0)}),fr(h,new Aa(m.path,O,c))}return[]}function T(h,u,c){return fr(h,new Os({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},u,c))}function J(h,u,c,m,D=!1){const O=u._path,H=h.syncPointTree_.get(O);let ne=[];if(H&&("default"===u._queryIdentifier||qo(H,u))){const ye=function Ko(h,u,c,m){const D=u._queryIdentifier,O=[];let H=[];const ne=Oo(h);if("default"===D)for(const[ye,Se]of h.views.entries())H=H.concat(_l(Se,c,m)),Ha(Se)&&(h.views.delete(ye),Se.query._queryParams.loadsAllData()||O.push(Se.query));else{const ye=h.views.get(D);ye&&(H=H.concat(_l(ye,c,m)),Ha(ye)&&(h.views.delete(D),ye.query._queryParams.loadsAllData()||O.push(ye.query)))}return ne&&!Oo(h)&&O.push(new(function Ra(){return(0,re.hu)(wl,"Reference.ts has not been loaded"),wl}())(u._repo,u._path)),{removed:O,events:H}}(H,u,c,m);(function rd(h){return 0===h.views.size})(H)&&(h.syncPointTree_=h.syncPointTree_.remove(O));const Se=ye.removed;if(ne=ye.events,!D){const yt=-1!==Se.findIndex(Rt=>Rt._queryParams.loadsAllData()),Ct=h.syncPointTree_.findOnPath(O,(Rt,_n)=>Oo(_n));if(yt&&!Ct){const Rt=h.syncPointTree_.subtree(O);if(!Rt.isEmpty()){const _n=function _c(h){return h.fold((u,c,m)=>{if(c&&Oo(c))return[Zs(c)];{let D=[];return c&&(D=xo(c)),dr(m,(O,H)=>{D=D.concat(H)}),D}})}(Rt);for(let Jn=0;Jn<_n.length;++Jn){const Bi=_n[Jn],Vo=Bi.query,Hl=Yo(h,Bi);h.listenProvider_.startListening(Pa(Vo),Zo(h,Vo),Hl.hashFn,Hl.onComplete)}}}!Ct&&Se.length>0&&!m&&(yt?h.listenProvider_.stopListening(Pa(u),null):Se.forEach(Rt=>{const _n=h.queryToTagMap.get(ns(Rt));h.listenProvider_.stopListening(Pa(Rt),_n)}))}!function Vu(h,u){for(let c=0;c<u.length;++c){const m=u[c];if(!m._queryParams.loadsAllData()){const D=ns(m),O=h.queryToTagMap.get(D);h.queryToTagMap.delete(D),h.tagToQueryMap.delete(O)}}}(h,Se)}return ne}function ae(h,u,c,m){const D=Xl(h,m);if(null!=D){const O=Fl(D),H=O.path,ne=O.queryId,ye=Si(H,u);return il(h,H,new Os(rs(ne),ye,c))}return[]}function Et(h,u,c,m=!1){const D=u._path;let O=null,H=!1;h.syncPointTree_.foreachOnPath(D,(Rt,_n)=>{const Jn=Si(Rt,D);O=O||hs(_n,Jn),H=H||Oo(_n)});let ye,ne=h.syncPointTree_.get(D);ne?(H=H||Oo(ne),O=O||hs(ne,ur())):(ne=new No,h.syncPointTree_=h.syncPointTree_.set(D,ne)),null!=O?ye=!0:(ye=!1,O=qn.EMPTY_NODE,h.syncPointTree_.subtree(D).foreachChild((_n,Jn)=>{const Bi=hs(Jn,ur());Bi&&(O=O.updateImmediateChild(_n,Bi))}));const Se=qo(ne,u);if(!Se&&!u._queryParams.loadsAllData()){const Rt=ns(u);(0,re.hu)(!h.queryToTagMap.has(Rt),"View does not exist, but we have a tag");const _n=function vc(){return fu++}();h.queryToTagMap.set(Rt,_n),h.tagToQueryMap.set(_n,Rt)}let Ct=function rt(h,u,c,m,D,O){const H=ds(h,u,m,D,O);return h.views.has(u._queryIdentifier)||h.views.set(u._queryIdentifier,H),function Gi(h,u){h.eventRegistrations_.push(u)}(H,c),function vl(h,u){const c=h.viewCache_.eventCache,m=[];return c.getNode().isLeafNode()||c.getNode().forEachChild(Vr,(O,H)=>{m.push(da(O,H))}),c.isFullyInitialized()&&m.push(el(c.getNode())),El(h,m,c.getNode(),u)}(H,c)}(ne,u,c,ls(h.pendingWriteTree_,D),O,ye);if(!Se&&!H&&!m){const Rt=yo(ne,u);Ct=Ct.concat(function id(h,u,c){const m=u._path,D=Zo(h,u),O=Yo(h,c),H=h.listenProvider_.startListening(Pa(u),D,O.hashFn,O.onComplete),ne=h.syncPointTree_.subtree(m);if(D)(0,re.hu)(!Oo(ne.value),"If we're adding a query, it shouldn't be shadowed");else{const ye=ne.fold((Se,yt,Ct)=>{if(!$n(Se)&&yt&&Oo(yt))return[Zs(yt).query];{let Rt=[];return yt&&(Rt=Rt.concat(xo(yt).map(_n=>_n.query))),dr(Ct,(_n,Jn)=>{Rt=Rt.concat(Jn)}),Rt}});for(let Se=0;Se<ye.length;++Se){const yt=ye[Se];h.listenProvider_.stopListening(Pa(yt),Zo(h,yt))}}return H}(h,u,Rt))}return Ct}function Xt(h,u,c){const D=h.pendingWriteTree_,O=h.syncPointTree_.findOnPath(u,(H,ne)=>{const Se=hs(ne,Si(H,u));if(Se)return Se});return zo(D,u,O,c,!0)}function fr(h,u){return Cs(u,h.syncPointTree_,null,ls(h.pendingWriteTree_,ur()))}function Cs(h,u,c,m){if($n(h.path))return _o(h,u,c,m);{const D=u.get(ur());null==c&&null!=D&&(c=hs(D,ur()));let O=[];const H=zn(h.path),ne=h.operationForChild(H),ye=u.children.get(H);if(ye&&ne){const Se=c?c.getImmediateChild(H):null,yt=ps(m,H);O=O.concat(Cs(ne,ye,Se,yt))}return D&&(O=O.concat(Ea(D,h,m,c))),O}}function _o(h,u,c,m){const D=u.get(ur());null==c&&null!=D&&(c=hs(D,ur()));let O=[];return u.children.inorderTraversal((H,ne)=>{const ye=c?c.getImmediateChild(H):null,Se=ps(m,H),yt=h.operationForChild(H);yt&&(O=O.concat(_o(yt,ne,ye,Se)))}),D&&(O=O.concat(Ea(D,h,m,c))),O}function Yo(h,u){const c=u.query,m=Zo(h,c);return{hashFn:()=>(function nn(h){return h.viewCache_.serverCache.getNode()}(u)||qn.EMPTY_NODE).hash(),onComplete:D=>{if("ok"===D)return m?function j(h,u,c){const m=Xl(h,c);if(m){const D=Fl(m),O=D.path,H=D.queryId,ne=Si(O,u);return il(h,O,new oa(rs(H),ne))}return[]}(h,c._path,m):function P(h,u){return fr(h,new oa({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},u))}(h,c._path);{const O=function mn(h,u){let c="Unknown Error";"too_big"===h?c="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===h?c="Client doesn't have permission to access the desired data.":"unavailable"===h&&(c="The service is unavailable");const m=new Error(h+" at "+u._path.toString()+": "+c);return m.code=h.toUpperCase(),m}(D,c);return J(h,c,null,O)}}}}function Zo(h,u){const c=ns(u);return h.queryToTagMap.get(c)}function ns(h){return h._path.toString()+"$"+h._queryIdentifier}function Xl(h,u){return h.tagToQueryMap.get(u)}function Fl(h){const u=h.indexOf("$");return(0,re.hu)(-1!==u&&u<h.length-1,"Bad queryKey."),{queryId:h.substr(u+1),path:new Tr(h.substr(0,u))}}function il(h,u,c){const m=h.syncPointTree_.get(u);return(0,re.hu)(m,"Missing sync point for query tag that we're tracking"),Ea(m,c,ls(h.pendingWriteTree_,u),null)}function Pa(h){return h._queryParams.loadsAllData()&&!h._queryParams.isDefault()?new(function kl(){return(0,re.hu)(rl,"Reference.ts has not been loaded"),rl}())(h._repo,h._path):h}class pu{constructor(u){this.node_=u}getImmediateChild(u){const c=this.node_.getImmediateChild(u);return new pu(c)}node(){return this.node_}}class gu{constructor(u,c){this.syncTree_=u,this.path_=c}getImmediateChild(u){const c=Lr(this.path_,u);return new gu(this.syncTree_,c)}node(){return Xt(this.syncTree_,this.path_)}}const sd=function(h){return(h=h||{}).timestamp=h.timestamp||(new Date).getTime(),h},Jl=function(h,u,c){return h&&"object"==typeof h?((0,re.hu)(".sv"in h,"Unexpected leaf node or priority contents"),"string"==typeof h[".sv"]?Qs(h[".sv"],u,c):"object"==typeof h[".sv"]?Ec(h[".sv"],u):void(0,re.hu)(!1,"Unexpected server value: "+JSON.stringify(h,null,2))):h},Qs=function(h,u,c){if("timestamp"===h)return c.timestamp;(0,re.hu)(!1,"Unexpected server value: "+h)},Ec=function(h,u,c){h.hasOwnProperty("increment")||(0,re.hu)(!1,"Unexpected server value: "+JSON.stringify(h,null,2));const m=h.increment;"number"!=typeof m&&(0,re.hu)(!1,"Unexpected increment value: "+m);const D=u.node();if((0,re.hu)(null!==D&&typeof D<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!D.isLeafNode())return m;const H=D.getValue();return"number"!=typeof H?m:H+m},Qo=function(h,u,c,m){return Qi(u,new gu(c,h),m)},mu=function(h,u,c){return Qi(h,new pu(u),c)};function Qi(h,u,c){const m=h.getPriority().val(),D=Jl(m,u.getImmediateChild(".priority"),c);let O;if(h.isLeafNode()){const H=h,ne=Jl(H.getValue(),u,c);return ne!==H.getValue()||D!==H.getPriority().val()?new Ni(ne,tr(D)):h}{const H=h;return O=H,D!==H.getPriority().val()&&(O=O.updatePriority(new Ni(D))),H.forEachChild(Vr,(ne,ye)=>{const Se=Qi(ye,u.getImmediateChild(ne),c);Se!==ye&&(O=O.updateImmediateChild(ne,Se))}),O}}class Cl{constructor(u="",c=null,m={children:{},childCount:0}){this.name=u,this.parent=c,this.node=m}}function js(h,u){let c=u instanceof Tr?u:new Tr(u),m=h,D=zn(c);for(;null!==D;){const O=(0,re.DV)(m.node.children,D)||{children:{},childCount:0};m=new Cl(D,m,O),c=Gr(c),D=zn(c)}return m}function ui(h){return h.node.value}function yu(h,u){h.node.value=u,wa(h)}function Na(h){return h.node.childCount>0}function sl(h,u){dr(h.node.children,(c,m)=>{u(new Cl(c,h,m))})}function wc(h,u,c,m){c&&!m&&u(h),sl(h,D=>{wc(D,u,!0,m)}),c&&m&&u(h)}function Ga(h){return new Tr(null===h.parent?h.name:Ga(h.parent)+"/"+h.name)}function wa(h){null!==h.parent&&function ms(h,u,c){const m=function vo(h){return void 0===ui(h)&&!Na(h)}(c),D=(0,re.r3)(h.node.children,u);m&&D?(delete h.node.children[u],h.node.childCount--,wa(h)):!m&&!D&&(h.node.children[u]=c.node,h.node.childCount++,wa(h))}(h.parent,h.name,h)}const xa=/[\[\].#$\/\u0000-\u001F\u007F]/,Ll=/[\[\].#$\u0000-\u001F\u007F]/,Uu=10485760,Vl=function(h){return"string"==typeof h&&0!==h.length&&!xa.test(h)},Ic=function(h){return"string"==typeof h&&0!==h.length&&!Ll.test(h)},ua=function(h){return null===h||"string"==typeof h||"number"==typeof h&&!Zt(h)||h&&"object"==typeof h&&(0,re.r3)(h,".sv")},Hs=function(h,u,c,m){m&&void 0===u||Fo((0,re.gK)(h,"value"),u,c)},Fo=function(h,u,c){const m=c instanceof Tr?new Ca(c,h):c;if(void 0===u)throw new Error(h+"contains undefined "+ro(m));if("function"==typeof u)throw new Error(h+"contains a function "+ro(m)+" with contents = "+u.toString());if(Zt(u))throw new Error(h+"contains "+u.toString()+" "+ro(m));if("string"==typeof u&&u.length>Uu/3&&(0,re.ug)(u)>Uu)throw new Error(h+"contains a string greater than "+Uu+" utf8 bytes "+ro(m)+" ('"+u.substring(0,50)+"...')");if(u&&"object"==typeof u){let D=!1,O=!1;if(dr(u,(H,ne)=>{if(".value"===H)D=!0;else if(".priority"!==H&&".sv"!==H&&(O=!0,!Vl(H)))throw new Error(h+" contains an invalid key ("+H+") "+ro(m)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function Ws(h,u){h.parts_.length>0&&(h.byteLength_+=1),h.parts_.push(u),h.byteLength_+=(0,re.ug)(u),ta(h)})(m,H),Fo(h,ne,m),function Ks(h){const u=h.parts_.pop();h.byteLength_-=(0,re.ug)(u),h.parts_.length>0&&(h.byteLength_-=1)}(m)}),D&&O)throw new Error(h+' contains ".value" child '+ro(m)+" in addition to actual children.")}},ol=function(h,u,c,m){if(m&&void 0===u)return;const D=(0,re.gK)(h,"values");if(!u||"object"!=typeof u||Array.isArray(u))throw new Error(D+" must be an object containing the children to replace.");const O=[];dr(u,(H,ne)=>{const ye=new Tr(H);if(Fo(D,ne,Lr(c,ye)),".priority"===Ji(ye)&&!ua(ne))throw new Error(D+"contains an invalid value for '"+ye.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");O.push(ye)}),function(h,u){let c,m;for(c=0;c<u.length;c++){m=u[c];const O=Ts(m);for(let H=0;H<O.length;H++)if((".priority"!==O[H]||H!==O.length-1)&&!Vl(O[H]))throw new Error(h+"contains an invalid key ("+O[H]+") in path "+m.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}u.sort(no);let D=null;for(c=0;c<u.length;c++){if(m=u[c],null!==D&&Ei(D,m))throw new Error(h+"contains a path "+D.toString()+" that is ancestor of another path "+m.toString());D=m}}(D,O)},Eo=function(h,u,c){if(!c||void 0!==u){if(Zt(u))throw new Error((0,re.gK)(h,"priority")+"is "+u.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!ua(u))throw new Error((0,re.gK)(h,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},eu=function(h,u,c,m){if(!(m&&void 0===c||Vl(c)))throw new Error((0,re.gK)(h,u)+'was an invalid key = "'+c+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},lo=function(h,u,c,m){if(!(m&&void 0===c||Ic(c)))throw new Error((0,re.gK)(h,u)+'was an invalid path = "'+c+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},_u=function(h,u,c,m){c&&(c=c.replace(/^\/*\.info(\/|$)/,"/")),lo(h,u,c,m)},Xo=function(h,u){if(".info"===zn(u))throw new Error(h+" failed = Can't modify data under /.info/")},al=function(h,u){const c=u.path.toString();if("string"!=typeof u.repoInfo.host||0===u.repoInfo.host.length||!Vl(u.repoInfo.namespace)&&"localhost"!==u.repoInfo.host.split(":")[0]||0!==c.length&&!function(h){return h&&(h=h.replace(/^\/*\.info(\/|$)/,"/")),Ic(h)}(c))throw new Error((0,re.gK)(h,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class oc{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function ll(h,u){let c=null;for(let m=0;m<u.length;m++){const D=u[m],O=D.getPath();null!==c&&!Us(O,c.path)&&(h.eventLists_.push(c),c=null),null===c&&(c={events:[],path:O}),c.events.push(D)}c&&h.eventLists_.push(c)}function vu(h,u,c){ll(h,c),k(h,m=>Us(m,u))}function b(h,u,c){ll(h,c),k(h,m=>Ei(m,u)||Ei(u,m))}function k(h,u){h.recursionDepth_++;let c=!0;for(let m=0;m<h.eventLists_.length;m++){const D=h.eventLists_[m];D&&(u(D.path)?(q(h.eventLists_[m]),h.eventLists_[m]=null):c=!1)}c&&(h.eventLists_=[]),h.recursionDepth_--}function q(h){for(let u=0;u<h.events.length;u++){const c=h.events[u];if(null!==c){h.events[u]=null;const m=c.getEventRunner();Ft&&zt("event: "+c.toString()),sr(m)}}}const me="repo_interrupt",Oe=25;class ze{constructor(u,c,m,D){this.repoInfo_=u,this.forceRestClient_=c,this.authTokenProvider_=m,this.appCheckProvider_=D,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new oc,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Mo(),this.transactionQueueTree_=new Cl,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function ln(h){const c=h.infoData_.getNode(new Tr(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+c}function Vt(h){return sd({timestamp:ln(h)})}function kn(h,u,c,m,D){h.dataUpdateCount++;const O=new Tr(u);c=h.interceptServerDataCallback_?h.interceptServerDataCallback_(u,c):c;let H=[];if(D)if(m){const ye=(0,re.UI)(c,Se=>tr(Se));H=function Ke(h,u,c,m){const D=Xl(h,m);if(D){const O=Fl(D),H=O.path,ne=O.queryId,ye=Si(H,u),Se=F.fromObject(c);return il(h,H,new Zi(rs(ne),ye,Se))}return[]}(h.serverSyncTree_,O,ye,D)}else{const ye=tr(c);H=ae(h.serverSyncTree_,O,ye,D)}else if(m){const ye=(0,re.UI)(c,Se=>tr(Se));H=function E(h,u,c){const m=F.fromObject(c);return fr(h,new Zi({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},u,m))}(h.serverSyncTree_,O,ye)}else{const ye=tr(c);H=T(h.serverSyncTree_,O,ye)}let ne=O;H.length>0&&(ne=Cu(h,O)),b(h.eventQueue_,ne,H)}function Dn(h,u){Xs(h,"connected",u),!1===u&&function Br(h){za(h,"onDisconnectEvents");const u=Vt(h),c=Mo();ji(h.onDisconnect_,ur(),(D,O)=>{const H=Qo(D,O,h.serverSyncTree_,u);sa(c,D,H)});let m=[];ji(c,ur(),(D,O)=>{m=m.concat(T(h.serverSyncTree_,D,O));const H=Y(h,D);Cu(h,H)}),h.onDisconnect_=Mo(),b(h.eventQueue_,ur(),m)}(h)}function Xs(h,u,c){const m=new Tr("/.info/"+u),D=tr(c);h.infoData_.updateSnapshot(m,D);const O=T(h.infoSyncTree_,m,D);b(h.eventQueue_,m,O)}function Ms(h){return h.nextWriteId_++}function Eu(h,u,c,m,D){za(h,"set",{path:u.toString(),value:c,priority:m});const O=Vt(h),H=tr(c,m),ne=Xt(h.serverSyncTree_,u),ye=mu(H,ne,O),Se=Ms(h),yt=ko(h.serverSyncTree_,u,ye,Se,!0);ll(h.eventQueue_,yt),h.server_.put(u.toString(),H.val(!0),(Rt,_n)=>{const Jn="ok"===Rt;Jn||Un("set at "+u+" failed: "+Rt);const Bi=C(h.serverSyncTree_,Se,!Jn);b(h.eventQueue_,u,Bi),Sl(0,D,Rt,_n)});const Ct=Y(h,u);Cu(h,Ct),b(h.eventQueue_,Ct,[])}function Hr(h,u,c){h.server_.onDisconnectCancel(u.toString(),(m,D)=>{"ok"===m&&ml(h.onDisconnect_,u),Sl(0,c,m,D)})}function Dl(h,u,c,m){const D=tr(c);h.server_.onDisconnectPut(u.toString(),D.val(!0),(O,H)=>{"ok"===O&&sa(h.onDisconnect_,u,D),Sl(0,m,O,H)})}function Tl(h,u,c){let m;m=".info"===zn(u._path)?J(h.infoSyncTree_,u,c):J(h.serverSyncTree_,u,c),vu(h.eventQueue_,u._path,m)}function $u(h){h.persistentConnection_&&h.persistentConnection_.interrupt(me)}function za(h,...u){let c="";h.persistentConnection_&&(c=h.persistentConnection_.id+":"),zt(c,...u)}function Sl(h,u,c,m){u&&sr(()=>{if("ok"===c)u(null);else{const D=(c||"error").toUpperCase();let O=D;m&&(O+=": "+m);const H=new Error(O);H.code=D,u(H)}})}function ad(h,u,c){return Xt(h.serverSyncTree_,u,c)||qn.EMPTY_NODE}function Iu(h,u=h.transactionQueueTree_){if(u||A(h,u),ui(u)){const c=g(h,u);(0,re.hu)(c.length>0,"Sending zero length transaction queue"),c.every(D=>0===D.status)&&function Ld(h,u,c){const m=c.map(Se=>Se.currentWriteId),D=ad(h,u,m);let O=D;const H=D.hash();for(let Se=0;Se<c.length;Se++){const yt=c[Se];(0,re.hu)(0===yt.status,"tryToSendTransactionQueue_: items in queue should all be run."),yt.status=1,yt.retryCount++;const Ct=Si(u,yt.path);O=O.updateChild(Ct,yt.currentOutputSnapshotRaw)}const ne=O.val(!0),ye=u;h.server_.put(ye.toString(),ne,Se=>{za(h,"transaction put response",{path:ye.toString(),status:Se});let yt=[];if("ok"===Se){const Ct=[];for(let Rt=0;Rt<c.length;Rt++)c[Rt].status=2,yt=yt.concat(C(h.serverSyncTree_,c[Rt].currentWriteId)),c[Rt].onComplete&&Ct.push(()=>c[Rt].onComplete(null,!0,c[Rt].currentOutputSnapshotResolved)),c[Rt].unwatcher();A(h,js(h.transactionQueueTree_,u)),Iu(h,h.transactionQueueTree_),b(h.eventQueue_,u,yt);for(let Rt=0;Rt<Ct.length;Rt++)sr(Ct[Rt])}else{if("datastale"===Se)for(let Ct=0;Ct<c.length;Ct++)c[Ct].status=3===c[Ct].status?4:0;else{Un("transaction at "+ye.toString()+" failed: "+Se);for(let Ct=0;Ct<c.length;Ct++)c[Ct].status=4,c[Ct].abortReason=Se}Cu(h,u)}},H)}(h,Ga(u),c)}else Na(u)&&sl(u,c=>{Iu(h,c)})}function Cu(h,u){const c=S(h,u),m=Ga(c);return function Oh(h,u,c){if(0===u.length)return;const m=[];let D=[];const H=u.filter(ne=>0===ne.status).map(ne=>ne.currentWriteId);for(let ne=0;ne<u.length;ne++){const ye=u[ne],Se=Si(c,ye.path);let Ct,yt=!1;if((0,re.hu)(null!==Se,"rerunTransactionsUnderNode_: relativePath should not be null."),4===ye.status)yt=!0,Ct=ye.abortReason,D=D.concat(C(h.serverSyncTree_,ye.currentWriteId,!0));else if(0===ye.status)if(ye.retryCount>=Oe)yt=!0,Ct="maxretry",D=D.concat(C(h.serverSyncTree_,ye.currentWriteId,!0));else{const Rt=ad(h,ye.path,H);ye.currentInputSnapshot=Rt;const _n=u[ne].update(Rt.val());if(void 0!==_n){Fo("transaction failed: Data returned ",_n,ye.path);let Jn=tr(_n);"object"==typeof _n&&null!=_n&&(0,re.r3)(_n,".priority")||(Jn=Jn.updatePriority(Rt.getPriority()));const Vo=ye.currentWriteId,Hl=Vt(h),Rl=mu(Jn,Rt,Hl);ye.currentOutputSnapshotRaw=Jn,ye.currentOutputSnapshotResolved=Rl,ye.currentWriteId=Ms(h),H.splice(H.indexOf(Vo),1),D=D.concat(ko(h.serverSyncTree_,ye.path,Rl,ye.currentWriteId,ye.applyLocally)),D=D.concat(C(h.serverSyncTree_,Vo,!0))}else yt=!0,Ct="nodata",D=D.concat(C(h.serverSyncTree_,ye.currentWriteId,!0))}b(h.eventQueue_,c,D),D=[],yt&&(u[ne].status=2,setTimeout(u[ne].unwatcher,Math.floor(0)),u[ne].onComplete&&m.push("nodata"===Ct?()=>u[ne].onComplete(null,!1,u[ne].currentInputSnapshot):()=>u[ne].onComplete(new Error(Ct),!1,null)))}A(h,h.transactionQueueTree_);for(let ne=0;ne<m.length;ne++)sr(m[ne]);Iu(h,h.transactionQueueTree_)}(h,g(h,c),m),m}function S(h,u){let c,m=h.transactionQueueTree_;for(c=zn(u);null!==c&&void 0===ui(m);)m=js(m,c),c=zn(u=Gr(u));return m}function g(h,u){const c=[];return v(h,u,c),c.sort((m,D)=>m.order-D.order),c}function v(h,u,c){const m=ui(u);if(m)for(let D=0;D<m.length;D++)c.push(m[D]);sl(u,D=>{v(h,D,c)})}function A(h,u){const c=ui(u);if(c){let m=0;for(let D=0;D<c.length;D++)2!==c[D].status&&(c[m]=c[D],m++);c.length=m,yu(u,c.length>0?c:void 0)}sl(u,m=>{A(h,m)})}function Y(h,u){const c=Ga(S(h,u)),m=js(h.transactionQueueTree_,u);return function Rs(h,u,c){let m=c?h:h.parent;for(;null!==m;){if(u(m))return!0;m=m.parent}}(m,D=>{le(h,D)}),le(h,m),wc(m,D=>{le(h,D)}),c}function le(h,u){const c=ui(u);if(c){const m=[];let D=[],O=-1;for(let H=0;H<c.length;H++)3===c[H].status||(1===c[H].status?((0,re.hu)(O===H-1,"All SENT items should be at beginning of queue."),O=H,c[H].status=3,c[H].abortReason="set"):((0,re.hu)(0===c[H].status,"Unexpected transaction status in abort"),c[H].unwatcher(),D=D.concat(C(h.serverSyncTree_,c[H].currentWriteId,!0)),c[H].onComplete&&m.push(c[H].onComplete.bind(null,new Error("set"),!1,null))));-1===O?yu(u,void 0):c.length=O+1,b(h.eventQueue_,Ga(u),D);for(let H=0;H<m.length;H++)sr(m[H])}}const Yt=function(h,u){const c=an(h),m=c.namespace;return"firebase.com"===c.domain&&xn(c.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!m||"undefined"===m)&&"localhost"!==c.domain&&xn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),c.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Un("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new ue(c.host,c.secure,m,"ws"===c.scheme||"wss"===c.scheme,u,"",m!==c.subdomain),path:new Tr(c.pathString)}},an=function(h){let u="",c="",m="",D="",O="",H=!0,ne="https",ye=443;if("string"==typeof h){let Se=h.indexOf("//");Se>=0&&(ne=h.substring(0,Se-1),h=h.substring(Se+2));let yt=h.indexOf("/");-1===yt&&(yt=h.length);let Ct=h.indexOf("?");-1===Ct&&(Ct=h.length),u=h.substring(0,Math.min(yt,Ct)),yt<Ct&&(D=function He(h){let u="";const c=h.split("/");for(let m=0;m<c.length;m++)if(c[m].length>0){let D=c[m];try{D=decodeURIComponent(D.replace(/\+/g," "))}catch{}u+="/"+D}return u}(h.substring(yt,Ct)));const Rt=function gt(h){const u={};"?"===h.charAt(0)&&(h=h.substring(1));for(const c of h.split("&")){if(0===c.length)continue;const m=c.split("=");2===m.length?u[decodeURIComponent(m[0])]=decodeURIComponent(m[1]):Un(`Invalid query segment '${c}' in query '${h}'`)}return u}(h.substring(Math.min(h.length,Ct)));Se=u.indexOf(":"),Se>=0?(H="https"===ne||"wss"===ne,ye=parseInt(u.substring(Se+1),10)):Se=u.length;const _n=u.slice(0,Se);if("localhost"===_n.toLowerCase())c="localhost";else if(_n.split(".").length<=2)c=_n;else{const Jn=u.indexOf(".");m=u.substring(0,Jn).toLowerCase(),c=u.substring(Jn+1),O=m}"ns"in Rt&&(O=Rt.ns)}return{host:u,port:ye,domain:c,subdomain:m,secure:H,scheme:ne,pathString:D,namespace:O}},Hn="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",yr=function(){let h=0;const u=[];return function(c){const m=c===h;let D;h=c;const O=new Array(8);for(D=7;D>=0;D--)O[D]=Hn.charAt(c%64),c=Math.floor(c/64);(0,re.hu)(0===c,"Cannot push at time == 0");let H=O.join("");if(m){for(D=11;D>=0&&63===u[D];D--)u[D]=0;u[D]++}else for(D=0;D<12;D++)u[D]=Math.floor(64*Math.random());for(D=0;D<12;D++)H+=Hn.charAt(u[D]);return(0,re.hu)(20===H.length,"nextPushId: Length should be 20."),H}}();class Lo{constructor(u,c,m,D){this.eventType=u,this.eventRegistration=c,this.snapshot=m,this.prevName=D}getPath(){const u=this.snapshot.ref;return"value"===this.eventType?u._path:u.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,re.Wl)(this.snapshot.exportVal())}}class Wa{constructor(u,c,m){this.eventRegistration=u,this.error=c,this.path=m}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class Ul{constructor(u,c){this.snapshotCallback=u,this.cancelCallback=c}onValue(u,c){this.snapshotCallback.call(null,u,c)}onCancel(u){return(0,re.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,u)}get hasCancelCallback(){return!!this.cancelCallback}matches(u){return this.snapshotCallback===u.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===u.snapshotCallback.userCallback&&this.snapshotCallback.context===u.snapshotCallback.context}}class Dc{constructor(u,c){this._repo=u,this._path=c}cancel(){const u=new re.BH;return Hr(this._repo,this._path,u.wrapCallback(()=>{})),u.promise}remove(){Xo("OnDisconnect.remove",this._path);const u=new re.BH;return Dl(this._repo,this._path,null,u.wrapCallback(()=>{})),u.promise}set(u){Xo("OnDisconnect.set",this._path),Hs("OnDisconnect.set",u,this._path,!1);const c=new re.BH;return Dl(this._repo,this._path,u,c.wrapCallback(()=>{})),c.promise}setWithPriority(u,c){Xo("OnDisconnect.setWithPriority",this._path),Hs("OnDisconnect.setWithPriority",u,this._path,!1),Eo("OnDisconnect.setWithPriority",c,!1);const m=new re.BH;return function Bu(h,u,c,m,D){const O=tr(c,m);h.server_.onDisconnectPut(u.toString(),O.val(!0),(H,ne)=>{"ok"===H&&sa(h.onDisconnect_,u,O),Sl(0,D,H,ne)})}(this._repo,this._path,u,c,m.wrapCallback(()=>{})),m.promise}update(u){Xo("OnDisconnect.update",this._path),ol("OnDisconnect.update",u,this._path,!1);const c=new re.BH;return function ac(h,u,c,m){if((0,re.xb)(c))return zt("onDisconnect().update() called with empty data.  Don't do anything."),void Sl(0,m,"ok",void 0);h.server_.onDisconnectMerge(u.toString(),c,(D,O)=>{"ok"===D&&dr(c,(H,ne)=>{const ye=tr(ne);sa(h.onDisconnect_,Lr(u,H),ye)}),Sl(0,m,D,O)})}(this._repo,this._path,u,c.wrapCallback(()=>{})),c.promise}}class ys{constructor(u,c,m,D){this._repo=u,this._path=c,this._queryParams=m,this._orderByCalled=D}get key(){return $n(this._path)?null:Ji(this._path)}get ref(){return new wo(this._repo,this._path)}get _queryIdentifier(){const u=Ro(this._queryParams),c=kr(u);return"{}"===c?"default":c}get _queryObject(){return Ro(this._queryParams)}isEqual(u){if(!((u=(0,re.m9)(u))instanceof ys))return!1;const c=this._repo===u._repo,m=Us(this._path,u._path);return c&&m&&this._queryIdentifier===u._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function _s(h){let u="";for(let c=h.pieceNum_;c<h.pieces_.length;c++)""!==h.pieces_[c]&&(u+="/"+encodeURIComponent(String(h.pieces_[c])));return u||"/"}(this._path)}}function uo(h,u){if(!0===h._orderByCalled)throw new Error(u+": You can't combine multiple orderBy calls.")}function Ka(h){let u=null,c=null;if(h.hasStart()&&(u=h.getIndexStartValue()),h.hasEnd()&&(c=h.getIndexEndValue()),h.getIndex()===_t){const m="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",D="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(h.hasStart()){if(h.getIndexStartName()!==Or)throw new Error(m);if("string"!=typeof u)throw new Error(D)}if(h.hasEnd()){if(h.getIndexEndName()!==Tn)throw new Error(m);if("string"!=typeof c)throw new Error(D)}}else if(h.getIndex()===Vr){if(null!=u&&!ua(u)||null!=c&&!ua(c))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,re.hu)(h.getIndex()instanceof Ta||h.getIndex()===ra,"unknown index type."),null!=u&&"object"==typeof u||null!=c&&"object"==typeof c)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function bl(h){if(h.hasStart()&&h.hasEnd()&&h.hasLimit()&&!h.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class wo extends ys{constructor(u,c){super(u,c,new Kr,!1)}get parent(){const u=Do(this._path);return null===u?null:new wo(this._repo,u)}get root(){let u=this;for(;null!==u.parent;)u=u.parent;return u}}class ul{constructor(u,c,m){this._node=u,this.ref=c,this._index=m}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(u){const c=new Tr(u),m=cl(this.ref,u);return new ul(this._node.getChild(c),m,Vr)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(u){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(m,D)=>u(new ul(D,cl(this.ref,m),Vr)))}hasChild(u){const c=new Tr(u);return!this._node.getChild(c).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Du(h,u){return(h=(0,re.m9)(h))._checkNotDeleted("ref"),void 0!==u?cl(h._root,u):h._root}function Al(h,u){(h=(0,re.m9)(h))._checkNotDeleted("refFromURL");const c=Yt(u,h._repo.repoInfo_.nodeAdmin);al("refFromURL",c);const m=c.repoInfo;return!h._repo.repoInfo_.isCustomHost()&&m.host!==h._repo.repoInfo_.host&&xn("refFromURL: Host name does not match the current database: (found "+m.host+" but expected "+h._repo.repoInfo_.host+")"),Du(h,c.path.toString())}function cl(h,u){return null===zn((h=(0,re.m9)(h))._path)?_u("child","path",u,!1):lo("child","path",u,!1),new wo(h._repo,Lr(h._path,u))}function ud(h,u){h=(0,re.m9)(h),Xo("set",h._path),Hs("set",u,h._path,!1);const c=new re.BH;return Eu(h._repo,h._path,u,null,c.wrapCallback(()=>{})),c.promise}function Sc(h,u){ol("update",u,h._path,!1);const c=new re.BH;return function wu(h,u,c,m){za(h,"update",{path:u.toString(),value:c});let D=!0;const O=Vt(h),H={};if(dr(c,(ne,ye)=>{D=!1,H[ne]=Qo(Lr(u,ne),tr(ye),h.serverSyncTree_,O)}),D)zt("update() called with empty data.  Don't do anything."),Sl(0,m,"ok",void 0);else{const ne=Ms(h),ye=function Ma(h,u,c,m){!function mo(h,u,c,m){(0,re.hu)(m>h.lastWriteId,"Stacking an older merge on top of newer ones"),h.allWrites.push({path:u,children:c,writeId:m,visible:!0}),h.visibleWrites=dt(h.visibleWrites,u,c),h.lastWriteId=m}(h.pendingWriteTree_,u,c,m);const D=F.fromObject(c);return fr(h,new Zi({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},u,D))}(h.serverSyncTree_,u,H,ne);ll(h.eventQueue_,ye),h.server_.merge(u.toString(),c,(Se,yt)=>{const Ct="ok"===Se;Ct||Un("update at "+u+" failed: "+Se);const Rt=C(h.serverSyncTree_,ne,!Ct),_n=Rt.length>0?Cu(h,u):u;b(h.eventQueue_,_n,Rt),Sl(0,m,Se,yt)}),dr(c,Se=>{const yt=Y(h,Lr(u,Se));Cu(h,yt)}),b(h.eventQueue_,u,[])}}(h._repo,h._path,u,c.wrapCallback(()=>{})),c.promise}function Kf(h){h=(0,re.m9)(h);const u=new Ul(()=>{}),c=new qa(u);return function Ia(h,u,c){const m=function gn(h,u){const c=u._path;let m=null;h.syncPointTree_.foreachOnPath(c,(Se,yt)=>{const Ct=Si(Se,c);m=m||hs(yt,Ct)});let D=h.syncPointTree_.get(c);D?m=m||hs(D,ur()):(D=new No,h.syncPointTree_=h.syncPointTree_.set(c,D));const O=null!=m,H=O?new Ai(m,!0,!1):null;return function $s(h){return ga(h.viewCache_)}(ds(D,u,ls(h.pendingWriteTree_,u._path),O?H.getNode():qn.EMPTY_NODE,O))}(h.serverSyncTree_,u);return null!=m?Promise.resolve(m):h.server_.get(u).then(D=>{const O=tr(D).withIndex(u._queryParams.getIndex());let H;if(Et(h.serverSyncTree_,u,c,!0),u._queryParams.loadsAllData())H=T(h.serverSyncTree_,u._path,O);else{const ne=Zo(h.serverSyncTree_,u);H=ae(h.serverSyncTree_,u._path,O,ne)}return b(h.eventQueue_,u._path,H),J(h.serverSyncTree_,u,c,null,!0),O},D=>(za(h,"get for query "+(0,re.Wl)(u)+" failed: "+D),Promise.reject(new Error(D))))}(h._repo,h,c).then(m=>new ul(m,new wo(h._repo,h._path),h._queryParams.getIndex()))}class qa{constructor(u){this.callbackContext=u}respondsTo(u){return"value"===u}createEvent(u,c){const m=c._queryParams.getIndex();return new Lo("value",this,new ul(u.snapshotNode,new wo(c._repo,c._path),m))}getEventRunner(u){return"cancel"===u.getEventType()?()=>this.callbackContext.onCancel(u.error):()=>this.callbackContext.onValue(u.snapshot,null)}createCancelEvent(u,c){return this.callbackContext.hasCancelCallback?new Wa(this,u,c):null}matches(u){return u instanceof qa&&(!u.callbackContext||!this.callbackContext||u.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class cd{constructor(u,c){this.eventType=u,this.callbackContext=c}respondsTo(u){let c="children_added"===u?"child_added":u;return c="children_removed"===c?"child_removed":c,this.eventType===c}createCancelEvent(u,c){return this.callbackContext.hasCancelCallback?new Wa(this,u,c):null}createEvent(u,c){(0,re.hu)(null!=u.childName,"Child events should have a childName.");const m=cl(new wo(c._repo,c._path),u.childName),D=c._queryParams.getIndex();return new Lo(u.type,this,new ul(u.snapshotNode,m,D),u.prevName)}getEventRunner(u){return"cancel"===u.getEventType()?()=>this.callbackContext.onCancel(u.error):()=>this.callbackContext.onValue(u.snapshot,u.prevName)}matches(u){return u instanceof cd&&this.eventType===u.eventType&&(!this.callbackContext||!u.callbackContext||this.callbackContext.matches(u.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function tu(h,u,c,m,D){let O;if("object"==typeof m&&(O=void 0,D=m),"function"==typeof m&&(O=m),D&&D.onlyOnce){const ye=c,Se=(yt,Ct)=>{Tl(h._repo,h,ne),ye(yt,Ct)};Se.userCallback=c.userCallback,Se.context=c.context,c=Se}const H=new Ul(c,O||void 0),ne="value"===u?new qa(H):new cd(u,H);return function od(h,u,c){let m;m=".info"===zn(u._path)?Et(h.infoSyncTree_,u,c):Et(h.serverSyncTree_,u,c),vu(h.eventQueue_,u._path,m)}(h._repo,h,ne),()=>Tl(h._repo,h,ne)}function Vd(h,u,c,m){return tu(h,"value",u,c,m)}function dd(h,u,c,m){return tu(h,"child_added",u,c,m)}function $r(h,u,c,m){return tu(h,"child_changed",u,c,m)}function lc(h,u,c,m){return tu(h,"child_moved",u,c,m)}function Ud(h,u,c,m){return tu(h,"child_removed",u,c,m)}function kh(h,u,c){let m=null;const D=c?new Ul(c):null;"value"===u?m=new qa(D):u&&(m=new cd(u,D)),Tl(h._repo,h,m)}class $l{}class Fh extends $l{constructor(u,c){super(),this._value=u,this._key=c}_apply(u){Hs("endAt",this._value,u._path,!0);const c=Es(u._queryParams,this._value,this._key);if(bl(c),Ka(c),u._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new ys(u._repo,u._path,c,u._orderByCalled)}}class Lg extends $l{constructor(u,c){super(),this._value=u,this._key=c}_apply(u){Hs("endBefore",this._value,u._path,!1);const c=function ws(h,u,c){let m;return m=Es(h,u,h.index_===_t||c?c:Or),m.endBeforeSet_=!0,m}(u._queryParams,this._value,this._key);if(bl(c),Ka(c),u._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new ys(u._repo,u._path,c,u._orderByCalled)}}class bc extends $l{constructor(u,c){super(),this._value=u,this._key=c}_apply(u){Hs("startAt",this._value,u._path,!0);const c=po(u._queryParams,this._value,this._key);if(bl(c),Ka(c),u._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new ys(u._repo,u._path,c,u._orderByCalled)}}class Hu extends $l{constructor(u,c){super(),this._value=u,this._key=c}_apply(u){Hs("startAfter",this._value,u._path,!1);const c=function bs(h,u,c){let m;return m=po(h,u,h.index_===_t||c?c:Tn),m.startAfterSet_=!0,m}(u._queryParams,this._value,this._key);if(bl(c),Ka(c),u._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new ys(u._repo,u._path,c,u._orderByCalled)}}class Gu extends $l{constructor(u){super(),this._limit=u}_apply(u){if(u._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new ys(u._repo,u._path,function io(h,u){const c=h.copy();return c.limitSet_=!0,c.limit_=u,c.viewFrom_="l",c}(u._queryParams,this._limit),u._orderByCalled)}}class Ac extends $l{constructor(u){super(),this._limit=u}_apply(u){if(u._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new ys(u._repo,u._path,function so(h,u){const c=h.copy();return c.limitSet_=!0,c.limit_=u,c.viewFrom_="r",c}(u._queryParams,this._limit),u._orderByCalled)}}class Qf extends $l{constructor(u){super(),this._path=u}_apply(u){uo(u,"orderByChild");const c=new Tr(this._path);if($n(c))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const m=new Ta(c),D=as(u._queryParams,m);return Ka(D),new ys(u._repo,u._path,D,!0)}}class Vg extends $l{_apply(u){uo(u,"orderByKey");const c=as(u._queryParams,_t);return Ka(c),new ys(u._repo,u._path,c,!0)}}class fs extends $l{_apply(u){uo(u,"orderByPriority");const c=as(u._queryParams,Vr);return Ka(c),new ys(u._repo,u._path,c,!0)}}class SE extends $l{_apply(u){uo(u,"orderByValue");const c=as(u._queryParams,ra);return Ka(c),new ys(u._repo,u._path,c,!0)}}class zy extends $l{constructor(u,c){super(),this._value=u,this._key=c}_apply(u){if(Hs("equalTo",this._value,u._path,!1),u._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(u._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Fh(this._value,this._key)._apply(new bc(this._value,this._key)._apply(u))}}function nu(h,...u){let c=(0,re.m9)(h);for(const m of u)c=m._apply(c);return c}(function Lu(h){(0,re.hu)(!wl,"__referenceConstructor has already been defined"),wl=h})(wo),function Il(h){(0,re.hu)(!rl,"__referenceConstructor has already been defined"),rl=h}(wo);const Uh="FIREBASE_DATABASE_EMULATOR_HOST",Wu={};let ru=!1;function Bh(h,u,c,m,D){let O=m||h.options.databaseURL;void 0===O&&(h.options.projectId||xn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),zt("Using default host for project ",h.options.projectId),O=`${h.options.projectId}-default-rtdb.firebaseio.com`);let ye,Se,H=Yt(O,D),ne=H.repoInfo;typeof process<"u"&&process.env&&(Se=process.env[Uh]),Se?(ye=!0,O=`http://${Se}?ns=${ne.namespace}`,H=Yt(O,D),ne=H.repoInfo):ye=!H.repoInfo.secure;const yt=D&&ye?new Cr(Cr.OWNER):new Nn(h.name,h.options,u);al("Invalid Firebase Database URL",H),$n(H.path)||xn("Database URL must point to the root of a Firebase Database (not including a child path).");const Ct=function Ya(h,u,c,m){let D=Wu[u.name];D||(D={},Wu[u.name]=D);let O=D[h.toURLString()];return O&&xn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),O=new ze(h,ru,c,m),D[h.toURLString()]=O,O}(ne,h,yt,new Ir(h.name,c));return new Hd(Ct,h)}class Hd{constructor(u,c){this._repoInternal=u,this.app=c,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function mt(h,u,c){if(h.stats_=Ne(h.repoInfo_),h.forceRestClient_||ci())h.server_=new As(h.repoInfo_,(m,D,O,H)=>{kn(h,m,D,O,H)},h.authTokenProvider_,h.appCheckProvider_),setTimeout(()=>Dn(h,!0),0);else{if(typeof c<"u"&&null!==c){if("object"!=typeof c)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,re.Wl)(c)}catch(m){throw new Error("Invalid authOverride provided: "+m)}}h.persistentConnection_=new Z(h.repoInfo_,u,(m,D,O,H)=>{kn(h,m,D,O,H)},m=>{Dn(h,m)},m=>{!function Xn(h,u){dr(u,(c,m)=>{Xs(h,c,m)})}(h,m)},h.authTokenProvider_,h.appCheckProvider_,c),h.server_=h.persistentConnection_}h.authTokenProvider_.addTokenChangeListener(m=>{h.server_.refreshAuthToken(m)}),h.appCheckProvider_.addTokenChangeListener(m=>{h.server_.refreshAppCheckToken(m.token)}),h.statsReporter_=function nt(h,u){const c=h.toString();return ce[c]||(ce[c]=u()),ce[c]}(h.repoInfo_,()=>new ba(h.stats_,h.server_)),h.infoData_=new Nl,h.infoSyncTree_=new zi({startListening:(m,D,O,H)=>{let ne=[];const ye=h.infoData_.getNode(m._path);return ye.isEmpty()||(ne=T(h.infoSyncTree_,m._path,ye),setTimeout(()=>{H("ok")},0)),ne},stopListening:()=>{}}),Xs(h,"connected",!1),h.serverSyncTree_=new zi({startListening:(m,D,O,H)=>(h.server_.listen(m,O,D,(ne,ye)=>{const Se=H(ne,ye);b(h.eventQueue_,m._path,Se)}),[]),stopListening:(m,D)=>{h.server_.unlisten(m,D)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new wo(this._repo,ur())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function jd(h,u){const c=Wu[u];(!c||c[h.key]!==h)&&xn(`Database ${u}(${h.repoInfo_}) has already been deleted.`),$u(h),delete c[h.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(u){null===this._rootInternal&&xn("Cannot call "+u+" on a deleted database.")}}function fd(){Fi.IS_TRANSPORT_INITIALIZED&&Un("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function Gd(){fd(),Ti.forceDisallow()}function Wy(){fd(),Dr.forceDisallow(),Ti.forceAllow()}function Bg(h,u){vn(h,u)}const pd={".sv":"timestamp"};class tp{constructor(u,c){this.committed=u,this.snapshot=c}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}Z.prototype.simpleListen=function(h,u){this.sendRequest("q",{p:h},u)},Z.prototype.echo=function(h,u){this.sendRequest("echo",{d:h},u)},function Jf(h){sn(Be.SDK_VERSION),(0,Be._registerComponent)(new et.wA("database",(u,{instanceIdentifier:c})=>Bh(u.getProvider("app").getImmediate(),u.getProvider("auth-internal"),u.getProvider("app-check-internal"),c),"PUBLIC").setMultipleInstances(!0)),(0,Be.registerVersion)(Gt,"0.14.4",h),(0,Be.registerVersion)(Gt,"0.14.4","esm2017")}();const Wd=new en.Yd("@firebase/database-compat"),Js=function(h){Wd.warn("FIREBASE WARNING: "+h)};class jh{constructor(u){this._delegate=u}cancel(u){(0,re.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,re.Wj)("OnDisconnect.cancel","onComplete",u,!0);const c=this._delegate.cancel();return u&&c.then(()=>u(null),m=>u(m)),c}remove(u){(0,re.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,re.Wj)("OnDisconnect.remove","onComplete",u,!0);const c=this._delegate.remove();return u&&c.then(()=>u(null),m=>u(m)),c}set(u,c){(0,re.Dv)("OnDisconnect.set",1,2,arguments.length),(0,re.Wj)("OnDisconnect.set","onComplete",c,!0);const m=this._delegate.set(u);return c&&m.then(()=>c(null),D=>c(D)),m}setWithPriority(u,c,m){(0,re.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,re.Wj)("OnDisconnect.setWithPriority","onComplete",m,!0);const D=this._delegate.setWithPriority(u,c);return m&&D.then(()=>m(null),O=>m(O)),D}update(u,c){if((0,re.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(u)){const D={};for(let O=0;O<u.length;++O)D[""+O]=u[O];u=D,Js("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,re.Wj)("OnDisconnect.update","onComplete",c,!0);const m=this._delegate.update(u);return c&&m.then(()=>c(null),D=>c(D)),m}}class Hh{constructor(u,c){this.committed=u,this.snapshot=c}toJSON(){return(0,re.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class Tu{constructor(u,c){this._database=u,this._delegate=c}val(){return(0,re.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,re.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,re.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,re.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(u){return(0,re.Dv)("DataSnapshot.child",0,1,arguments.length),u=String(u),lo("DataSnapshot.child","path",u,!1),new Tu(this._database,this._delegate.child(u))}hasChild(u){return(0,re.Dv)("DataSnapshot.hasChild",1,1,arguments.length),lo("DataSnapshot.hasChild","path",u,!1),this._delegate.hasChild(u)}getPriority(){return(0,re.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(u){return(0,re.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,re.Wj)("DataSnapshot.forEach","action",u,!1),this._delegate.forEach(c=>u(new Tu(this._database,c)))}hasChildren(){return(0,re.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,re.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,re.Dv)("DataSnapshot.ref",0,0,arguments.length),new dl(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class ca{constructor(u,c){this.database=u,this._delegate=c}on(u,c,m,D){var O;(0,re.Dv)("Query.on",2,4,arguments.length),(0,re.Wj)("Query.on","callback",c,!1);const H=ca.getCancelAndContextArgs_("Query.on",m,D),ne=(Se,yt)=>{c.call(H.context,new Tu(this.database,Se),yt)};ne.userCallback=c,ne.context=H.context;const ye=null===(O=H.cancel)||void 0===O?void 0:O.bind(H.context);switch(u){case"value":return Vd(this._delegate,ne,ye),c;case"child_added":return dd(this._delegate,ne,ye),c;case"child_removed":return Ud(this._delegate,ne,ye),c;case"child_changed":return $r(this._delegate,ne,ye),c;case"child_moved":return lc(this._delegate,ne,ye),c;default:throw new Error((0,re.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(u,c,m){if((0,re.Dv)("Query.off",0,3,arguments.length),function(h,u,c){if(void 0!==u)switch(u){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,re.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,u),(0,re.Wj)("Query.off","callback",c,!0),(0,re.lb)("Query.off","context",m,!0),c){const D=()=>{};D.userCallback=c,D.context=m,kh(this._delegate,u,D)}else kh(this._delegate,u)}get(){return Kf(this._delegate).then(u=>new Tu(this.database,u))}once(u,c,m,D){(0,re.Dv)("Query.once",1,4,arguments.length),(0,re.Wj)("Query.once","callback",c,!0);const O=ca.getCancelAndContextArgs_("Query.once",m,D),H=new re.BH,ne=(Se,yt)=>{const Ct=new Tu(this.database,Se);c&&c.call(O.context,Ct,yt),H.resolve(Ct)};ne.userCallback=c,ne.context=O.context;const ye=Se=>{O.cancel&&O.cancel.call(O.context,Se),H.reject(Se)};switch(u){case"value":Vd(this._delegate,ne,ye,{onlyOnce:!0});break;case"child_added":dd(this._delegate,ne,ye,{onlyOnce:!0});break;case"child_removed":Ud(this._delegate,ne,ye,{onlyOnce:!0});break;case"child_changed":$r(this._delegate,ne,ye,{onlyOnce:!0});break;case"child_moved":lc(this._delegate,ne,ye,{onlyOnce:!0});break;default:throw new Error((0,re.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return H.promise}limitToFirst(u){return(0,re.Dv)("Query.limitToFirst",1,1,arguments.length),new ca(this.database,nu(this._delegate,function Vh(h){if("number"!=typeof h||Math.floor(h)!==h||h<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Gu(h)}(u)))}limitToLast(u){return(0,re.Dv)("Query.limitToLast",1,1,arguments.length),new ca(this.database,nu(this._delegate,function Zf(h){if("number"!=typeof h||Math.floor(h)!==h||h<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new Ac(h)}(u)))}orderByChild(u){return(0,re.Dv)("Query.orderByChild",1,1,arguments.length),new ca(this.database,nu(this._delegate,function hd(h){if("$key"===h)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===h)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===h)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return lo("orderByChild","path",h,!1),new Qf(h)}(u)))}orderByKey(){return(0,re.Dv)("Query.orderByKey",0,0,arguments.length),new ca(this.database,nu(this._delegate,function zu(){return new Vg}()))}orderByPriority(){return(0,re.Dv)("Query.orderByPriority",0,0,arguments.length),new ca(this.database,nu(this._delegate,function Bd(){return new fs}()))}orderByValue(){return(0,re.Dv)("Query.orderByValue",0,0,arguments.length),new ca(this.database,nu(this._delegate,function Ug(){return new SE}()))}startAt(u=null,c){return(0,re.Dv)("Query.startAt",0,2,arguments.length),new ca(this.database,nu(this._delegate,function ju(h=null,u){return eu("startAt","key",u,!0),new bc(h,u)}(u,c)))}startAfter(u=null,c){return(0,re.Dv)("Query.startAfter",0,2,arguments.length),new ca(this.database,nu(this._delegate,function Lh(h,u){return eu("startAfter","key",u,!0),new Hu(h,u)}(u,c)))}endAt(u=null,c){return(0,re.Dv)("Query.endAt",0,2,arguments.length),new ca(this.database,nu(this._delegate,function qf(h,u){return eu("endAt","key",u,!0),new Fh(h,u)}(u,c)))}endBefore(u=null,c){return(0,re.Dv)("Query.endBefore",0,2,arguments.length),new ca(this.database,nu(this._delegate,function Yf(h,u){return eu("endBefore","key",u,!0),new Lg(h,u)}(u,c)))}equalTo(u,c){return(0,re.Dv)("Query.equalTo",1,2,arguments.length),new ca(this.database,nu(this._delegate,function $d(h,u){return eu("equalTo","key",u,!0),new zy(h,u)}(u,c)))}toString(){return(0,re.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,re.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(u){if((0,re.Dv)("Query.isEqual",1,1,arguments.length),!(u instanceof ca))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(u._delegate)}static getCancelAndContextArgs_(u,c,m){const D={cancel:void 0,context:void 0};if(c&&m)D.cancel=c,(0,re.Wj)(u,"cancel",D.cancel,!0),D.context=m,(0,re.lb)(u,"context",D.context,!0);else if(c)if("object"==typeof c&&null!==c)D.context=c;else{if("function"!=typeof c)throw new Error((0,re.gK)(u,"cancelOrContext")+" must either be a cancel callback or a context object.");D.cancel=c}return D}get ref(){return new dl(this.database,new wo(this._delegate._repo,this._delegate._path))}}class dl extends ca{constructor(u,c){super(u,new ys(c._repo,c._path,new Kr,!1)),this.database=u,this._delegate=c}getKey(){return(0,re.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(u){return(0,re.Dv)("Reference.child",1,1,arguments.length),"number"==typeof u&&(u=String(u)),new dl(this.database,cl(this._delegate,u))}getParent(){(0,re.Dv)("Reference.parent",0,0,arguments.length);const u=this._delegate.parent;return u?new dl(this.database,u):null}getRoot(){return(0,re.Dv)("Reference.root",0,0,arguments.length),new dl(this.database,this._delegate.root)}set(u,c){(0,re.Dv)("Reference.set",1,2,arguments.length),(0,re.Wj)("Reference.set","onComplete",c,!0);const m=ud(this._delegate,u);return c&&m.then(()=>c(null),D=>c(D)),m}update(u,c){if((0,re.Dv)("Reference.update",1,2,arguments.length),Array.isArray(u)){const D={};for(let O=0;O<u.length;++O)D[""+O]=u[O];u=D,Js("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Xo("Reference.update",this._delegate._path),(0,re.Wj)("Reference.update","onComplete",c,!0);const m=Sc(this._delegate,u);return c&&m.then(()=>c(null),D=>c(D)),m}setWithPriority(u,c,m){(0,re.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,re.Wj)("Reference.setWithPriority","onComplete",m,!0);const D=function Wf(h,u,c){if(Xo("setWithPriority",h._path),Hs("setWithPriority",u,h._path,!1),Eo("setWithPriority",c,!1),".length"===h.key||".keys"===h.key)throw"setWithPriority failed: "+h.key+" is a read-only object.";const m=new re.BH;return Eu(h._repo,h._path,u,c,m.wrapCallback(()=>{})),m.promise}(this._delegate,u,c);return m&&D.then(()=>m(null),O=>m(O)),D}remove(u){(0,re.Dv)("Reference.remove",0,1,arguments.length),(0,re.Wj)("Reference.remove","onComplete",u,!0);const c=function Bl(h){return Xo("remove",h._path),ud(h,null)}(this._delegate);return u&&c.then(()=>u(null),m=>u(m)),c}transaction(u,c,m){(0,re.Dv)("Reference.transaction",1,3,arguments.length),(0,re.Wj)("Reference.transaction","transactionUpdate",u,!1),(0,re.Wj)("Reference.transaction","onComplete",c,!0),function(h,u,c,m){if(void 0!==c&&"boolean"!=typeof c)throw new Error((0,re.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,m);const D=function np(h,u,c){var m;if(h=(0,re.m9)(h),Xo("Reference.transaction",h._path),".length"===h.key||".keys"===h.key)throw"Reference.transaction failed: "+h.key+" is a read-only object.";const D=null===(m=c?.applyLocally)||void 0===m||m,O=new re.BH,ne=Vd(h,()=>{});return function Fd(h,u,c,m,D,O){za(h,"transaction on "+u);const H={path:u,update:c,onComplete:m,status:null,order:Me(),applyLocally:O,retryCount:0,unwatcher:D,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},ne=ad(h,u,void 0);H.currentInputSnapshot=ne;const ye=H.update(ne.val());if(void 0===ye)H.unwatcher(),H.currentOutputSnapshotRaw=null,H.currentOutputSnapshotResolved=null,H.onComplete&&H.onComplete(null,!1,H.currentInputSnapshot);else{Fo("transaction failed: Data returned ",ye,H.path),H.status=0;const Se=js(h.transactionQueueTree_,u),yt=ui(Se)||[];let Ct;yt.push(H),yu(Se,yt),"object"==typeof ye&&null!==ye&&(0,re.r3)(ye,".priority")?(Ct=(0,re.DV)(ye,".priority"),(0,re.hu)(ua(Ct),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):Ct=(Xt(h.serverSyncTree_,u)||qn.EMPTY_NODE).getPriority().val();const Rt=Vt(h),_n=tr(ye,Ct),Jn=mu(_n,ne,Rt);H.currentOutputSnapshotRaw=_n,H.currentOutputSnapshotResolved=Jn,H.currentWriteId=Ms(h);const Bi=ko(h.serverSyncTree_,u,Jn,H.currentWriteId,H.applyLocally);b(h.eventQueue_,u,Bi),Iu(h,h.transactionQueueTree_)}}(h._repo,h._path,u,(ye,Se,yt)=>{let Ct=null;ye?O.reject(ye):(Ct=new ul(yt,new wo(h._repo,h._path),Vr),O.resolve(new tp(Se,Ct)))},ne,D),O.promise}(this._delegate,u,{applyLocally:m}).then(O=>new Hh(O.committed,new Tu(this.database,O.snapshot)));return c&&D.then(O=>c(null,O.committed,O.snapshot),O=>c(O,!1,null)),D}setPriority(u,c){(0,re.Dv)("Reference.setPriority",1,2,arguments.length),(0,re.Wj)("Reference.setPriority","onComplete",c,!0);const m=function Jo(h,u){h=(0,re.m9)(h),Xo("setPriority",h._path),Eo("setPriority",u,!1);const c=new re.BH;return Eu(h._repo,Lr(h._path,".priority"),u,null,c.wrapCallback(()=>{})),c.promise}(this._delegate,u);return c&&m.then(()=>c(null),D=>c(D)),m}push(u,c){(0,re.Dv)("Reference.push",0,2,arguments.length),(0,re.Wj)("Reference.push","onComplete",c,!0);const m=function ld(h,u){h=(0,re.m9)(h),Xo("push",h._path),Hs("push",u,h._path,!0);const c=ln(h._repo),m=yr(c),D=cl(h,m),O=cl(h,m);let H;return H=null!=u?ud(O,u).then(()=>O):Promise.resolve(O),D.then=H.then.bind(H),D.catch=H.then.bind(H,void 0),D}(this._delegate,u),D=m.then(H=>new dl(this.database,H));c&&D.then(()=>c(null),H=>c(H));const O=new dl(this.database,m);return O.then=D.then.bind(D),O.catch=D.catch.bind(D,void 0),O}onDisconnect(){return Xo("Reference.onDisconnect",this._delegate._path),new jh(new Dc(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class md{constructor(u,c){this._delegate=u,this.app=c,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:Gd,forceLongPolling:Wy}}useEmulator(u,c,m={}){!function Io(h,u,c,m={}){(h=(0,re.m9)(h))._checkNotDeleted("useEmulator"),h._instanceStarted&&xn("Cannot call useEmulator() after instance has already been initialized.");const D=h._repoInternal;let O;if(D.repoInfo_.nodeAdmin)m.mockUserToken&&xn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),O=new Cr(Cr.OWNER);else if(m.mockUserToken){const H="string"==typeof m.mockUserToken?m.mockUserToken:(0,re.Sg)(m.mockUserToken,h.app.options.projectId);O=new Cr(H)}!function Xf(h,u,c,m){h.repoInfo_=new ue(`${u}:${c}`,!1,h.repoInfo_.namespace,h.repoInfo_.webSocketOnly,h.repoInfo_.nodeAdmin,h.repoInfo_.persistenceKey,h.repoInfo_.includeNamespaceInQueryParams,!0),m&&(h.authTokenProvider_=m)}(D,u,c,O)}(this._delegate,u,c,m)}ref(u){if((0,re.Dv)("database.ref",0,1,arguments.length),u instanceof dl){const c=Al(this._delegate,u.toString());return new dl(this,c)}{const c=Du(this._delegate,u);return new dl(this,c)}}refFromURL(u){(0,re.Dv)("database.refFromURL",1,1,arguments.length);const m=Al(this._delegate,u);return new dl(this,m)}goOffline(){return(0,re.Dv)("database.goOffline",0,0,arguments.length),function Ri(h){(h=(0,re.m9)(h))._checkNotDeleted("goOffline"),$u(h._repo)}(this._delegate)}goOnline(){return(0,re.Dv)("database.goOnline",0,0,arguments.length),function zd(h){(h=(0,re.m9)(h))._checkNotDeleted("goOnline"),function Cc(h){h.persistentConnection_&&h.persistentConnection_.resume(me)}(h._repo)}(this._delegate)}}md.ServerValue={TIMESTAMP:function ep(){return pd}(),increment:h=>function $g(h){return{".sv":{increment:h}}}(h)};var op=Object.freeze({__proto__:null,initStandalone:function sp({app:h,url:u,version:c,customAuthImpl:m,namespace:D,nodeAdmin:O=!1}){sn(c);const H=new et.zt("auth-internal",new et.H0("database-standalone"));return H.setComponent(new et.wA("auth-internal",()=>m,"PRIVATE")),{instance:new md(Bh(h,H,void 0,u,O),h),namespace:D}}});const yd=md.ServerValue;!function Rc(h){h.INTERNAL.registerComponent(new et.wA("database-compat",(u,{instanceIdentifier:c})=>{const m=u.getProvider("app-compat").getImmediate(),D=u.getProvider("database").getImmediate({identifier:c});return new md(D,m)},"PUBLIC").setServiceProps({Reference:dl,Query:ca,Database:md,DataSnapshot:Tu,enableLogging:Bg,INTERNAL:op,ServerValue:yd}).setMultipleInstances(!0)),h.registerVersion("@firebase/database-compat","0.3.4")}(lt.Z);var iu=G(1205),eo=G(2313),Kd=G(9260);function jl(h){return null==h}function _d(h){return"function"==typeof h.set}function Yd(h,u){return _d(u)?u:h.ref(u)}function Ku(h,u){if(function Gh(h){return"string"==typeof h}(h))return u.stringCase();if(_d(h))return u.firebaseCase();if(function qd(h){return"function"==typeof h.exportVal}(h))return u.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof h)}function vd(h,u,c="on",m=X.z){return new $.y(D=>{let O=null;return O=h[c](u,(H,ne)=>{m.schedule(()=>{D.next({snapshot:H,prevKey:ne})}),"once"===c&&m.schedule(()=>D.complete())},H=>{m.schedule(()=>D.error(H))}),"on"===c?{unsubscribe(){null!=O&&h.off(u,O)}}:{unsubscribe(){}}}).pipe((0,Ve.U)(D=>{const{snapshot:O,prevKey:H}=D;let ne=null;return O.exists()&&(ne=O.key),{type:u,payload:O,prevKey:H,key:ne}}),(0,qe.B)())}function zh(h,u){const c=h.length;for(let m=0;m<c;m++)if(h[m].payload.key===u)return m;return-1}function ap(h,u){const{payload:c,prevKey:m,key:D}=u,O=zh(h,D),H=function Wh(h,u){if(jl(u))return 0;{const c=zh(h,u);return-1===c?h.length:c+1}}(h,m);switch(u.type){case"value":if(u.payload&&u.payload.exists()){let ne=null;u.payload.forEach(ye=>{const Se={payload:ye,type:"value",prevKey:ne,key:ye.key};return ne=ye.key,h=[...h,Se],!1})}return h;case"child_added":if(O>-1){const ne=h[O-1];(ne&&ne.key||null)!==m&&(h=h.filter(ye=>ye.payload.key!==c.key)).splice(H,0,u)}else{if(null==m)return[u,...h];(h=h.slice()).splice(H,0,u)}return h;case"child_removed":return h.filter(ne=>ne.payload.key!==c.key);case"child_changed":return h.map(ne=>ne.payload.key===D?u:ne);case"child_moved":if(O>-1){const ne=h.splice(O,1)[0];return(h=h.slice()).splice(H,0,ne),h}return h;default:return h}}function hc(h){return(jl(h)||0===h.length)&&(h=["child_added","child_removed","child_changed","child_moved"]),h}function su(h,u,c){return function Zd(h,u,c){return vd(h,"value","once",c).pipe((0,Le.w)(m=>{const D=[(0,Re.of)(m)];return u.forEach(O=>D.push(vd(h,O,"on",c))),(0,be.T)(...D).pipe((0,Qe.R)(ap,[]))}),function ht(h,u=pe.y){return h=h??pt,(0,fe.e)((c,m)=>{let D,O=!0;c.subscribe((0,Ae.x)(m,H=>{const ne=u(H);(O||!h(D,ne))&&(O=!1,D=ne,m.next(H))}))})}())}(h,u=hc(u),c)}function lp(h,u,c){const m=(u=hc(u)).map(D=>vd(h,D,"on",c));return(0,be.T)(...m)}function Xd(h,u){return function(m,D){return Ku(m,{stringCase:()=>h.child(m)[u](D),firebaseCase:()=>m[u](D),snapshotCase:()=>m.ref[u](D)})}}function Ed(h){return function(c){return c?Ku(c,{stringCase:()=>h.child(c).remove(),firebaseCase:()=>c.remove(),snapshotCase:()=>c.ref.remove()}):h.remove()}}function Kh(h,u){return function(){return vd(h,"value","on",u)}}const qu=new _.OlP("angularfire2.realtimeDatabaseURL"),Pc=new _.OlP("angularfire2.database.use-emulator");let Jd=(()=>{class h{constructor(c,m,D,O,H,ne,ye,Se,yt,Ct,Rt,_n,Jn,Bi,Vo){this.schedulers=ne;const Hl=ye,Rl=(0,Ge.on)(c,H,m);Se&&(0,iu.nw)(Rl,H,yt,Rt,_n,Jn,Ct,Bi),this.database=(0,Ge.cc)(`${Rl.name}.database.${D}`,"AngularFireDatabase",Rl.name,()=>{const Gl=H.runOutsideAngular(()=>Rl.database(D||void 0));return Hl&&Gl.useEmulator(...Hl),Gl},[Hl])}list(c,m){const D=this.schedulers.ngZone.runOutsideAngular(()=>Yd(this.database,c));let O=D;return m&&(O=m(D)),function fc(h,u){const c=u.schedulers.outsideAngular,m=u.schedulers.ngZone.run(()=>h.ref);return{query:h,update:Xd(m,"update"),set:Xd(m,"set"),push:D=>m.push(D),remove:Ed(m),snapshotChanges:D=>su(h,D,c).pipe(Dt.iC),stateChanges:D=>lp(h,D,c).pipe(Dt.iC),auditTrail:D=>function Qd(h,u,c){return function up(h,u,c){return function Mc(h,u){return vd(h,"value","on",u).pipe((0,Ve.U)(c=>{let m;return c.payload.forEach(D=>(m=D.key,!1)),{data:c,lastKeyToLoad:m}}))}(h,c).pipe(function wt(...h){const u=(0,at.jO)(h);return(0,fe.e)((c,m)=>{const D=h.length,O=new Array(D);let H=h.map(()=>!1),ne=!1;for(let ye=0;ye<D;ye++)(0,At.Xf)(h[ye]).subscribe((0,Ae.x)(m,Se=>{O[ye]=Se,!ne&&!H[ye]&&(H[ye]=!0,(ne=H.every(pe.y))&&(H=null))},jt.Z));c.subscribe((0,Ae.x)(m,ye=>{if(ne){const Se=[ye,...O];m.next(u?u(...Se):Se)}}))})}(u),(0,Ve.U)(([D,O])=>{const H=D.lastKeyToLoad,ne=O.map(ye=>ye.key);return{actions:O,lastKeyToLoad:H,loadedKeys:ne}}),function Tt(h){return(0,fe.e)((u,c)=>{let m=!1,D=0;u.subscribe((0,Ae.x)(c,O=>(m||(m=!h(O,D++)))&&c.next(O)))})}(D=>-1===D.loadedKeys.indexOf(D.lastKeyToLoad)),(0,Ve.U)(D=>D.actions))}(h,lp(h,u).pipe((0,Qe.R)((D,O)=>[...D,O],[])),c)}(h,D,c).pipe(Dt.iC),valueChanges:(D,O)=>su(h,D,c).pipe((0,Ve.U)(ne=>ne.map(ye=>O&&O.idField?Object.assign(Object.assign({},ye.payload.val()),{[O.idField]:ye.key}):ye.payload.val())),Dt.iC)}}(O,this)}object(c){return function qh(h,u){return{query:h,snapshotChanges:()=>Kh(h,u.schedulers.outsideAngular)().pipe(Dt.iC),update:c=>h.ref.update(c),set:c=>h.ref.set(c),remove:()=>h.ref.remove(),valueChanges:()=>Kh(h,u.schedulers.outsideAngular)().pipe(Dt.iC,(0,Ve.U)(m=>m.payload.exists()?m.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>Yd(this.database,c)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return h.\u0275fac=function(c){return new(c||h)(_.LFG(Ge.Dh),_.LFG(Ge.xv,8),_.LFG(qu,8),_.LFG(_.Lbi),_.LFG(_.R0b),_.LFG(Dt.HU),_.LFG(Pc,8),_.LFG(iu.zQ,8),_.LFG(iu.Qv,8),_.LFG(iu.L6,8),_.LFG(iu._Q,8),_.LFG(iu.rT,8),_.LFG(iu.lh,8),_.LFG(iu.f7,8),_.LFG(eo.nm,8))},h.\u0275prov=_.Yz7({token:h,factory:h.\u0275fac,providedIn:"any"}),h})(),Nc=(()=>{class h{constructor(){Kd.Z.registerVersion("angularfire",Dt.q4.full,"rtdb-compat")}}return h.\u0275fac=function(c){return new(c||h)},h.\u0275mod=_.oAB({type:h}),h.\u0275inj=_.cJS({providers:[Jd]}),h})()},2011:(rn,it,G)=>{G.d(it,{Dh:()=>Le,GT:()=>Ve,cc:()=>pt,hO:()=>ht,on:()=>pe,pX:()=>be,xv:()=>Qe});var _=G(4650),X=G(9260),$=G(4976);rn=G.hmd(rn);const Re=["ngOnDestroy"],be=(wt,Tt,Dt,Ge={})=>new Proxy(wt,{get:(ge,lt)=>Dt.runOutsideAngular(()=>{var et;if(wt[lt])return!(null===(et=Ge?.spy)||void 0===et)&&et.get&&Ge.spy.get(lt,wt[lt]),wt[lt];if(Re.indexOf(lt)>-1)return()=>{};const ot=Tt.toPromise().then(Be=>{const re=Be&&Be[lt];return"function"==typeof re?re.bind(Be):re&&re.then?re.then(en=>Dt.run(()=>en)):Dt.run(()=>re)});return new Proxy(()=>{},{get:(Be,re)=>ot[re],apply:(Be,re,en)=>ot.then(Gt=>{var Rn;const Ut=Gt&&Gt(...en);return!(null===(Rn=Ge?.spy)||void 0===Rn)&&Rn.apply&&Ge.spy.apply(lt,en,Ut),Ut})})})}),Ve=(wt,Tt)=>{Tt.forEach(Dt=>{Object.getOwnPropertyNames(Dt.prototype||Dt).forEach(Ge=>{Object.defineProperty(wt.prototype,Ge,Object.getOwnPropertyDescriptor(Dt.prototype||Dt,Ge))})})};class qe{constructor(Tt){return Tt}}const Le=new _.OlP("angularfire2.app.options"),Qe=new _.OlP("angularfire2.app.name");function pe(wt,Tt,Dt){const ge="object"==typeof Dt&&Dt||{};ge.name=ge.name||"string"==typeof Dt&&Dt||"[DEFAULT]";const et=X.Z.apps.filter(ot=>ot&&ot.name===ge.name)[0]||Tt.runOutsideAngular(()=>X.Z.initializeApp(wt,ge));try{JSON.stringify(wt)!==JSON.stringify(et.options)&&fe("error",`${et.name} Firebase App already initialized with different options${rn.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new qe(et)}const fe=(wt,...Tt)=>{(0,_.X6Q)()&&typeof console<"u"&&console[wt](...Tt)},Ae={provide:qe,useFactory:pe,deps:[Le,_.R0b,[new _.FiY,Qe]]};let ht=(()=>{class wt{constructor(Dt){X.Z.registerVersion("angularfire",$.q4.full,"core"),X.Z.registerVersion("angularfire",$.q4.full,"app-compat"),X.Z.registerVersion("angular",_.q4F.full,Dt.toString())}static initializeApp(Dt,Ge){return{ngModule:wt,providers:[{provide:Le,useValue:Dt},{provide:Qe,useValue:Ge}]}}}return wt.\u0275fac=function(Dt){return new(Dt||wt)(_.LFG(_.Lbi))},wt.\u0275mod=_.oAB({type:wt}),wt.\u0275inj=_.cJS({providers:[Ae]}),wt})();function pt(wt,Tt,Dt,Ge,ge){const[,lt,et]=globalThis.\u0275AngularfireInstanceCache.find(ot=>ot[0]===wt)||[];if(lt)return function At(wt,Tt){try{return wt.toString()===Tt.toString()}catch{return wt===Tt}}(ge,et)||(at("error",`${Tt} was already initialized on the ${Dt} Firebase App with different settings.${jt?" You may need to reload as Firebase is not HMR aware.":""}`),at("warn",{is:ge,was:et})),lt;{const ot=Ge();return globalThis.\u0275AngularfireInstanceCache.push([wt,ot,ge]),ot}}const jt=!!rn.hot,at=(wt,...Tt)=>{(0,_.X6Q)()&&typeof console<"u"&&console[wt](...Tt)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},7512:(rn,it,G)=>{G.d(it,{Ke:()=>Le,Jt:()=>ot,cF:()=>re,Vq:()=>wt,iH:()=>Ut,B0:()=>on});var _=G(4976),X=G(4650),$=G(3692),Re=G(7158),be=G(259),Ve=G(2313),qe=G(6961);class Le{constructor(Fe){return Fe}}const Qe="storage",Ae=new X.OlP("angularfire2.storage-instances");function pt(ke){return(Fe,Ze)=>{const Me=Fe.runOutsideAngular(()=>ke(Ze));return new Le(Me)}}const At={provide:class pe{constructor(){return(0,_.vb)(Qe)}},deps:[[new X.FiY,Ae]]},jt={provide:Le,useFactory:function ht(ke,Fe){const Ze=(0,_.JM)(Qe,ke,Fe);return Ze&&new Le(Ze)},deps:[[new X.FiY,Ae],$.Ot]};let at=(()=>{class ke{constructor(){(0,be.KN)("angularfire",_.q4.full,"gcs")}}return ke.\u0275fac=function(Ze){return new(Ze||ke)},ke.\u0275mod=X.oAB({type:ke}),ke.\u0275inj=X.cJS({providers:[jt,At]}),ke})();function wt(ke,...Fe){return{ngModule:at,providers:[{provide:Ae,useFactory:pt(ke),multi:!0,deps:[X.R0b,X.zs3,_.HU,$.z6,[new X.FiY,Re.dh],[new X.FiY,Ve.nm],...Fe]}]}}const ot=(0,_.u3)(qe.Jt,!0),re=(0,_.u3)(qe.cF,!0),Ut=(0,_.u3)(qe.iH,!0),on=(0,_.u3)(qe.B0,!0)},4976:(rn,it,G)=>{G.d(it,{q4:()=>sl,iC:()=>al,fc:()=>_u,HU:()=>ol,vb:()=>ua,JM:()=>Oa,u3:()=>vu});var _=G(4650),X=G(259),$=G(5861),Re=G(6881),be=G(2090),Ve=G(4859),qe=G(1877);const Le=(b,k)=>k.some(q=>b instanceof q);let Qe,pe;const ht=new WeakMap,pt=new WeakMap,At=new WeakMap,jt=new WeakMap,at=new WeakMap;let Dt={get(b,k,q){if(b instanceof IDBTransaction){if("done"===k)return pt.get(b);if("objectStoreNames"===k)return b.objectStoreNames||At.get(b);if("store"===k)return q.objectStoreNames[1]?void 0:q.objectStore(q.objectStoreNames[0])}return et(b[k])},set:(b,k,q)=>(b[k]=q,!0),has:(b,k)=>b instanceof IDBTransaction&&("done"===k||"store"===k)||k in b};function lt(b){return"function"==typeof b?function ge(b){return b!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ae(){return pe||(pe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(b)?function(...k){return b.apply(ot(this),k),et(ht.get(this))}:function(...k){return et(b.apply(ot(this),k))}:function(k,...q){const me=b.call(ot(this),k,...q);return At.set(me,k.sort?k.sort():[k]),et(me)}}(b):(b instanceof IDBTransaction&&function Tt(b){if(pt.has(b))return;const k=new Promise((q,me)=>{const Oe=()=>{b.removeEventListener("complete",ze),b.removeEventListener("error",mt),b.removeEventListener("abort",mt)},ze=()=>{q(),Oe()},mt=()=>{me(b.error||new DOMException("AbortError","AbortError")),Oe()};b.addEventListener("complete",ze),b.addEventListener("error",mt),b.addEventListener("abort",mt)});pt.set(b,k)}(b),Le(b,function fe(){return Qe||(Qe=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(b,Dt):b)}function et(b){if(b instanceof IDBRequest)return function wt(b){const k=new Promise((q,me)=>{const Oe=()=>{b.removeEventListener("success",ze),b.removeEventListener("error",mt)},ze=()=>{q(et(b.result)),Oe()},mt=()=>{me(b.error),Oe()};b.addEventListener("success",ze),b.addEventListener("error",mt)});return k.then(q=>{q instanceof IDBCursor&&ht.set(q,b)}).catch(()=>{}),at.set(k,b),k}(b);if(jt.has(b))return jt.get(b);const k=lt(b);return k!==b&&(jt.set(b,k),at.set(k,b)),k}const ot=b=>at.get(b),en=["get","getKey","getAll","getAllKeys","count"],Gt=["put","add","delete","clear"],Rn=new Map;function Ut(b,k){if(!(b instanceof IDBDatabase)||k in b||"string"!=typeof k)return;if(Rn.get(k))return Rn.get(k);const q=k.replace(/FromIndex$/,""),me=k!==q,Oe=Gt.includes(q);if(!(q in(me?IDBIndex:IDBObjectStore).prototype)||!Oe&&!en.includes(q))return;const ze=function(){var mt=(0,$.Z)(function*(ln,...Vt){const kn=this.transaction(ln,Oe?"readwrite":"readonly");let Dn=kn.store;return me&&(Dn=Dn.index(Vt.shift())),(yield Promise.all([Dn[q](...Vt),Oe&&kn.done]))[0]});return function(Vt){return mt.apply(this,arguments)}}();return Rn.set(k,ze),ze}!function Ge(b){Dt=b(Dt)}(b=>({...b,get:(k,q,me)=>Ut(k,q)||b.get(k,q,me),has:(k,q)=>!!Ut(k,q)||b.has(k,q)}));const sn="@firebase/installations",Vn="0.6.4",on=1e4,Gn=`w:${Vn}`,ke="FIS_v2",Fe="https://firebaseinstallations.googleapis.com/v1",Ze=36e5,Ft=new be.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function qt(b){return b instanceof be.ZR&&b.code.includes("request-failed")}function vn({projectId:b}){return`${Fe}/projects/${b}/installations`}function zt(b){return{token:b.token,requestStatus:2,expiresIn:cr(b.expiresIn),creationTime:Date.now()}}function Pn(b,k){return _r.apply(this,arguments)}function _r(){return(_r=(0,$.Z)(function*(b,k){const me=(yield k.json()).error;return Ft.create("request-failed",{requestName:b,serverCode:me.code,serverMessage:me.message,serverStatus:me.status})})).apply(this,arguments)}function xn({apiKey:b}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":b})}function rr(b){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,$.Z)(function*(b){const k=yield b();return k.status>=500&&k.status<600?b():k})).apply(this,arguments)}function cr(b){return Number(b.replace("s","000"))}function Ht(){return(Ht=(0,$.Z)(function*({appConfig:b,heartbeatServiceProvider:k},{fid:q}){const me=vn(b),Oe=xn(b),ze=k.getImmediate({optional:!0});if(ze){const kn=yield ze.getHeartbeatsHeader();kn&&Oe.append("x-firebase-client",kn)}const ln={method:"POST",headers:Oe,body:JSON.stringify({fid:q,authVersion:ke,appId:b.appId,sdkVersion:Gn})},Vt=yield rr(()=>fetch(me,ln));if(Vt.ok){const kn=yield Vt.json();return{fid:kn.fid||q,registrationStatus:2,refreshToken:kn.refreshToken,authToken:zt(kn.authToken)}}throw yield Pn("Create Installation",Vt)})).apply(this,arguments)}function Bn(b){return new Promise(k=>{setTimeout(k,b)})}const kr=/^[cdef][\w-]{21}$/,xr="";function dr(){try{const b=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(b),b[0]=112+b[0]%16;const q=function Zn(b){return function ar(b){return btoa(String.fromCharCode(...b)).replace(/\+/g,"-").replace(/\//g,"_")}(b).substr(0,22)}(b);return kr.test(q)?q:xr}catch{return xr}}function fn(b){return`${b.appName}!${b.appId}`}const Kt=new Map;function mn(b,k){const q=fn(b);Rr(q,k),function Mi(b,k){const q=function ci(){return!sr&&"BroadcastChannel"in self&&(sr=new BroadcastChannel("[Firebase] FID Change"),sr.onmessage=b=>{Rr(b.data.key,b.data.fid)}),sr}();q&&q.postMessage({key:b,fid:k}),function Fn(){0===Kt.size&&sr&&(sr.close(),sr=null)}()}(q,k)}function Rr(b,k){const q=Kt.get(b);if(q)for(const me of q)me(k)}let sr=null;const Ir="firebase-installations-database",Nn=1,Cr="firebase-installations-store";let Ot=null;function Mr(){return Ot||(Ot=function Be(b,k,{blocked:q,upgrade:me,blocking:Oe,terminated:ze}={}){const mt=indexedDB.open(b,k),ln=et(mt);return me&&mt.addEventListener("upgradeneeded",Vt=>{me(et(mt.result),Vt.oldVersion,Vt.newVersion,et(mt.transaction))}),q&&mt.addEventListener("blocked",()=>q()),ln.then(Vt=>{ze&&Vt.addEventListener("close",()=>ze()),Oe&&Vt.addEventListener("versionchange",()=>Oe())}).catch(()=>{}),ln}(Ir,Nn,{upgrade:(b,k)=>{0===k&&b.createObjectStore(Cr)}})),Ot}function ni(b,k){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,$.Z)(function*(b,k){const q=fn(b),Oe=(yield Mr()).transaction(Cr,"readwrite"),ze=Oe.objectStore(Cr),mt=yield ze.get(q);return yield ze.put(k,q),yield Oe.done,(!mt||mt.fid!==k.fid)&&mn(b,k.fid),k})).apply(this,arguments)}function yi(b){return di.apply(this,arguments)}function di(){return(di=(0,$.Z)(function*(b){const k=fn(b),me=(yield Mr()).transaction(Cr,"readwrite");yield me.objectStore(Cr).delete(k),yield me.done})).apply(this,arguments)}function ri(b,k){return li.apply(this,arguments)}function li(){return(li=(0,$.Z)(function*(b,k){const q=fn(b),Oe=(yield Mr()).transaction(Cr,"readwrite"),ze=Oe.objectStore(Cr),mt=yield ze.get(q),ln=k(mt);return void 0===ln?yield ze.delete(q):yield ze.put(ln,q),yield Oe.done,ln&&(!mt||mt.fid!==ln.fid)&&mn(b,ln.fid),ln})).apply(this,arguments)}function Ce(b){return Ee.apply(this,arguments)}function Ee(){return Ee=(0,$.Z)(function*(b){let k;const q=yield ri(b.appConfig,me=>{const Oe=function oe(b){return Ne(b||{fid:dr(),registrationStatus:0})}(me),ze=function ue(b,k){if(0===k.registrationStatus){if(!navigator.onLine)return{installationEntry:k,registrationPromise:Promise.reject(Ft.create("app-offline"))};const q={fid:k.fid,registrationStatus:1,registrationTime:Date.now()},me=function te(b,k){return De.apply(this,arguments)}(b,q);return{installationEntry:q,registrationPromise:me}}return 1===k.registrationStatus?{installationEntry:k,registrationPromise:he(b)}:{installationEntry:k}}(b,Oe);return k=ze.registrationPromise,ze.installationEntry});return q.fid===xr?{installationEntry:yield k}:{installationEntry:q,registrationPromise:k}}),Ee.apply(this,arguments)}function De(){return De=(0,$.Z)(function*(b,k){try{const q=yield function Tn(b,k){return Ht.apply(this,arguments)}(b,k);return ni(b.appConfig,q)}catch(q){throw qt(q)&&409===q.customData.serverCode?yield yi(b.appConfig):yield ni(b.appConfig,{fid:k.fid,registrationStatus:0}),q}}),De.apply(this,arguments)}function he(b){return _e.apply(this,arguments)}function _e(){return(_e=(0,$.Z)(function*(b){let k=yield ce(b.appConfig);for(;1===k.registrationStatus;)yield Bn(100),k=yield ce(b.appConfig);if(0===k.registrationStatus){const{installationEntry:q,registrationPromise:me}=yield Ce(b);return me||q}return k})).apply(this,arguments)}function ce(b){return ri(b,k=>{if(!k)throw Ft.create("installation-not-found");return Ne(k)})}function Ne(b){return function nt(b){return 1===b.registrationStatus&&b.registrationTime+on<Date.now()}(b)?{fid:b.fid,registrationStatus:0}:b}function un(){return(un=(0,$.Z)(function*({appConfig:b,heartbeatServiceProvider:k},q){const me=function En(b,{fid:k}){return`${vn(b)}/${k}/authTokens:generate`}(b,q),Oe=function Un(b,{refreshToken:k}){const q=xn(b);return q.append("Authorization",function Or(b){return`${ke} ${b}`}(k)),q}(b,q),ze=k.getImmediate({optional:!0});if(ze){const kn=yield ze.getHeartbeatsHeader();kn&&Oe.append("x-firebase-client",kn)}const ln={method:"POST",headers:Oe,body:JSON.stringify({installation:{sdkVersion:Gn,appId:b.appId}})},Vt=yield rr(()=>fetch(me,ln));if(Vt.ok)return zt(yield Vt.json());throw yield Pn("Generate Auth Token",Vt)})).apply(this,arguments)}function Pr(b){return Oi.apply(this,arguments)}function Oi(){return Oi=(0,$.Z)(function*(b,k=!1){let q;const me=yield ri(b.appConfig,ze=>{if(!Ln(ze))throw Ft.create("not-registered");const mt=ze.authToken;if(!k&&function dn(b){return 2===b.requestStatus&&!function gr(b){const k=Date.now();return k<b.creationTime||b.creationTime+b.expiresIn<k+Ze}(b)}(mt))return ze;if(1===mt.requestStatus)return q=function ct(b,k){return Je.apply(this,arguments)}(b,k),ze;{if(!navigator.onLine)throw Ft.create("app-offline");const ln=function lr(b){const k={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},b),{authToken:k})}(ze);return q=function cn(b,k){return On.apply(this,arguments)}(b,ln),ln}});return q?yield q:me.authToken}),Oi.apply(this,arguments)}function Je(){return(Je=(0,$.Z)(function*(b,k){let q=yield Pt(b.appConfig);for(;1===q.authToken.requestStatus;)yield Bn(100),q=yield Pt(b.appConfig);const me=q.authToken;return 0===me.requestStatus?Pr(b,k):me})).apply(this,arguments)}function Pt(b){return ri(b,k=>{if(!Ln(k))throw Ft.create("not-registered");return function Pi(b){return 1===b.requestStatus&&b.requestTime+on<Date.now()}(k.authToken)?Object.assign(Object.assign({},k),{authToken:{requestStatus:0}}):k})}function On(){return On=(0,$.Z)(function*(b,k){try{const q=yield function bt(b,k){return un.apply(this,arguments)}(b,k),me=Object.assign(Object.assign({},k),{authToken:q});return yield ni(b.appConfig,me),q}catch(q){if(!qt(q)||401!==q.customData.serverCode&&404!==q.customData.serverCode){const me=Object.assign(Object.assign({},k),{authToken:{requestStatus:0}});yield ni(b.appConfig,me)}else yield yi(b.appConfig);throw q}}),On.apply(this,arguments)}function Ln(b){return void 0!==b&&2===b.registrationStatus}function Vs(){return(Vs=(0,$.Z)(function*(b){const k=b,{installationEntry:q,registrationPromise:me}=yield Ce(k);return me?me.catch(console.error):Pr(k).catch(console.error),q.fid})).apply(this,arguments)}function Ti(){return Ti=(0,$.Z)(function*(b,k=!1){const q=b;return yield function _i(b){return Qt.apply(this,arguments)}(q),(yield Pr(q,k)).token}),Ti.apply(this,arguments)}function Qt(){return(Qt=(0,$.Z)(function*(b){const{registrationPromise:k}=yield Ce(b);k&&(yield k)})).apply(this,arguments)}function xe(b){return Ft.create("missing-app-config-values",{valueName:b})}const Pe="installations",Nt=b=>{const k=b.getProvider("app").getImmediate(),q=function $e(b){if(!b||!b.options)throw xe("App Configuration");if(!b.name)throw xe("App Name");const k=["projectId","apiKey","appId"];for(const q of k)if(!b.options[q])throw xe(q);return{appName:b.name,projectId:b.options.projectId,apiKey:b.options.apiKey,appId:b.options.appId}}(k);return{app:k,appConfig:q,heartbeatServiceProvider:(0,Re._getProvider)(k,"heartbeat"),_delete:()=>Promise.resolve()}},An=b=>{const k=b.getProvider("app").getImmediate(),q=(0,Re._getProvider)(k,Pe).getImmediate();return{getId:()=>function Di(b){return Vs.apply(this,arguments)}(q),getToken:Oe=>function ki(b){return Ti.apply(this,arguments)}(q,Oe)}};(function Kn(){(0,Re._registerComponent)(new Ve.wA(Pe,Nt,"PUBLIC")),(0,Re._registerComponent)(new Ve.wA("installations-internal",An,"PRIVATE"))})(),(0,Re.registerVersion)(sn,Vn),(0,Re.registerVersion)(sn,Vn,"esm2017");const wn="@firebase/remote-config",Ki=new be.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Ca{constructor(k,q,me,Oe){this.client=k,this.storage=q,this.storageCache=me,this.logger=Oe}isCachedDataFresh(k,q){if(!q)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const me=Date.now()-q,Oe=me<=k;return this.logger.debug(`Config fetch cache check. Cache age millis: ${me}. Cache max age millis (minimumFetchIntervalMillis setting): ${k}. Is cache hit: ${Oe}.`),Oe}fetch(k){var q=this;return(0,$.Z)(function*(){const[me,Oe]=yield Promise.all([q.storage.getLastSuccessfulFetchTimestampMillis(),q.storage.getLastSuccessfulFetchResponse()]);if(Oe&&q.isCachedDataFresh(k.cacheMaxAgeMillis,me))return Oe;k.eTag=Oe&&Oe.eTag;const ze=yield q.client.fetch(k),mt=[q.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ze.status&&mt.push(q.storage.setLastSuccessfulFetchResponse(ze)),yield Promise.all(mt),ze})()}}function Ws(b=navigator){return b.languages&&b.languages[0]||b.language}class Ks{constructor(k,q,me,Oe,ze,mt){this.firebaseInstallations=k,this.sdkVersion=q,this.namespace=me,this.projectId=Oe,this.apiKey=ze,this.appId=mt}fetch(k){var q=this;return(0,$.Z)(function*(){const[me,Oe]=yield Promise.all([q.firebaseInstallations.getId(),q.firebaseInstallations.getToken()]),mt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${q.projectId}/namespaces/${q.namespace}:fetch?key=${q.apiKey}`,ln={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":k.eTag||"*"},Vt={sdk_version:q.sdkVersion,app_instance_id:me,app_instance_id_token:Oe,app_id:q.appId,language_code:Ws()},kn={method:"POST",headers:ln,body:JSON.stringify(Vt)},Dn=fetch(mt,kn),Xn=new Promise((Br,Hr)=>{k.signal.addEventListener(()=>{const Dl=new Error("The operation was aborted.");Dl.name="AbortError",Hr(Dl)})});let Xs;try{yield Promise.race([Dn,Xn]),Xs=yield Dn}catch(Br){let Hr="fetch-client-network";throw"AbortError"===Br?.name&&(Hr="fetch-timeout"),Ki.create(Hr,{originalErrorMessage:Br?.message})}let Ms=Xs.status;const Ia=Xs.headers.get("ETag")||void 0;let Eu,wu;if(200===Xs.status){let Br;try{Br=yield Xs.json()}catch(Hr){throw Ki.create("fetch-client-parse",{originalErrorMessage:Hr?.message})}Eu=Br.entries,wu=Br.state}if("INSTANCE_STATE_UNSPECIFIED"===wu?Ms=500:"NO_CHANGE"===wu?Ms=304:("NO_TEMPLATE"===wu||"EMPTY_CONFIG"===wu)&&(Eu={}),304!==Ms&&200!==Ms)throw Ki.create("fetch-status",{httpStatus:Ms});return{status:Ms,eTag:Ia,config:Eu}})()}}class qs{constructor(k,q){this.client=k,this.storage=q}fetch(k){var q=this;return(0,$.Z)(function*(){const me=(yield q.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return q.attemptFetch(k,me)})()}attemptFetch(k,{throttleEndTimeMillis:q,backoffCount:me}){var Oe=this;return(0,$.Z)(function*(){yield function ta(b,k){return new Promise((q,me)=>{const Oe=Math.max(k-Date.now(),0),ze=setTimeout(q,Oe);b.addEventListener(()=>{clearTimeout(ze),me(Ki.create("fetch-throttle",{throttleEndTimeMillis:k}))})})}(k.signal,q);try{const ze=yield Oe.client.fetch(k);return yield Oe.storage.deleteThrottleMetadata(),ze}catch(ze){if(!function ro(b){if(!(b instanceof be.ZR&&b.customData))return!1;const k=Number(b.customData.httpStatus);return 429===k||500===k||503===k||504===k}(ze))throw ze;const mt={throttleEndTimeMillis:Date.now()+(0,be.$s)(me),backoffCount:me+1};return yield Oe.storage.setThrottleMetadata(mt),Oe.attemptFetch(k,mt)}})()}}class jo{constructor(k,q,me,Oe,ze){this.app=k,this._client=q,this._storageCache=me,this._storage=Oe,this._logger=ze,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Ss(b,k){const q=b.target.error||void 0;return Ki.create(k,{originalErrorMessage:q&&q?.message})}const Xr="app_namespace_store";class z{constructor(k,q,me,Oe=function Z(){return new Promise((b,k)=>{try{const q=indexedDB.open("firebase_remote_config",1);q.onerror=me=>{k(Ss(me,"storage-open"))},q.onsuccess=me=>{b(me.target.result)},q.onupgradeneeded=me=>{0===me.oldVersion&&me.target.result.createObjectStore(Xr,{keyPath:"compositeKey"})}}catch(q){k(Ki.create("storage-open",{originalErrorMessage:q?.message}))}})}()){this.appId=k,this.appName=q,this.namespace=me,this.openDbPromise=Oe}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(k){return this.set("last_fetch_status",k)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(k){return this.set("last_successful_fetch_timestamp_millis",k)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(k){return this.set("last_successful_fetch_response",k)}getActiveConfig(){return this.get("active_config")}setActiveConfig(k){return this.set("active_config",k)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(k){return this.set("active_config_etag",k)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(k){return this.set("throttle_metadata",k)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(k){var q=this;return(0,$.Z)(function*(){const me=yield q.openDbPromise;return new Promise((Oe,ze)=>{const ln=me.transaction([Xr],"readonly").objectStore(Xr),Vt=q.createCompositeKey(k);try{const kn=ln.get(Vt);kn.onerror=Dn=>{ze(Ss(Dn,"storage-get"))},kn.onsuccess=Dn=>{const Xn=Dn.target.result;Oe(Xn?Xn.value:void 0)}}catch(kn){ze(Ki.create("storage-get",{originalErrorMessage:kn?.message}))}})})()}set(k,q){var me=this;return(0,$.Z)(function*(){const Oe=yield me.openDbPromise;return new Promise((ze,mt)=>{const Vt=Oe.transaction([Xr],"readwrite").objectStore(Xr),kn=me.createCompositeKey(k);try{const Dn=Vt.put({compositeKey:kn,value:q});Dn.onerror=Xn=>{mt(Ss(Xn,"storage-set"))},Dn.onsuccess=()=>{ze()}}catch(Dn){mt(Ki.create("storage-set",{originalErrorMessage:Dn?.message}))}})})()}delete(k){var q=this;return(0,$.Z)(function*(){const me=yield q.openDbPromise;return new Promise((Oe,ze)=>{const ln=me.transaction([Xr],"readwrite").objectStore(Xr),Vt=q.createCompositeKey(k);try{const kn=ln.delete(Vt);kn.onerror=Dn=>{ze(Ss(Dn,"storage-delete"))},kn.onsuccess=()=>{Oe()}}catch(kn){ze(Ki.create("storage-delete",{originalErrorMessage:kn?.message}))}})})()}createCompositeKey(k){return[this.appId,this.appName,this.namespace,k].join()}}class we{constructor(k){this.storage=k}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var k=this;return(0,$.Z)(function*(){const q=k.storage.getLastFetchStatus(),me=k.storage.getLastSuccessfulFetchTimestampMillis(),Oe=k.storage.getActiveConfig(),ze=yield q;ze&&(k.lastFetchStatus=ze);const mt=yield me;mt&&(k.lastSuccessfulFetchTimestampMillis=mt);const ln=yield Oe;ln&&(k.activeConfig=ln)})()}setLastFetchStatus(k){return this.lastFetchStatus=k,this.storage.setLastFetchStatus(k)}setLastSuccessfulFetchTimestampMillis(k){return this.lastSuccessfulFetchTimestampMillis=k,this.storage.setLastSuccessfulFetchTimestampMillis(k)}setActiveConfig(k){return this.activeConfig=k,this.storage.setActiveConfig(k)}}function $t(){return tn.apply(this,arguments)}function tn(){return(tn=(0,$.Z)(function*(){if(!(0,be.hl)())return!1;try{return yield(0,be.eu)()}catch{return!1}})).apply(this,arguments)}!function Te(){(0,Re._registerComponent)(new Ve.wA("remote-config",function b(k,{instanceIdentifier:q}){const me=k.getProvider("app").getImmediate(),Oe=k.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Ki.create("registration-window");if(!(0,be.hl)())throw Ki.create("indexed-db-unavailable");const{projectId:ze,apiKey:mt,appId:ln}=me.options;if(!ze)throw Ki.create("registration-project-id");if(!mt)throw Ki.create("registration-api-key");if(!ln)throw Ki.create("registration-app-id");const Vt=new z(ln,me.name,q=q||"firebase"),kn=new we(Vt),Dn=new qe.Yd(wn);Dn.logLevel=qe.in.ERROR;const Xn=new Ks(Oe,Re.SDK_VERSION,q,ze,mt,ln),Xs=new qs(Xn,Vt),Ms=new Ca(Xs,Vt,kn,Dn),Ia=new jo(me,Ms,kn,Vt,Dn);return function Ji(b){const k=(0,be.m9)(b);k._initializePromise||(k._initializePromise=k._storageCache.loadFromStorage().then(()=>{k._isInitializationComplete=!0}))}(Ia),Ia},"PUBLIC").setMultipleInstances(!0)),(0,Re.registerVersion)(wn,"0.4.4"),(0,Re.registerVersion)(wn,"0.4.4","esm2017")}();const hn=(b,k)=>k.some(q=>b instanceof q);let Sn,ir;const pi=new WeakMap,si=new WeakMap,Sr=new WeakMap,wi=new WeakMap,Ni=new WeakMap;let Ii={get(b,k,q){if(b instanceof IDBTransaction){if("done"===k)return si.get(b);if("objectStoreNames"===k)return b.objectStoreNames||Sr.get(b);if("store"===k)return q.objectStoreNames[1]?void 0:q.objectStore(q.objectStoreNames[0])}return qi(b[k])},set:(b,k,q)=>(b[k]=q,!0),has:(b,k)=>b instanceof IDBTransaction&&("done"===k||"store"===k)||k in b};function Vr(b){return"function"==typeof b?function bo(b){return b!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function zr(){return ir||(ir=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(b)?function(...k){return b.apply(Yi(this),k),qi(pi.get(this))}:function(...k){return qi(b.apply(Yi(this),k))}:function(k,...q){const me=b.call(Yi(this),k,...q);return Sr.set(me,k.sort?k.sort():[k]),qi(me)}}(b):(b instanceof IDBTransaction&&function bi(b){if(si.has(b))return;const k=new Promise((q,me)=>{const Oe=()=>{b.removeEventListener("complete",ze),b.removeEventListener("error",mt),b.removeEventListener("abort",mt)},ze=()=>{q(),Oe()},mt=()=>{me(b.error||new DOMException("AbortError","AbortError")),Oe()};b.addEventListener("complete",ze),b.addEventListener("error",mt),b.addEventListener("abort",mt)});si.set(b,k)}(b),hn(b,function fi(){return Sn||(Sn=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(b,Ii):b)}function qi(b){if(b instanceof IDBRequest)return function Wr(b){const k=new Promise((q,me)=>{const Oe=()=>{b.removeEventListener("success",ze),b.removeEventListener("error",mt)},ze=()=>{q(qi(b.result)),Oe()},mt=()=>{me(b.error),Oe()};b.addEventListener("success",ze),b.addEventListener("error",mt)});return k.then(q=>{q instanceof IDBCursor&&pi.set(q,b)}).catch(()=>{}),Ni.set(k,b),k}(b);if(wi.has(b))return wi.get(b);const k=Vr(b);return k!==b&&(wi.set(b,k),Ni.set(k,b)),k}const Yi=b=>Ni.get(b);function Ao(b,k,{blocked:q,upgrade:me,blocking:Oe,terminated:ze}={}){const mt=indexedDB.open(b,k),ln=qi(mt);return me&&mt.addEventListener("upgradeneeded",Vt=>{me(qi(mt.result),Vt.oldVersion,Vt.newVersion,qi(mt.transaction))}),q&&mt.addEventListener("blocked",()=>q()),ln.then(Vt=>{ze&&Vt.addEventListener("close",()=>ze()),Oe&&Vt.addEventListener("versionchange",()=>Oe())}).catch(()=>{}),ln}function xs(b,{blocked:k}={}){const q=indexedDB.deleteDatabase(b);return k&&q.addEventListener("blocked",()=>k()),qi(q).then(()=>{})}const es=["get","getKey","getAll","getAllKeys","count"],ts=["put","add","delete","clear"],vs=new Map;function qn(b,k){if(!(b instanceof IDBDatabase)||k in b||"string"!=typeof k)return;if(vs.get(k))return vs.get(k);const q=k.replace(/FromIndex$/,""),me=k!==q,Oe=ts.includes(q);if(!(q in(me?IDBIndex:IDBObjectStore).prototype)||!Oe&&!es.includes(q))return;const ze=function(){var mt=(0,$.Z)(function*(ln,...Vt){const kn=this.transaction(ln,Oe?"readwrite":"readonly");let Dn=kn.store;return me&&(Dn=Dn.index(Vt.shift())),(yield Promise.all([Dn[q](...Vt),Oe&&kn.done]))[0]});return function(Vt){return mt.apply(this,arguments)}}();return vs.set(k,ze),ze}!function Ui(b){Ii=b(Ii)}(b=>({...b,get:(k,q,me)=>qn(k,q)||b.get(k,q,me),has:(k,q)=>!!qn(k,q)||b.has(k,q)}));const Yn="/firebase-messaging-sw.js",Ys="/firebase-cloud-messaging-push-scope",Da="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",tr="https://fcmregistrations.googleapis.com/v1",Ta="google.c.a.c_id",na="google.c.a.c_l",ra="google.c.a.ts",el="google.c.a.e";var x=(()=>{return(b=x||(x={})).PUSH_RECEIVED="push-received",b.NOTIFICATION_CLICKED="notification-clicked",x;var b})();function U(b){const k=new Uint8Array(b);return btoa(String.fromCharCode(...k)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function L(b){const q=(b+"=".repeat((4-b.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),me=atob(q),Oe=new Uint8Array(me.length);for(let ze=0;ze<me.length;++ze)Oe[ze]=me.charCodeAt(ze);return Oe}const ie="fcm_token_details_db",Ye=5,pn="fcm_token_object_Store";function xi(){return xi=(0,$.Z)(function*(b){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ze=>ze.name).includes(ie))return null;let k=null;return(yield Ao(ie,Ye,{upgrade:(me=(0,$.Z)(function*(Oe,ze,mt,ln){var Vt;if(ze<2||!Oe.objectStoreNames.contains(pn))return;const kn=ln.objectStore(pn),Dn=yield kn.index("fcmSenderId").get(b);if(yield kn.clear(),Dn)if(2===ze){const Xn=Dn;if(!Xn.auth||!Xn.p256dh||!Xn.endpoint)return;k={token:Xn.fcmToken,createTime:null!==(Vt=Xn.createTime)&&void 0!==Vt?Vt:Date.now(),subscriptionOptions:{auth:Xn.auth,p256dh:Xn.p256dh,endpoint:Xn.endpoint,swScope:Xn.swScope,vapidKey:"string"==typeof Xn.vapidKey?Xn.vapidKey:U(Xn.vapidKey)}}}else if(3===ze){const Xn=Dn;k={token:Xn.fcmToken,createTime:Xn.createTime,subscriptionOptions:{auth:U(Xn.auth),p256dh:U(Xn.p256dh),endpoint:Xn.endpoint,swScope:Xn.swScope,vapidKey:U(Xn.vapidKey)}}}else if(4===ze){const Xn=Dn;k={token:Xn.fcmToken,createTime:Xn.createTime,subscriptionOptions:{auth:U(Xn.auth),p256dh:U(Xn.p256dh),endpoint:Xn.endpoint,swScope:Xn.swScope,vapidKey:U(Xn.vapidKey)}}}}),function(ze,mt,ln,Vt){return me.apply(this,arguments)})})).close(),yield xs(ie),yield xs("fcm_vapid_details_db"),yield xs("undefined"),function io(b){if(!b||!b.subscriptionOptions)return!1;const{subscriptionOptions:k}=b;return"number"==typeof b.createTime&&b.createTime>0&&"string"==typeof b.token&&b.token.length>0&&"string"==typeof k.auth&&k.auth.length>0&&"string"==typeof k.p256dh&&k.p256dh.length>0&&"string"==typeof k.endpoint&&k.endpoint.length>0&&"string"==typeof k.swScope&&k.swScope.length>0&&"string"==typeof k.vapidKey&&k.vapidKey.length>0}(k)?k:null;var me}),xi.apply(this,arguments)}const so="firebase-messaging-database",po=1,bs="firebase-messaging-store";let Es=null;function ws(){return Es||(Es=Ao(so,po,{upgrade:(b,k)=>{0===k&&b.createObjectStore(bs)}})),Es}function as(b){return ia.apply(this,arguments)}function ia(){return ia=(0,$.Z)(function*(b){const k=sa(b),me=yield(yield ws()).transaction(bs).objectStore(bs).get(k);if(me)return me;{const Oe=yield function Kr(b){return xi.apply(this,arguments)}(b.appConfig.senderId);if(Oe)return yield Ro(b,Oe),Oe}}),ia.apply(this,arguments)}function Ro(b,k){return As.apply(this,arguments)}function As(){return(As=(0,$.Z)(function*(b,k){const q=sa(b),Oe=(yield ws()).transaction(bs,"readwrite");return yield Oe.objectStore(bs).put(k,q),yield Oe.done,k})).apply(this,arguments)}function Mo(){return(Mo=(0,$.Z)(function*(b){const k=sa(b),me=(yield ws()).transaction(bs,"readwrite");yield me.objectStore(bs).delete(k),yield me.done})).apply(this,arguments)}function sa({appConfig:b}){return b.appId}const ji=new be.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Sa(b,k){return ha.apply(this,arguments)}function ha(){return(ha=(0,$.Z)(function*(b,k){const q=yield fa(b),me=rs(k),Oe={method:"POST",headers:q,body:JSON.stringify(me)};let ze;try{ze=yield(yield fetch(Bs(b.appConfig),Oe)).json()}catch(mt){throw ji.create("token-subscribe-failed",{errorInfo:mt?.toString()})}if(ze.error)throw ji.create("token-subscribe-failed",{errorInfo:ze.error.message});if(!ze.token)throw ji.create("token-subscribe-no-token");return ze.token})).apply(this,arguments)}function go(){return(go=(0,$.Z)(function*(b,k){const q=yield fa(b),me=rs(k.subscriptionOptions),Oe={method:"PATCH",headers:q,body:JSON.stringify(me)};let ze;try{ze=yield(yield fetch(`${Bs(b.appConfig)}/${k.token}`,Oe)).json()}catch(mt){throw ji.create("token-update-failed",{errorInfo:mt?.toString()})}if(ze.error)throw ji.create("token-update-failed",{errorInfo:ze.error.message});if(!ze.token)throw ji.create("token-update-no-token");return ze.token})).apply(this,arguments)}function La(b,k){return ba.apply(this,arguments)}function ba(){return(ba=(0,$.Z)(function*(b,k){const me={method:"DELETE",headers:yield fa(b)};try{const ze=yield(yield fetch(`${Bs(b.appConfig)}/${k}`,me)).json();if(ze.error)throw ji.create("token-unsubscribe-failed",{errorInfo:ze.error.message})}catch(Oe){throw ji.create("token-unsubscribe-failed",{errorInfo:Oe?.toString()})}})).apply(this,arguments)}function Bs({projectId:b}){return`${tr}/projects/${b}/registrations`}function fa(b){return pa.apply(this,arguments)}function pa(){return(pa=(0,$.Z)(function*({appConfig:b,installations:k}){const q=yield k.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":b.apiKey,"x-goog-firebase-installations-auth":`FIS ${q}`})})).apply(this,arguments)}function rs({p256dh:b,auth:k,endpoint:q,vapidKey:me}){const Oe={web:{endpoint:q,auth:k,p256dh:b}};return me!==Da&&(Oe.web.applicationPubKey=me),Oe}const Aa=6048e5;function Os(){return Os=(0,$.Z)(function*(b){const k=yield function aa(b,k){return Ua.apply(this,arguments)}(b.swRegistration,b.vapidKey),q={vapidKey:b.vapidKey,swScope:b.swRegistration.scope,endpoint:k.endpoint,auth:U(k.getKey("auth")),p256dh:U(k.getKey("p256dh"))},me=yield as(b.firebaseDependencies);if(me){if(function Ba(b,k){return k.vapidKey===b.vapidKey&&k.endpoint===b.endpoint&&k.auth===b.auth&&k.p256dh===b.p256dh}(me.subscriptionOptions,q))return Date.now()>=me.createTime+Aa?function gi(b,k){return oi.apply(this,arguments)}(b,{token:me.token,createTime:Date.now(),subscriptionOptions:q}):me.token;try{yield La(b.firebaseDependencies,me.token)}catch(Oe){console.warn(Oe)}return Ho(b.firebaseDependencies,q)}return Ho(b.firebaseDependencies,q)}),Os.apply(this,arguments)}function Ai(){return Ai=(0,$.Z)(function*(b){const k=yield as(b.firebaseDependencies);k&&(yield La(b.firebaseDependencies,k.token),yield function Nl(b){return Mo.apply(this,arguments)}(b.firebaseDependencies));const q=yield b.swRegistration.pushManager.getSubscription();return!q||q.unsubscribe()}),Ai.apply(this,arguments)}function oi(){return oi=(0,$.Z)(function*(b,k){try{const q=yield function tl(b,k){return go.apply(this,arguments)}(b.firebaseDependencies,k),me=Object.assign(Object.assign({},k),{token:q,createTime:Date.now()});return yield Ro(b.firebaseDependencies,me),q}catch(q){throw yield function Zi(b){return Ai.apply(this,arguments)}(b),q}}),oi.apply(this,arguments)}function Ho(b,k){return Va.apply(this,arguments)}function Va(){return(Va=(0,$.Z)(function*(b,k){const me={token:yield Sa(b,k),createTime:Date.now(),subscriptionOptions:k};return yield Ro(b,me),me.token})).apply(this,arguments)}function Ua(){return(Ua=(0,$.Z)(function*(b,k){return(yield b.pushManager.getSubscription())||b.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:L(k)})})).apply(this,arguments)}function Po(b){const k={from:b.from,collapseKey:b.collapse_key,messageId:b.fcmMessageId};return function ga(b,k){if(!k.notification)return;b.notification={};const q=k.notification.title;q&&(b.notification.title=q);const me=k.notification.body;me&&(b.notification.body=me);const Oe=k.notification.image;Oe&&(b.notification.image=Oe);const ze=k.notification.icon;ze&&(b.notification.icon=ze)}(k,b),function la(b,k){k.data&&(b.data=k.data)}(k,b),function N(b,k){var q,me,Oe,ze,mt;if(!(k.fcmOptions||null!==(q=k.notification)&&void 0!==q&&q.click_action))return;b.fcmOptions={};const ln=null!==(Oe=null===(me=k.fcmOptions)||void 0===me?void 0:me.link)&&void 0!==Oe?Oe:null===(ze=k.notification)||void 0===ze?void 0:ze.click_action;ln&&(b.fcmOptions.link=ln);const Vt=null===(mt=k.fcmOptions)||void 0===mt?void 0:mt.analytics_label;Vt&&(b.fcmOptions.analyticsLabel=Vt)}(k,b),k}function F(b,k){const q=[];for(let me=0;me<b.length;me++)q.push(b.charAt(me)),me<k.length&&q.push(k.charAt(me));return q.join("")}function Ie(b){return ji.create("missing-app-config-values",{valueName:b})}F("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),F("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class dt{constructor(k,q,me){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Oe=function ee(b){if(!b||!b.options)throw Ie("App Configuration Object");if(!b.name)throw Ie("App Name");const k=["projectId","apiKey","appId","messagingSenderId"],{options:q}=b;for(const me of k)if(!q[me])throw Ie(me);return{appName:b.name,projectId:q.projectId,apiKey:q.apiKey,appId:q.appId,senderId:q.messagingSenderId}}(k);this.firebaseDependencies={app:k,appConfig:Oe,installations:q,analyticsProvider:me}}_delete(){return Promise.resolve()}}function St(b){return In.apply(this,arguments)}function In(){return(In=(0,$.Z)(function*(b){try{b.swRegistration=yield navigator.serviceWorker.register(Yn,{scope:Ys}),b.swRegistration.update().catch(()=>{})}catch(k){throw ji.create("failed-service-worker-registration",{browserErrorMessage:k?.message})}})).apply(this,arguments)}function Jr(){return(Jr=(0,$.Z)(function*(b,k){if(!k&&!b.swRegistration&&(yield St(b)),k||!b.swRegistration){if(!(k instanceof ServiceWorkerRegistration))throw ji.create("invalid-sw-registration");b.swRegistration=k}})).apply(this,arguments)}function vr(){return(vr=(0,$.Z)(function*(b,k){k?b.vapidKey=k:b.vapidKey||(b.vapidKey=Da)})).apply(this,arguments)}function mi(){return mi=(0,$.Z)(function*(b,k){if(!navigator)throw ji.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw ji.create("permission-blocked");return yield function Nr(b,k){return vr.apply(this,arguments)}(b,k?.vapidKey),yield function br(b,k){return Jr.apply(this,arguments)}(b,k?.serviceWorkerRegistration),function oa(b){return Os.apply(this,arguments)}(b)}),mi.apply(this,arguments)}function Go(){return(Go=(0,$.Z)(function*(b,k,q){const me=function mo(b){switch(b){case x.NOTIFICATION_CLICKED:return"notification_open";case x.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(k);(yield b.firebaseDependencies.analyticsProvider.get()).logEvent(me,{message_id:q[Ta],message_name:q[na],message_time:q[ra],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function ks(){return ks=(0,$.Z)(function*(b,k){const q=k.data;if(!q.isFirebaseMessaging)return;b.onMessageHandler&&q.messageType===x.PUSH_RECEIVED&&("function"==typeof b.onMessageHandler?b.onMessageHandler(Po(q)):b.onMessageHandler.next(Po(q)));const me=q.data;(function W(b){return"object"==typeof b&&!!b&&Ta in b})(me)&&"1"===me[el]&&(yield function ls(b,k,q){return Go.apply(this,arguments)}(b,q.messageType,me))}),ks.apply(this,arguments)}const oo="@firebase/messaging",ai=b=>{const k=new dt(b.getProvider("app").getImmediate(),b.getProvider("installations-internal").getImmediate(),b.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",q=>function ma(b,k){return ks.apply(this,arguments)}(k,q)),k},ya=b=>{const k=b.getProvider("messaging").getImmediate();return{getToken:me=>function Hi(b,k){return mi.apply(this,arguments)}(k,me)}};function ql(){return xl.apply(this,arguments)}function xl(){return(xl=(0,$.Z)(function*(){try{yield(0,be.eu)()}catch{return!1}return typeof window<"u"&&(0,be.hl)()&&(0,be.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function zo(){(0,Re._registerComponent)(new Ve.wA("messaging",ai,"PUBLIC")),(0,Re._registerComponent)(new Ve.wA("messaging-internal",ya,"PRIVATE")),(0,Re.registerVersion)(oo,"0.12.4"),(0,Re.registerVersion)(oo,"0.12.4","esm2017")}();const ut="analytics",kt="firebase_id",ps="origin",$a=6e4,ku="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Yl="https://www.googletagmanager.com/gtag/js",Is=new qe.Yd("@firebase/analytics"),qr=new be.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function hu(b){if(!b.startsWith(Yl)){const k=qr.create("invalid-gtag-resource",{gtagURL:b});return Is.warn(k.message),""}return b}function _a(b){return Promise.all(b.map(k=>k.catch(q=>q)))}function Wo(){return(Wo=(0,$.Z)(function*(b,k,q,me,Oe,ze){const mt=me[Oe];try{if(mt)yield k[mt];else{const Vt=(yield _a(q)).find(kn=>kn.measurementId===Oe);Vt&&(yield k[Vt.appId])}}catch(ln){Is.error(ln)}b("config",Oe,ze)})).apply(this,arguments)}function Ci(){return(Ci=(0,$.Z)(function*(b,k,q,me,Oe){try{let ze=[];if(Oe&&Oe.send_to){let mt=Oe.send_to;Array.isArray(mt)||(mt=[mt]);const ln=yield _a(q);for(const Vt of mt){const kn=ln.find(Xn=>Xn.measurementId===Vt),Dn=kn&&k[kn.appId];if(!Dn){ze=[];break}ze.push(Dn)}}0===ze.length&&(ze=Object.values(k)),yield Promise.all(ze),b("event",me,Oe||{})}catch(ze){Is.error(ze)}})).apply(this,arguments)}const va=30,$s=new class nn{constructor(k={},q=1e3){this.throttleMetadata=k,this.intervalMillis=q}getThrottleMetadata(k){return this.throttleMetadata[k]}setThrottleMetadata(k,q){this.throttleMetadata[k]=q}deleteThrottleMetadata(k){delete this.throttleMetadata[k]}};function Zl(b){return new Headers({Accept:"application/json","x-goog-api-key":b})}function Gi(){return(Gi=(0,$.Z)(function*(b){var k;const{appId:q,apiKey:me}=b,Oe={method:"GET",headers:Zl(me)},ze=ku.replace("{app-id}",q),mt=yield fetch(ze,Oe);if(200!==mt.status&&304!==mt.status){let ln="";try{const Vt=yield mt.json();null!==(k=Vt.error)&&void 0!==k&&k.message&&(ln=Vt.error.message)}catch{}throw qr.create("config-fetch-failed",{httpStatus:mt.status,responseMessage:ln})}return mt.json()})).apply(this,arguments)}function Ql(){return(Ql=(0,$.Z)(function*(b,k=$s,q){const{appId:me,apiKey:Oe,measurementId:ze}=b.options;if(!me)throw qr.create("no-app-id");if(!Oe){if(ze)return{measurementId:ze,appId:me};throw qr.create("no-api-key")}const mt=k.getThrottleMetadata(me)||{backoffCount:0,throttleEndTimeMillis:Date.now()},ln=new Lu;return setTimeout((0,$.Z)(function*(){ln.abort()}),void 0!==q?q:$a),vl({appId:me,apiKey:Oe,measurementId:ze},mt,ln,k)})).apply(this,arguments)}function vl(b,k,q){return El.apply(this,arguments)}function El(){return El=(0,$.Z)(function*(b,{throttleEndTimeMillis:k,backoffCount:q},me,Oe=$s){var ze;const{appId:mt,measurementId:ln}=b;try{yield function wl(b,k){return new Promise((q,me)=>{const Oe=Math.max(k-Date.now(),0),ze=setTimeout(q,Oe);b.addEventListener(()=>{clearTimeout(ze),me(qr.create("fetch-throttle",{throttleEndTimeMillis:k}))})})}(me,k)}catch(Vt){if(ln)return Is.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ln} provided in the "measurementId" field in the local Firebase config. [${Vt?.message}]`),{appId:mt,measurementId:ln};throw Vt}try{const Vt=yield function Ha(b){return Gi.apply(this,arguments)}(b);return Oe.deleteThrottleMetadata(mt),Vt}catch(Vt){const kn=Vt;if(!function No(b){if(!(b instanceof be.ZR&&b.customData))return!1;const k=Number(b.customData.httpStatus);return 429===k||500===k||503===k||504===k}(kn)){if(Oe.deleteThrottleMetadata(mt),ln)return Is.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ln} provided in the "measurementId" field in the local Firebase config. [${kn?.message}]`),{appId:mt,measurementId:ln};throw Vt}const Dn=503===Number(null===(ze=kn?.customData)||void 0===ze?void 0:ze.httpStatus)?(0,be.$s)(q,Oe.intervalMillis,va):(0,be.$s)(q,Oe.intervalMillis),Xn={throttleEndTimeMillis:Date.now()+Dn,backoffCount:q+1};return Oe.setThrottleMetadata(mt,Xn),Is.debug(`Calling attemptFetch again in ${Dn} millis`),vl(b,Xn,me,Oe)}}),El.apply(this,arguments)}class Lu{constructor(){this.listeners=[]}addEventListener(k){this.listeners.push(k)}abort(){this.listeners.forEach(k=>k())}}let Ra,Il;function Ea(){return(Ea=(0,$.Z)(function*(b,k,q,me,Oe){if(Oe&&Oe.global)b("event",q,me);else{const ze=yield k;b("event",q,Object.assign(Object.assign({},me),{send_to:ze}))}})).apply(this,arguments)}function ko(){return(ko=(0,$.Z)(function*(){if(!(0,be.hl)())return Is.warn(qr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,be.eu)()}catch(b){return Is.warn(qr.create("indexeddb-unavailable",{errorInfo:b?.toString()}).message),!1}return!0})).apply(this,arguments)}function C(){return C=(0,$.Z)(function*(b,k,q,me,Oe,ze,mt){var ln;const Vt=function _l(b){return Ql.apply(this,arguments)}(b);Vt.then(Ms=>{q[Ms.measurementId]=Ms.appId,b.options.measurementId&&Ms.measurementId!==b.options.measurementId&&Is.warn(`The measurement ID in the local Firebase config (${b.options.measurementId}) does not match the measurement ID fetched from the server (${Ms.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Ms=>Is.error(Ms)),k.push(Vt);const kn=function zi(){return ko.apply(this,arguments)}().then(Ms=>{if(Ms)return me.getId()}),[Dn,Xn]=yield Promise.all([Vt,kn]);(function Ur(b){const k=window.document.getElementsByTagName("script");for(const q of Object.values(k))if(q.src&&q.src.includes(Yl)&&q.src.includes(b))return q;return null})(ze)||function nl(b,k){const q=function Ol(b,k){let q;return window.trustedTypes&&(q=window.trustedTypes.createPolicy(b,k)),q}("firebase-js-sdk-policy",{createScriptURL:hu}),me=document.createElement("script"),Oe=`${Yl}?l=${b}&id=${k}`;me.src=q?q?.createScriptURL(Oe):Oe,me.async=!0,document.head.appendChild(me)}(ze,Dn.measurementId),Il&&(Oe("consent","default",Il),function kl(b){Il=b}(void 0)),Oe("js",new Date);const Xs=null!==(ln=mt?.config)&&void 0!==ln?ln:{};return Xs[ps]="firebase",Xs.update=!0,null!=Xn&&(Xs[kt]=Xn),Oe("config",Dn.measurementId,Xs),Ra&&(Oe("set",Ra),function fu(b){Ra=b}(void 0)),Dn.measurementId}),C.apply(this,arguments)}class T{constructor(k){this.app=k}_delete(){return delete E[this.app.options.appId],Promise.resolve()}}let E={},P=[];const j={};let Ke,Et,J="dataLayer",ae="gtag",Xt=!1;function Cs(b,k,q){!function fr(){const b=[];if((0,be.ru)()&&b.push("This is a browser extension environment."),(0,be.zI)()||b.push("Cookies are not available."),b.length>0){const k=b.map((me,Oe)=>`(${Oe+1}) ${me}`).join(" "),q=qr.create("invalid-analytics-context",{errorInfo:k});Is.warn(q.message)}}();const me=b.options.appId;if(!me)throw qr.create("no-app-id");if(!b.options.apiKey){if(!b.options.measurementId)throw qr.create("no-api-key");Is.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${b.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=E[me])throw qr.create("already-exists",{id:me});if(!Xt){!function ja(b){let k=[];Array.isArray(window[b])?k=window[b]:window[b]=k}(J);const{wrappedGtag:ze,gtagCore:mt}=function gs(b,k,q,me,Oe){let ze=function(...mt){window[me].push(arguments)};return window[Oe]&&"function"==typeof window[Oe]&&(ze=window[Oe]),window[Oe]=function Mn(b,k,q,me){function ze(){return ze=(0,$.Z)(function*(mt,...ln){try{if("event"===mt){const[Vt,kn]=ln;yield function Fu(b,k,q,me,Oe){return Ci.apply(this,arguments)}(b,k,q,Vt,kn)}else if("config"===mt){const[Vt,kn]=ln;yield function nr(b,k,q,me,Oe,ze){return Wo.apply(this,arguments)}(b,k,q,me,Vt,kn)}else if("consent"===mt){const[Vt]=ln;b("consent","update",Vt)}else if("get"===mt){const[Vt,kn,Dn]=ln;b("get",Vt,kn,Dn)}else if("set"===mt){const[Vt]=ln;b("set",Vt)}else b(mt,...ln)}catch(Vt){Is.error(Vt)}}),ze.apply(this,arguments)}return function Oe(mt){return ze.apply(this,arguments)}}(ze,b,k,q),{gtagCore:ze,wrappedGtag:window[Oe]}}(E,P,j,J,ae);Et=ze,Ke=mt,Xt=!0}return E[me]=function Ma(b,k,q,me,Oe,ze,mt){return C.apply(this,arguments)}(b,P,j,k,Ke,J,q),new T(b)}function Zo(){return ns.apply(this,arguments)}function ns(){return(ns=(0,$.Z)(function*(){if((0,be.ru)()||!(0,be.zI)()||!(0,be.hl)())return!1;try{return yield(0,be.eu)()}catch{return!1}})).apply(this,arguments)}const gu="@firebase/analytics";!function Jl(){(0,Re._registerComponent)(new Ve.wA(ut,(k,{options:q})=>Cs(k.getProvider("app").getImmediate(),k.getProvider("installations-internal").getImmediate(),q),"PUBLIC")),(0,Re._registerComponent)(new Ve.wA("analytics-internal",function b(k){try{const q=k.getProvider(ut).getImmediate();return{logEvent:(me,Oe,ze)=>function id(b,k,q,me){b=(0,be.m9)(b),function rd(b,k,q,me,Oe){return Ea.apply(this,arguments)}(Et,E[b.app.options.appId],k,q,me).catch(Oe=>Is.error(Oe))}(q,me,Oe,ze)}}catch(q){throw qr.create("interop-component-reg-failed",{reason:q})}},"PRIVATE")),(0,Re.registerVersion)(gu,"0.10.0"),(0,Re.registerVersion)(gu,"0.10.0","esm2017")}();var Qs=G(4408),Qo=G(7565);const Qi=new class mu extends Qo.v{}(class Ec extends Qs.o{constructor(k,q){super(k,q),this.scheduler=k,this.work=q}schedule(k,q=0){return q>0?super.schedule(k,q):(this.delay=q,this.state=k,this.scheduler.flush(this),this)}execute(k,q){return q>0||this.closed?super.execute(k,q):this._execute(k,q)}requestAsyncId(k,q,me=0){return null!=me&&me>0||null==me&&this.delay>0?super.requestAsyncId(k,q,me):(k.flush(this),0)}});var js=G(4986),ui=G(9751),yu=G(8505),Na=G(5363),vo=G(9468);const sl=new _.GfV("7.6.1"),wc="__angularfire_symbol__analyticsIsSupportedValue",Rs="__angularfire_symbol__analyticsIsSupported",Ga="__angularfire_symbol__remoteConfigIsSupportedValue",wa="__angularfire_symbol__remoteConfigIsSupported",ms="__angularfire_symbol__messagingIsSupportedValue",xa="__angularfire_symbol__messagingIsSupported";function Oa(b,k,q){if(k){if(1===k.length)return k[0];const ze=k.filter(mt=>mt.app===q);if(1===ze.length)return ze[0]}return q.container.getProvider(b).getImmediate({optional:!0})}globalThis[Rs]||(globalThis[Rs]=Zo().then(b=>globalThis[wc]=b).catch(()=>globalThis[wc]=!1)),globalThis[xa]||(globalThis[xa]=ql().then(b=>globalThis[ms]=b).catch(()=>globalThis[ms]=!1)),globalThis[wa]||(globalThis[wa]=$t().then(b=>globalThis[Ga]=b).catch(()=>globalThis[Ga]=!1));const ua=(b,k)=>{const q=k?[k]:(0,X.C6)(),me=[];return q.forEach(Oe=>{Oe.container.getProvider(b).instances.forEach(mt=>{me.includes(mt)||me.push(mt)})}),me};function Hs(){}class Fo{constructor(k,q=Qi){this.zone=k,this.delegate=q}now(){return this.delegate.now()}schedule(k,q,me){const Oe=this.zone;return this.delegate.schedule(function(mt){Oe.runGuarded(()=>{k.apply(this,[mt])})},q,me)}}class Gs{constructor(k){this.zone=k,this.task=null}call(k,q){const me=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Hs,{},Hs,Hs)),q.pipe((0,yu.b)({next:me,complete:me,error:me})).subscribe(k).add(me)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let ol=(()=>{class b{constructor(q){this.ngZone=q,this.outsideAngular=q.runOutsideAngular(()=>new Fo(Zone.current)),this.insideAngular=q.run(()=>new Fo(Zone.current,js.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return b.\u0275fac=function(q){return new(q||b)(_.LFG(_.R0b))},b.\u0275prov=_.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"}),b})();function Eo(){const b=globalThis.\u0275AngularFireScheduler;if(!b)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return b}function lo(b){return Eo().ngZone.run(()=>b())}function _u(b){return b.pipe((0,Na.Q)(Eo().outsideAngular))}function al(b){return Eo(),function oc(b){return function(q){return(q=q.lift(new Gs(b.ngZone))).pipe((0,vo.R)(b.outsideAngular),(0,Na.Q)(b.insideAngular))}}(Eo())(b)}const ll=(b,k)=>function(){const me=arguments;return k&&setTimeout(()=>{"scheduled"===k.state&&k.invoke()},10),lo(()=>b.apply(void 0,me))},vu=(b,k)=>function(){let q;const me=arguments;for(let ze=0;ze<arguments.length;ze++)"function"==typeof me[ze]&&(k&&(q||(q=lo(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Hs,{},Hs,Hs)))),me[ze]=ll(me[ze],q));const Oe=function eu(b){return Eo().ngZone.runOutsideAngular(()=>b())}(()=>b.apply(this,me));if(!k){if(Oe instanceof ui.y){const ze=Eo();return Oe.pipe((0,vo.R)(ze.outsideAngular),(0,Na.Q)(ze.insideAngular))}return lo(()=>Oe)}return Oe instanceof ui.y?Oe.pipe(al):Oe instanceof Promise?lo(()=>new Promise((ze,mt)=>Oe.then(ln=>lo(()=>ze(ln)),ln=>lo(()=>mt(ln))))):"function"==typeof Oe&&q?function(){return setTimeout(()=>{q&&"scheduled"===q.state&&q.invoke()},10),Oe.apply(this,arguments)}:lo(()=>Oe)}},1389:(rn,it,G)=>{G.d(it,{$:()=>Yn,A:()=>fe,D:()=>pt,I:()=>Qr,J:()=>Nt,L:()=>Ei,N:()=>ri,P:()=>Ma,Q:()=>z,R:()=>Ko,U:()=>_t,V:()=>$t,W:()=>tn,X:()=>We,Y:()=>fi,Z:()=>zr,_:()=>Ni,a:()=>us,a0:()=>Da,a1:()=>Ta,a2:()=>da,a3:()=>pn,a4:()=>xi,a5:()=>so,a6:()=>bs,a7:()=>ws,a8:()=>ia,a9:()=>As,aA:()=>Be,aB:()=>Rs,aC:()=>yi,aD:()=>li,aE:()=>yu,aF:()=>vc,aG:()=>Vu,aH:()=>Dr,aL:()=>Cn,aO:()=>Sn,aa:()=>Nl,ab:()=>sa,ac:()=>ml,ad:()=>tl,ae:()=>La,af:()=>Bs,ai:()=>Aa,aj:()=>Os,ak:()=>Zi,an:()=>bo,ao:()=>ga,aq:()=>vr,ar:()=>oo,as:()=>en,at:()=>Ne,au:()=>he,av:()=>Ge,aw:()=>Xn,ax:()=>xa,ay:()=>nt,az:()=>ge,b:()=>Lt,c:()=>Et,d:()=>Cs,e:()=>gn,f:()=>gu,g:()=>mu,h:()=>Qs,i:()=>cs,j:()=>js,k:()=>wu,l:()=>Oo,m:()=>Dl,o:()=>Oh,p:()=>Le,r:()=>rl,s:()=>yo,u:()=>zi});var _=G(5861),X=G(2090),$=G(6881),Re=G(7582),be=G(1877),Ve=G(4859);const Le={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},fe={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const pt=function Ae(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},At=function ht(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},jt=new X.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),wt=new be.Yd("@firebase/auth");function Dt(S,...g){wt.logLevel<=be.in.ERROR&&wt.error(`Auth (${$.SDK_VERSION}): ${S}`,...g)}function Ge(S,...g){throw ot(S,...g)}function ge(S,...g){return ot(S,...g)}function lt(S,g,v){const A=Object.assign(Object.assign({},At()),{[g]:v});return new X.LL("auth","Firebase",A).create(g,{appName:S.name})}function et(S,g,v){if(!(g instanceof v))throw v.name!==g.constructor.name&&Ge(S,"argument-error"),lt(S,"argument-error",`Type of ${g.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ot(S,...g){if("string"!=typeof S){const v=g[0],A=[...g.slice(1)];return A[0]&&(A[0].appName=S.name),S._errorFactory.create(v,...A)}return jt.create(S,...g)}function Be(S,g,...v){if(!S)throw ot(g,...v)}function re(S){const g="INTERNAL ASSERTION FAILED: "+S;throw Dt(g),new Error(g)}function en(S,g){S||re(g)}function Gt(){var S;return typeof self<"u"&&(null===(S=self.location)||void 0===S?void 0:S.href)||""}function Rn(){return"http:"===Ut()||"https:"===Ut()}function Ut(){var S;return typeof self<"u"&&(null===(S=self.location)||void 0===S?void 0:S.protocol)||null}class on{constructor(g,v){this.shortDelay=g,this.longDelay=v,en(v>g,"Short delay should be less than long delay!"),this.isMobile=(0,X.uI)()||(0,X.b$)()}get(){return function sn(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Rn()||(0,X.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Gn(S,g){en(S.emulator,"Emulator should always be set here");const{url:v}=S.emulator;return g?`${v}${g.startsWith("/")?g.slice(1):g}`:v}class ke{static initialize(g,v,A){this.fetchImpl=g,v&&(this.headersImpl=v),A&&(this.responseImpl=A)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void re("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void re("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void re("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Fe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Ze=new on(3e4,6e4);function Me(S,g){return S.tenantId&&!g.tenantId?Object.assign(Object.assign({},g),{tenantId:S.tenantId}):g}function Xe(S,g,v,A){return It.apply(this,arguments)}function It(){return(It=(0,_.Z)(function*(S,g,v,A,Y={}){return Ft(S,Y,(0,_.Z)(function*(){let le={},He={};A&&("GET"===g?He=A:le={body:JSON.stringify(A)});const gt=(0,X.xO)(Object.assign({key:S.config.apiKey},He)).slice(1),Yt=yield S._getAdditionalHeaders();return Yt["Content-Type"]="application/json",S.languageCode&&(Yt["X-Firebase-Locale"]=S.languageCode),ke.fetch()(Pn(S,S.config.apiHost,v,gt),Object.assign({method:g,headers:Yt,referrerPolicy:"no-referrer"},le))}))})).apply(this,arguments)}function Ft(S,g,v){return qt.apply(this,arguments)}function qt(){return(qt=(0,_.Z)(function*(S,g,v){S._canInitEmulator=!1;const A=Object.assign(Object.assign({},Fe),g);try{const Y=new _r(S),le=yield Promise.race([v(),Y.promise]);Y.clearNetworkTimeout();const He=yield le.json();if("needConfirmation"in He)throw xn(S,"account-exists-with-different-credential",He);if(le.ok&&!("errorMessage"in He))return He;{const gt=le.ok?He.errorMessage:He.error.message,[Yt,an]=gt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Yt)throw xn(S,"credential-already-in-use",He);if("EMAIL_EXISTS"===Yt)throw xn(S,"email-already-in-use",He);if("USER_DISABLED"===Yt)throw xn(S,"user-disabled",He);const Hn=A[Yt]||Yt.toLowerCase().replace(/[_\s]+/g,"-");if(an)throw lt(S,Hn,an);Ge(S,Hn)}}catch(Y){if(Y instanceof X.ZR)throw Y;Ge(S,"network-request-failed",{message:String(Y)})}})).apply(this,arguments)}function vn(S,g,v,A){return zt.apply(this,arguments)}function zt(){return(zt=(0,_.Z)(function*(S,g,v,A,Y={}){const le=yield Xe(S,g,v,A,Y);return"mfaPendingCredential"in le&&Ge(S,"multi-factor-auth-required",{_serverResponse:le}),le})).apply(this,arguments)}function Pn(S,g,v,A){const Y=`${g}${v}?${A}`;return S.config.emulator?Gn(S.config,Y):`${S.config.apiScheme}://${Y}`}class _r{constructor(g){this.auth=g,this.timer=null,this.promise=new Promise((v,A)=>{this.timer=setTimeout(()=>A(ge(this.auth,"network-request-failed")),Ze.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function xn(S,g,v){const A={appName:S.name};v.email&&(A.email=v.email),v.phoneNumber&&(A.phoneNumber=v.phoneNumber);const Y=ge(S,g,A);return Y.customData._tokenResponse=v,Y}function rr(){return(rr=(0,_.Z)(function*(S,g){return Xe(S,"POST","/v1/accounts:delete",g)})).apply(this,arguments)}function cr(){return(cr=(0,_.Z)(function*(S,g){return Xe(S,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Tn(){return(Tn=(0,_.Z)(function*(S,g){return Xe(S,"POST","/v1/accounts:lookup",g)})).apply(this,arguments)}function Ht(S){if(S)try{const g=new Date(Number(S));if(!isNaN(g.getTime()))return g.toUTCString()}catch{}}function kr(){return(kr=(0,_.Z)(function*(S,g=!1){const v=(0,X.m9)(S),A=yield v.getIdToken(g),Y=dr(A);Be(Y&&Y.exp&&Y.auth_time&&Y.iat,v.auth,"internal-error");const le="object"==typeof Y.firebase?Y.firebase:void 0,He=le?.sign_in_provider;return{claims:Y,token:A,authTime:Ht(xr(Y.auth_time)),issuedAtTime:Ht(xr(Y.iat)),expirationTime:Ht(xr(Y.exp)),signInProvider:He||null,signInSecondFactor:le?.sign_in_second_factor||null}})).apply(this,arguments)}function xr(S){return 1e3*Number(S)}function dr(S){const[g,v,A]=S.split(".");if(void 0===g||void 0===v||void 0===A)return Dt("JWT malformed, contained fewer than 3 sections"),null;try{const Y=(0,X.tV)(v);return Y?JSON.parse(Y):(Dt("Failed to decode base64 JWT payload"),null)}catch(Y){return Dt("Caught error parsing JWT payload as JSON",Y?.toString()),null}}function fn(S,g){return Kt.apply(this,arguments)}function Kt(){return(Kt=(0,_.Z)(function*(S,g,v=!1){if(v)return g;try{return yield g}catch(A){throw A instanceof X.ZR&&function mn({code:S}){return"auth/user-disabled"===S||"auth/user-token-expired"===S}(A)&&S.auth.currentUser===S&&(yield S.auth.signOut()),A}})).apply(this,arguments)}class ei{constructor(g){this.user=g,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(g){var v;if(g){const A=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),A}{this.errorBackoff=3e4;const Y=(null!==(v=this.user.stsTokenManager.expirationTime)&&void 0!==v?v:0)-Date.now()-3e5;return Math.max(0,Y)}}schedule(g=!1){var v=this;if(!this.isRunning)return;const A=this.getInterval(g);this.timerId=setTimeout((0,_.Z)(function*(){yield v.iteration()}),A)}iteration(){var g=this;return(0,_.Z)(function*(){try{yield g.user.getIdToken(!0)}catch(v){return void("auth/network-request-failed"===v?.code&&g.schedule(!0))}g.schedule()})()}}class Zr{constructor(g,v){this.createdAt=g,this.lastLoginAt=v,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ht(this.lastLoginAt),this.creationTime=Ht(this.createdAt)}_copy(g){this.createdAt=g.createdAt,this.lastLoginAt=g.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Rr(S){return Mi.apply(this,arguments)}function Mi(){return Mi=(0,_.Z)(function*(S){var g;const v=S.auth,A=yield S.getIdToken(),Y=yield fn(S,function Or(S,g){return Tn.apply(this,arguments)}(v,{idToken:A}));Be(Y?.users.length,v,"internal-error");const le=Y.users[0];S._notifyReloadListener(le);const He=null!==(g=le.providerUserInfo)&&void 0!==g&&g.length?function Ir(S){return S.map(g=>{var{providerId:v}=g,A=(0,Re._T)(g,["providerId"]);return{providerId:v,uid:A.rawId||"",displayName:A.displayName||null,email:A.email||null,phoneNumber:A.phoneNumber||null,photoURL:A.photoUrl||null}})}(le.providerUserInfo):[],gt=function Fn(S,g){return[...S.filter(A=>!g.some(Y=>Y.providerId===A.providerId)),...g]}(S.providerData,He),Hn=!!S.isAnonymous&&!(S.email&&le.passwordHash||gt?.length),yr={uid:le.localId,displayName:le.displayName||null,photoURL:le.photoUrl||null,email:le.email||null,emailVerified:le.emailVerified||!1,phoneNumber:le.phoneNumber||null,tenantId:le.tenantId||null,providerData:gt,metadata:new Zr(le.createdAt,le.lastLoginAt),isAnonymous:Hn};Object.assign(S,yr)}),Mi.apply(this,arguments)}function ci(){return(ci=(0,_.Z)(function*(S){const g=(0,X.m9)(S);yield Rr(g),yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)})).apply(this,arguments)}function Cr(){return(Cr=(0,_.Z)(function*(S,g){const v=yield Ft(S,{},(0,_.Z)(function*(){const A=(0,X.xO)({grant_type:"refresh_token",refresh_token:g}).slice(1),{tokenApiHost:Y,apiKey:le}=S.config,He=Pn(S,Y,"/v1/token",`key=${le}`),gt=yield S._getAdditionalHeaders();return gt["Content-Type"]="application/x-www-form-urlencoded",ke.fetch()(He,{method:"POST",headers:gt,body:A})}));return{accessToken:v.access_token,expiresIn:v.expires_in,refreshToken:v.refresh_token}})).apply(this,arguments)}class Ot{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(g){Be(g.idToken,"internal-error"),Be(typeof g.idToken<"u","internal-error"),Be(typeof g.refreshToken<"u","internal-error");const v="expiresIn"in g&&typeof g.expiresIn<"u"?Number(g.expiresIn):function Zn(S){const g=dr(S);return Be(g,"internal-error"),Be(typeof g.exp<"u","internal-error"),Be(typeof g.iat<"u","internal-error"),Number(g.exp)-Number(g.iat)}(g.idToken);this.updateTokensAndExpiration(g.idToken,g.refreshToken,v)}getToken(g,v=!1){var A=this;return(0,_.Z)(function*(){return Be(!A.accessToken||A.refreshToken,g,"user-token-expired"),v||!A.accessToken||A.isExpired?A.refreshToken?(yield A.refresh(g,A.refreshToken),A.accessToken):null:A.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(g,v){var A=this;return(0,_.Z)(function*(){const{accessToken:Y,refreshToken:le,expiresIn:He}=yield function Nn(S,g){return Cr.apply(this,arguments)}(g,v);A.updateTokensAndExpiration(Y,le,Number(He))})()}updateTokensAndExpiration(g,v,A){this.refreshToken=v||null,this.accessToken=g||null,this.expirationTime=Date.now()+1e3*A}static fromJSON(g,v){const{refreshToken:A,accessToken:Y,expirationTime:le}=v,He=new Ot;return A&&(Be("string"==typeof A,"internal-error",{appName:g}),He.refreshToken=A),Y&&(Be("string"==typeof Y,"internal-error",{appName:g}),He.accessToken=Y),le&&(Be("number"==typeof le,"internal-error",{appName:g}),He.expirationTime=le),He}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(g){this.accessToken=g.accessToken,this.refreshToken=g.refreshToken,this.expirationTime=g.expirationTime}_clone(){return Object.assign(new Ot,this.toJSON())}_performRefresh(){return re("not implemented")}}function Mr(S,g){Be("string"==typeof S||typeof S>"u","internal-error",{appName:g})}class ni{constructor(g){var{uid:v,auth:A,stsTokenManager:Y}=g,le=(0,Re._T)(g,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ei(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=v,this.auth=A,this.stsTokenManager=Y,this.accessToken=Y.accessToken,this.displayName=le.displayName||null,this.email=le.email||null,this.emailVerified=le.emailVerified||!1,this.phoneNumber=le.phoneNumber||null,this.photoURL=le.photoURL||null,this.isAnonymous=le.isAnonymous||!1,this.tenantId=le.tenantId||null,this.providerData=le.providerData?[...le.providerData]:[],this.metadata=new Zr(le.createdAt||void 0,le.lastLoginAt||void 0)}getIdToken(g){var v=this;return(0,_.Z)(function*(){const A=yield fn(v,v.stsTokenManager.getToken(v.auth,g));return Be(A,v.auth,"internal-error"),v.accessToken!==A&&(v.accessToken=A,yield v.auth._persistUserIfCurrent(v),v.auth._notifyListenersIfCurrent(v)),A})()}getIdTokenResult(g){return function ar(S){return kr.apply(this,arguments)}(this,g)}reload(){return function sr(S){return ci.apply(this,arguments)}(this)}_assign(g){this!==g&&(Be(this.uid===g.uid,this.auth,"internal-error"),this.displayName=g.displayName,this.photoURL=g.photoURL,this.email=g.email,this.emailVerified=g.emailVerified,this.phoneNumber=g.phoneNumber,this.isAnonymous=g.isAnonymous,this.tenantId=g.tenantId,this.providerData=g.providerData.map(v=>Object.assign({},v)),this.metadata._copy(g.metadata),this.stsTokenManager._assign(g.stsTokenManager))}_clone(g){const v=new ni(Object.assign(Object.assign({},this),{auth:g,stsTokenManager:this.stsTokenManager._clone()}));return v.metadata._copy(this.metadata),v}_onReload(g){Be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=g,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(g){this.reloadListener?this.reloadListener(g):this.reloadUserInfo=g}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(g,v=!1){var A=this;return(0,_.Z)(function*(){let Y=!1;g.idToken&&g.idToken!==A.stsTokenManager.accessToken&&(A.stsTokenManager.updateFromServerResponse(g),Y=!0),v&&(yield Rr(A)),yield A.auth._persistUserIfCurrent(A),Y&&A.auth._notifyListenersIfCurrent(A)})()}delete(){var g=this;return(0,_.Z)(function*(){const v=yield g.getIdToken();return yield fn(g,function Un(S,g){return rr.apply(this,arguments)}(g.auth,{idToken:v})),g.stsTokenManager.clearRefreshToken(),g.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(g=>Object.assign({},g)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(g,v){var A,Y,le,He,gt,Yt,an,Hn;const yr=null!==(A=v.displayName)&&void 0!==A?A:void 0,Lo=null!==(Y=v.email)&&void 0!==Y?Y:void 0,Wa=null!==(le=v.phoneNumber)&&void 0!==le?le:void 0,Ul=null!==(He=v.photoURL)&&void 0!==He?He:void 0,Dc=null!==(gt=v.tenantId)&&void 0!==gt?gt:void 0,ys=null!==(Yt=v._redirectEventId)&&void 0!==Yt?Yt:void 0,uo=null!==(an=v.createdAt)&&void 0!==an?an:void 0,Ka=null!==(Hn=v.lastLoginAt)&&void 0!==Hn?Hn:void 0,{uid:bl,emailVerified:wo,isAnonymous:ul,providerData:Du,stsTokenManager:Al}=v;Be(bl&&Al,g,"internal-error");const cl=Ot.fromJSON(this.name,Al);Be("string"==typeof bl,g,"internal-error"),Mr(yr,g.name),Mr(Lo,g.name),Be("boolean"==typeof wo,g,"internal-error"),Be("boolean"==typeof ul,g,"internal-error"),Mr(Wa,g.name),Mr(Ul,g.name),Mr(Dc,g.name),Mr(ys,g.name),Mr(uo,g.name),Mr(Ka,g.name);const Tc=new ni({uid:bl,auth:g,email:Lo,emailVerified:wo,displayName:yr,isAnonymous:ul,photoURL:Ul,phoneNumber:Wa,tenantId:Dc,stsTokenManager:cl,createdAt:uo,lastLoginAt:Ka});return Du&&Array.isArray(Du)&&(Tc.providerData=Du.map(ld=>Object.assign({},ld))),ys&&(Tc._redirectEventId=ys),Tc}static _fromIdTokenResponse(g,v,A=!1){return(0,_.Z)(function*(){const Y=new Ot;Y.updateFromServerResponse(v);const le=new ni({uid:v.localId,auth:g,stsTokenManager:Y,isAnonymous:A});return yield Rr(le),le})()}}const Fr=new Map;function yi(S){en(S instanceof Function,"Expected a class definition");let g=Fr.get(S);return g?(en(g instanceof S,"Instance stored in cache mismatched with class"),g):(g=new S,Fr.set(S,g),g)}const ri=(()=>{class S{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,_.Z)(function*(){return!0})()}_set(v,A){var Y=this;return(0,_.Z)(function*(){Y.storage[v]=A})()}_get(v){var A=this;return(0,_.Z)(function*(){const Y=A.storage[v];return void 0===Y?null:Y})()}_remove(v){var A=this;return(0,_.Z)(function*(){delete A.storage[v]})()}_addListener(v,A){}_removeListener(v,A){}}return S.type="NONE",S})();function li(S,g,v){return`firebase:${S}:${g}:${v}`}class Ce{constructor(g,v,A){this.persistence=g,this.auth=v,this.userKey=A;const{config:Y,name:le}=this.auth;this.fullUserKey=li(this.userKey,Y.apiKey,le),this.fullPersistenceKey=li("persistence",Y.apiKey,le),this.boundEventHandler=v._onStorageEvent.bind(v),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(g){return this.persistence._set(this.fullUserKey,g.toJSON())}getCurrentUser(){var g=this;return(0,_.Z)(function*(){const v=yield g.persistence._get(g.fullUserKey);return v?ni._fromJSON(g.auth,v):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(g){var v=this;return(0,_.Z)(function*(){if(v.persistence===g)return;const A=yield v.getCurrentUser();return yield v.removeCurrentUser(),v.persistence=g,A?v.setCurrentUser(A):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(g,v,A="authUser"){return(0,_.Z)(function*(){if(!v.length)return new Ce(yi(ri),g,A);const Y=(yield Promise.all(v.map(function(){var an=(0,_.Z)(function*(Hn){if(yield Hn._isAvailable())return Hn});return function(Hn){return an.apply(this,arguments)}}()))).filter(an=>an);let le=Y[0]||yi(ri);const He=li(A,g.config.apiKey,g.name);let gt=null;for(const an of v)try{const Hn=yield an._get(He);if(Hn){const yr=ni._fromJSON(g,Hn);an!==le&&(gt=yr),le=an;break}}catch{}const Yt=Y.filter(an=>an._shouldAllowMigration);return le._shouldAllowMigration&&Yt.length?(le=Yt[0],gt&&(yield le._set(He,gt.toJSON())),yield Promise.all(v.map(function(){var an=(0,_.Z)(function*(Hn){if(Hn!==le)try{yield Hn._remove(He)}catch{}});return function(Hn){return an.apply(this,arguments)}}())),new Ce(le,g,A)):new Ce(le,g,A)})()}}function Ee(S){const g=S.toLowerCase();if(g.includes("opera/")||g.includes("opr/")||g.includes("opios/"))return"Opera";if(De(g))return"IEMobile";if(g.includes("msie")||g.includes("trident/"))return"IE";if(g.includes("edge/"))return"Edge";if(oe(g))return"Firefox";if(g.includes("silk/"))return"Silk";if(_e(g))return"Blackberry";if(ce(g))return"Webos";if(ue(g))return"Safari";if((g.includes("chrome/")||te(g))&&!g.includes("edge/"))return"Chrome";if(he(g))return"Android";{const A=S.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===A?.length)return A[1]}return"Other"}function oe(S=(0,X.z$)()){return/firefox\//i.test(S)}function ue(S=(0,X.z$)()){const g=S.toLowerCase();return g.includes("safari/")&&!g.includes("chrome/")&&!g.includes("crios/")&&!g.includes("android")}function te(S=(0,X.z$)()){return/crios\//i.test(S)}function De(S=(0,X.z$)()){return/iemobile/i.test(S)}function he(S=(0,X.z$)()){return/android/i.test(S)}function _e(S=(0,X.z$)()){return/blackberry/i.test(S)}function ce(S=(0,X.z$)()){return/webos/i.test(S)}function Ne(S=(0,X.z$)()){return/iphone|ipad|ipod/i.test(S)||/macintosh/i.test(S)&&/mobile/i.test(S)}function nt(S=(0,X.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(S)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(S)}function En(S=(0,X.z$)()){return Ne(S)||he(S)||ce(S)||_e(S)||/windows phone/i.test(S)||De(S)}function Oi(S,g=[]){let v;switch(S){case"Browser":v=Ee((0,X.z$)());break;case"Worker":v=`${Ee((0,X.z$)())}-${S}`;break;default:v=S}const A=g.length?g.join(","):"FirebaseCore-web";return`${v}/JsCore/${$.SDK_VERSION}/${A}`}function Je(){return(Je=(0,_.Z)(function*(S){return(yield Xe(S,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Pt(S,g){return cn.apply(this,arguments)}function cn(){return(cn=(0,_.Z)(function*(S,g){return Xe(S,"GET","/v2/recaptchaConfig",Me(S,g))})).apply(this,arguments)}function On(S){return void 0!==S&&void 0!==S.getResponse}function Ln(S){return void 0!==S&&void 0!==S.enterprise}class dn{constructor(g){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===g.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=g.recaptchaKey.split("/")[3],this.emailPasswordEnabled=g.recaptchaEnforcementState.some(v=>"EMAIL_PASSWORD_PROVIDER"===v.provider&&"OFF"!==v.enforcementState)}}function lr(S){return new Promise((g,v)=>{const A=document.createElement("script");A.setAttribute("src",S),A.onload=g,A.onerror=Y=>{const le=ge("internal-error");le.customData=Y,v(le)},A.type="text/javascript",A.charset="UTF-8",function gr(){var S,g;return null!==(g=null===(S=document.getElementsByTagName("head"))||void 0===S?void 0:S[0])&&void 0!==g?g:document}().appendChild(A)})}function Pi(S){return`__${S}${Math.floor(1e6*Math.random())}`}const ki="NO_RECAPTCHA";class Ti{constructor(g){this.type="recaptcha-enterprise",this.auth=Dr(g)}verify(g="verify",v=!1){var A=this;return(0,_.Z)(function*(){function le(){return le=(0,_.Z)(function*(gt){if(!v){if(null==gt.tenantId&&null!=gt._agentRecaptchaConfig)return gt._agentRecaptchaConfig.siteKey;if(null!=gt.tenantId&&void 0!==gt._tenantRecaptchaConfigs[gt.tenantId])return gt._tenantRecaptchaConfigs[gt.tenantId].siteKey}return new Promise(function(){var Yt=(0,_.Z)(function*(an,Hn){Pt(gt,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(yr=>{if(void 0!==yr.recaptchaKey){const Lo=new dn(yr);return null==gt.tenantId?gt._agentRecaptchaConfig=Lo:gt._tenantRecaptchaConfigs[gt.tenantId]=Lo,an(Lo.siteKey)}Hn(new Error("recaptcha Enterprise site key undefined"))}).catch(yr=>{Hn(yr)})});return function(an,Hn){return Yt.apply(this,arguments)}}())}),le.apply(this,arguments)}function He(gt,Yt,an){const Hn=window.grecaptcha;Ln(Hn)?Hn.enterprise.ready(()=>{Hn.enterprise.execute(gt,{action:g}).then(yr=>{Yt(yr)}).catch(()=>{Yt(ki)})}):an(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((gt,Yt)=>{(function Y(gt){return le.apply(this,arguments)})(A.auth).then(an=>{if(!v&&Ln(window.grecaptcha))He(an,gt,Yt);else{if(typeof window>"u")return void Yt(new Error("RecaptchaVerifier is only supported in browser"));lr("https://www.google.com/recaptcha/enterprise.js?render="+an).then(()=>{He(an,gt,Yt)}).catch(Hn=>{Yt(Hn)})}}).catch(an=>{Yt(an)})})})()}}function _i(S,g,v){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,_.Z)(function*(S,g,v,A=!1){const Y=new Ti(S);let le;try{le=yield Y.verify(v)}catch{le=yield Y.verify(v,!0)}const He=Object.assign({},g);return Object.assign(He,A?{captchaResp:le}:{captchaResponse:le}),Object.assign(He,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(He,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),He})).apply(this,arguments)}class Qn{constructor(g){this.auth=g,this.queue=[]}pushCallback(g,v){const A=le=>new Promise((He,gt)=>{try{He(g(le))}catch(Yt){gt(Yt)}});A.onAbort=v,this.queue.push(A);const Y=this.queue.length-1;return()=>{this.queue[Y]=()=>Promise.resolve()}}runMiddleware(g){var v=this;return(0,_.Z)(function*(){if(v.auth.currentUser===g)return;const A=[];try{for(const Y of v.queue)yield Y(g),Y.onAbort&&A.push(Y.onAbort)}catch(Y){A.reverse();for(const le of A)try{le()}catch{}throw v.auth._errorFactory.create("login-blocked",{originalMessage:Y?.message})}})()}}class mr{constructor(g,v,A,Y){this.app=g,this.heartbeatServiceProvider=v,this.appCheckServiceProvider=A,this.config=Y,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Fi(this),this.idTokenSubscription=new Fi(this),this.beforeStateQueue=new Qn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=jt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=g.name,this.clientVersion=Y.sdkClientVersion}_initializeWithPersistence(g,v){var A=this;return v&&(this._popupRedirectResolver=yi(v)),this._initializationPromise=this.queue((0,_.Z)(function*(){var Y,le;if(!A._deleted&&(A.persistenceManager=yield Ce.create(A,g),!A._deleted)){if(null!==(Y=A._popupRedirectResolver)&&void 0!==Y&&Y._shouldInitProactively)try{yield A._popupRedirectResolver._initialize(A)}catch{}yield A.initializeCurrentUser(v),A.lastNotifiedUid=(null===(le=A.currentUser)||void 0===le?void 0:le.uid)||null,!A._deleted&&(A._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var g=this;return(0,_.Z)(function*(){if(g._deleted)return;const v=yield g.assertedPersistence.getCurrentUser();if(g.currentUser||v){if(g.currentUser&&v&&g.currentUser.uid===v.uid)return g._currentUser._assign(v),void(yield g.currentUser.getIdToken());yield g._updateCurrentUser(v,!0)}})()}initializeCurrentUser(g){var v=this;return(0,_.Z)(function*(){var A;const Y=yield v.assertedPersistence.getCurrentUser();let le=Y,He=!1;if(g&&v.config.authDomain){yield v.getOrInitRedirectPersistenceManager();const gt=null===(A=v.redirectUser)||void 0===A?void 0:A._redirectEventId,Yt=le?._redirectEventId,an=yield v.tryRedirectSignIn(g);(!gt||gt===Yt)&&an?.user&&(le=an.user,He=!0)}if(!le)return v.directlySetCurrentUser(null);if(!le._redirectEventId){if(He)try{yield v.beforeStateQueue.runMiddleware(le)}catch(gt){le=Y,v._popupRedirectResolver._overrideRedirectResult(v,()=>Promise.reject(gt))}return le?v.reloadAndSetCurrentUserOrClear(le):v.directlySetCurrentUser(null)}return Be(v._popupRedirectResolver,v,"argument-error"),yield v.getOrInitRedirectPersistenceManager(),v.redirectUser&&v.redirectUser._redirectEventId===le._redirectEventId?v.directlySetCurrentUser(le):v.reloadAndSetCurrentUserOrClear(le)})()}tryRedirectSignIn(g){var v=this;return(0,_.Z)(function*(){let A=null;try{A=yield v._popupRedirectResolver._completeRedirectFn(v,g,!0)}catch{yield v._setRedirectUser(null)}return A})()}reloadAndSetCurrentUserOrClear(g){var v=this;return(0,_.Z)(function*(){try{yield Rr(g)}catch(A){if("auth/network-request-failed"!==A?.code)return v.directlySetCurrentUser(null)}return v.directlySetCurrentUser(g)})()}useDeviceLanguage(){this.languageCode=function Vn(){if(typeof navigator>"u")return null;const S=navigator;return S.languages&&S.languages[0]||S.language||null}()}_delete(){var g=this;return(0,_.Z)(function*(){g._deleted=!0})()}updateCurrentUser(g){var v=this;return(0,_.Z)(function*(){const A=g?(0,X.m9)(g):null;return A&&Be(A.auth.config.apiKey===v.config.apiKey,v,"invalid-user-token"),v._updateCurrentUser(A&&A._clone(v))})()}_updateCurrentUser(g,v=!1){var A=this;return(0,_.Z)(function*(){if(!A._deleted)return g&&Be(A.tenantId===g.tenantId,A,"tenant-id-mismatch"),v||(yield A.beforeStateQueue.runMiddleware(g)),A.queue((0,_.Z)(function*(){yield A.directlySetCurrentUser(g),A.notifyAuthListeners()}))})()}signOut(){var g=this;return(0,_.Z)(function*(){return yield g.beforeStateQueue.runMiddleware(null),(g.redirectPersistenceManager||g._popupRedirectResolver)&&(yield g._setRedirectUser(null)),g._updateCurrentUser(null,!0)})()}setPersistence(g){var v=this;return this.queue((0,_.Z)(function*(){yield v.assertedPersistence.setPersistence(yi(g))}))}initializeRecaptchaConfig(){var g=this;return(0,_.Z)(function*(){const v=yield Pt(g,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),A=new dn(v);null==g.tenantId?g._agentRecaptchaConfig=A:g._tenantRecaptchaConfigs[g.tenantId]=A,A.emailPasswordEnabled&&new Ti(g).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(g){this._errorFactory=new X.LL("auth","Firebase",g())}onAuthStateChanged(g,v,A){return this.registerStateListener(this.authStateSubscription,g,v,A)}beforeAuthStateChanged(g,v){return this.beforeStateQueue.pushCallback(g,v)}onIdTokenChanged(g,v,A){return this.registerStateListener(this.idTokenSubscription,g,v,A)}toJSON(){var g;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(g=this._currentUser)||void 0===g?void 0:g.toJSON()}}_setRedirectUser(g,v){var A=this;return(0,_.Z)(function*(){const Y=yield A.getOrInitRedirectPersistenceManager(v);return null===g?Y.removeCurrentUser():Y.setCurrentUser(g)})()}getOrInitRedirectPersistenceManager(g){var v=this;return(0,_.Z)(function*(){if(!v.redirectPersistenceManager){const A=g&&yi(g)||v._popupRedirectResolver;Be(A,v,"argument-error"),v.redirectPersistenceManager=yield Ce.create(v,[yi(A._redirectPersistence)],"redirectUser"),v.redirectUser=yield v.redirectPersistenceManager.getCurrentUser()}return v.redirectPersistenceManager})()}_redirectUserForId(g){var v=this;return(0,_.Z)(function*(){var A,Y;return v._isInitialized&&(yield v.queue((0,_.Z)(function*(){}))),(null===(A=v._currentUser)||void 0===A?void 0:A._redirectEventId)===g?v._currentUser:(null===(Y=v.redirectUser)||void 0===Y?void 0:Y._redirectEventId)===g?v.redirectUser:null})()}_persistUserIfCurrent(g){var v=this;return(0,_.Z)(function*(){if(g===v.currentUser)return v.queue((0,_.Z)(function*(){return v.directlySetCurrentUser(g)}))})()}_notifyListenersIfCurrent(g){g===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var g,v;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const A=null!==(v=null===(g=this.currentUser)||void 0===g?void 0:g.uid)&&void 0!==v?v:null;this.lastNotifiedUid!==A&&(this.lastNotifiedUid=A,this.authStateSubscription.next(this.currentUser))}registerStateListener(g,v,A,Y){if(this._deleted)return()=>{};const le="function"==typeof v?v:v.next.bind(v),He=this._isInitialized?Promise.resolve():this._initializationPromise;return Be(He,this,"internal-error"),He.then(()=>le(this.currentUser)),"function"==typeof v?g.addObserver(v,A,Y):g.addObserver(v)}directlySetCurrentUser(g){var v=this;return(0,_.Z)(function*(){v.currentUser&&v.currentUser!==g&&v._currentUser._stopProactiveRefresh(),g&&v.isProactiveRefreshEnabled&&g._startProactiveRefresh(),v.currentUser=g,g?yield v.assertedPersistence.setCurrentUser(g):yield v.assertedPersistence.removeCurrentUser()})()}queue(g){return this.operations=this.operations.then(g,g),this.operations}get assertedPersistence(){return Be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(g){!g||this.frameworks.includes(g)||(this.frameworks.push(g),this.frameworks.sort(),this.clientVersion=Oi(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var g=this;return(0,_.Z)(function*(){var v;const A={"X-Client-Version":g.clientVersion};g.app.options.appId&&(A["X-Firebase-gmpid"]=g.app.options.appId);const Y=yield null===(v=g.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===v?void 0:v.getHeartbeatsHeader();Y&&(A["X-Firebase-Client"]=Y);const le=yield g._getAppCheckToken();return le&&(A["X-Firebase-AppCheck"]=le),A})()}_getAppCheckToken(){var g=this;return(0,_.Z)(function*(){var v;const A=yield null===(v=g.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===v?void 0:v.getToken();return A?.error&&function Tt(S,...g){wt.logLevel<=be.in.WARN&&wt.warn(`Auth (${$.SDK_VERSION}): ${S}`,...g)}(`Error while retrieving App Check token: ${A.error}`),A?.token})()}}function Dr(S){return(0,X.m9)(S)}class Fi{constructor(g){this.auth=g,this.observer=null,this.addObserver=(0,X.ne)(v=>this.observer=v)}get next(){return Be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Qr(S,g,v){const A=Dr(S);Be(A._canInitEmulator,A,"emulator-config-failed"),Be(/^https?:\/\//.test(g),A,"invalid-emulator-scheme");const Y=!!v?.disableWarnings,le=$e(g),{host:He,port:gt}=function xe(S){const g=$e(S),v=/(\/\/)?([^?#/]+)/.exec(S.substr(g.length));if(!v)return{host:"",port:null};const A=v[2].split("@").pop()||"",Y=/^(\[[^\]]+\])(:|$)/.exec(A);if(Y){const le=Y[1];return{host:le,port:Pe(A.substr(le.length+1))}}{const[le,He]=A.split(":");return{host:le,port:Pe(He)}}}(g);A.config.emulator={url:`${le}//${He}${null===gt?"":`:${gt}`}/`},A.settings.appVerificationDisabledForTesting=!0,A.emulatorConfig=Object.freeze({host:He,port:gt,protocol:le.replace(":",""),options:Object.freeze({disableWarnings:Y})}),Y||function ft(){function S(){const g=document.createElement("p"),v=g.style;g.innerText="Running in emulator mode. Do not use with production credentials.",v.position="fixed",v.width="100%",v.backgroundColor="#ffffff",v.border=".1em solid #000000",v.color="#b50000",v.bottom="0px",v.left="0px",v.margin="0px",v.zIndex="10000",v.textAlign="center",g.classList.add("firebase-emulator-warning"),document.body.appendChild(g)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",S):S())}()}function $e(S){const g=S.indexOf(":");return g<0?"":S.substr(0,g+1)}function Pe(S){if(!S)return null;const g=Number(S);return isNaN(g)?null:g}class Nt{constructor(g,v){this.providerId=g,this.signInMethod=v}toJSON(){return re("not implemented")}_getIdTokenResponse(g){return re("not implemented")}_linkToIdToken(g,v){return re("not implemented")}_getReauthenticationResolver(g){return re("not implemented")}}function An(S,g){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,_.Z)(function*(S,g){return Xe(S,"POST","/v1/accounts:resetPassword",Me(S,g))})).apply(this,arguments)}function wn(S,g){return hr.apply(this,arguments)}function hr(){return(hr=(0,_.Z)(function*(S,g){return Xe(S,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Vi(){return(Vi=(0,_.Z)(function*(S,g){return Xe(S,"POST","/v1/accounts:update",Me(S,g))})).apply(this,arguments)}function vi(S,g){return Ki.apply(this,arguments)}function Ki(){return(Ki=(0,_.Z)(function*(S,g){return vn(S,"POST","/v1/accounts:signInWithPassword",Me(S,g))})).apply(this,arguments)}function ti(S,g){return os.apply(this,arguments)}function os(){return(os=(0,_.Z)(function*(S,g){return Xe(S,"POST","/v1/accounts:sendOobCode",Me(S,g))})).apply(this,arguments)}function Ps(){return(Ps=(0,_.Z)(function*(S,g){return ti(S,g)})).apply(this,arguments)}function Tr(S,g){return ur.apply(this,arguments)}function ur(){return(ur=(0,_.Z)(function*(S,g){return ti(S,g)})).apply(this,arguments)}function zn(S,g){return ii.apply(this,arguments)}function ii(){return(ii=(0,_.Z)(function*(S,g){return ti(S,g)})).apply(this,arguments)}function Ji(){return(Ji=(0,_.Z)(function*(S,g){return ti(S,g)})).apply(this,arguments)}function Ts(){return(Ts=(0,_.Z)(function*(S,g){return vn(S,"POST","/v1/accounts:signInWithEmailLink",Me(S,g))})).apply(this,arguments)}function Lr(){return(Lr=(0,_.Z)(function*(S,g){return vn(S,"POST","/v1/accounts:signInWithEmailLink",Me(S,g))})).apply(this,arguments)}class $n extends Nt{constructor(g,v,A,Y=null){super("password",A),this._email=g,this._password=v,this._tenantId=Y}static _fromEmailAndPassword(g,v){return new $n(g,v,"password")}static _fromEmailAndCode(g,v,A=null){return new $n(g,v,"emailLink",A)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(g){const v="string"==typeof g?JSON.parse(g):g;if(v?.email&&v?.password){if("password"===v.signInMethod)return this._fromEmailAndPassword(v.email,v.password);if("emailLink"===v.signInMethod)return this._fromEmailAndCode(v.email,v.password,v.tenantId)}return null}_getIdTokenResponse(g){var v=this;return(0,_.Z)(function*(){var A;switch(v.signInMethod){case"password":const Y={returnSecureToken:!0,email:v._email,password:v._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(A=g._getRecaptchaConfig())&&void 0!==A&&A.emailPasswordEnabled){const le=yield _i(g,Y,"signInWithPassword");return vi(g,le)}return vi(g,Y).catch(function(){var le=(0,_.Z)(function*(He){if("auth/missing-recaptcha-token"===He.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const gt=yield _i(g,Y,"signInWithPassword");return vi(g,gt)}return Promise.reject(He)});return function(He){return le.apply(this,arguments)}}());case"emailLink":return function _s(S,g){return Ts.apply(this,arguments)}(g,{email:v._email,oobCode:v._password});default:Ge(g,"internal-error")}})()}_linkToIdToken(g,v){var A=this;return(0,_.Z)(function*(){switch(A.signInMethod){case"password":return wn(g,{idToken:v,returnSecureToken:!0,email:A._email,password:A._password});case"emailLink":return function Do(S,g){return Lr.apply(this,arguments)}(g,{idToken:v,email:A._email,oobCode:A._password});default:Ge(g,"internal-error")}})()}_getReauthenticationResolver(g){return this._getIdTokenResponse(g)}}function Si(S,g){return no.apply(this,arguments)}function no(){return(no=(0,_.Z)(function*(S,g){return vn(S,"POST","/v1/accounts:signInWithIdp",Me(S,g))})).apply(this,arguments)}class Ei extends Nt{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(g){const v=new Ei(g.providerId,g.signInMethod);return g.idToken||g.accessToken?(g.idToken&&(v.idToken=g.idToken),g.accessToken&&(v.accessToken=g.accessToken),g.nonce&&!g.pendingToken&&(v.nonce=g.nonce),g.pendingToken&&(v.pendingToken=g.pendingToken)):g.oauthToken&&g.oauthTokenSecret?(v.accessToken=g.oauthToken,v.secret=g.oauthTokenSecret):Ge("argument-error"),v}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(g){const v="string"==typeof g?JSON.parse(g):g,{providerId:A,signInMethod:Y}=v,le=(0,Re._T)(v,["providerId","signInMethod"]);if(!A||!Y)return null;const He=new Ei(A,Y);return He.idToken=le.idToken||void 0,He.accessToken=le.accessToken||void 0,He.secret=le.secret,He.nonce=le.nonce,He.pendingToken=le.pendingToken||null,He}_getIdTokenResponse(g){return Si(g,this.buildRequest())}_linkToIdToken(g,v){const A=this.buildRequest();return A.idToken=v,Si(g,A)}_getReauthenticationResolver(g){const v=this.buildRequest();return v.autoCreate=!1,Si(g,v)}buildRequest(){const g={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)g.pendingToken=this.pendingToken;else{const v={};this.idToken&&(v.id_token=this.idToken),this.accessToken&&(v.access_token=this.accessToken),this.secret&&(v.oauth_token_secret=this.secret),v.providerId=this.providerId,this.nonce&&!this.pendingToken&&(v.nonce=this.nonce),g.postBody=(0,X.xO)(v)}return g}}function Ws(){return(Ws=(0,_.Z)(function*(S,g){return Xe(S,"POST","/v1/accounts:sendVerificationCode",Me(S,g))})).apply(this,arguments)}function ta(){return(ta=(0,_.Z)(function*(S,g){return vn(S,"POST","/v1/accounts:signInWithPhoneNumber",Me(S,g))})).apply(this,arguments)}function qs(){return(qs=(0,_.Z)(function*(S,g){const v=yield vn(S,"POST","/v1/accounts:signInWithPhoneNumber",Me(S,g));if(v.temporaryProof)throw xn(S,"account-exists-with-different-credential",v);return v})).apply(this,arguments)}const $i={USER_NOT_FOUND:"user-not-found"};function jo(){return(jo=(0,_.Z)(function*(S,g){return vn(S,"POST","/v1/accounts:signInWithPhoneNumber",Me(S,Object.assign(Object.assign({},g),{operation:"REAUTH"})),$i)})).apply(this,arguments)}class Ss extends Nt{constructor(g){super("phone","phone"),this.params=g}static _fromVerification(g,v){return new Ss({verificationId:g,verificationCode:v})}static _fromTokenResponse(g,v){return new Ss({phoneNumber:g,temporaryProof:v})}_getIdTokenResponse(g){return function Ks(S,g){return ta.apply(this,arguments)}(g,this._makeVerificationRequest())}_linkToIdToken(g,v){return function ro(S,g){return qs.apply(this,arguments)}(g,Object.assign({idToken:v},this._makeVerificationRequest()))}_getReauthenticationResolver(g){return function To(S,g){return jo.apply(this,arguments)}(g,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:g,phoneNumber:v,verificationId:A,verificationCode:Y}=this.params;return g&&v?{temporaryProof:g,phoneNumber:v}:{sessionInfo:A,code:Y}}toJSON(){const g={providerId:this.providerId};return this.params.phoneNumber&&(g.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(g.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(g.verificationCode=this.params.verificationCode),this.params.verificationId&&(g.verificationId=this.params.verificationId),g}static fromJSON(g){"string"==typeof g&&(g=JSON.parse(g));const{verificationId:v,verificationCode:A,phoneNumber:Y,temporaryProof:le}=g;return A||v||Y||le?new Ss({verificationId:v,verificationCode:A,phoneNumber:Y,temporaryProof:le}):null}}class Ns{constructor(g){var v,A,Y,le,He,gt;const Yt=(0,X.zd)((0,X.pd)(g)),an=null!==(v=Yt.apiKey)&&void 0!==v?v:null,Hn=null!==(A=Yt.oobCode)&&void 0!==A?A:null,yr=function Xr(S){switch(S){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(Y=Yt.mode)&&void 0!==Y?Y:null);Be(an&&Hn&&yr,"argument-error"),this.apiKey=an,this.operation=yr,this.code=Hn,this.continueUrl=null!==(le=Yt.continueUrl)&&void 0!==le?le:null,this.languageCode=null!==(He=Yt.languageCode)&&void 0!==He?He:null,this.tenantId=null!==(gt=Yt.tenantId)&&void 0!==gt?gt:null}static parseLink(g){const v=function So(S){const g=(0,X.zd)((0,X.pd)(S)).link,v=g?(0,X.zd)((0,X.pd)(g)).deep_link_id:null,A=(0,X.zd)((0,X.pd)(S)).deep_link_id;return(A?(0,X.zd)((0,X.pd)(A)).link:null)||A||v||g||S}(g);try{return new Ns(v)}catch{return null}}}let z=(()=>{class S{constructor(){this.providerId=S.PROVIDER_ID}static credential(v,A){return $n._fromEmailAndPassword(v,A)}static credentialWithLink(v,A){const Y=Ns.parseLink(A);return Be(Y,"argument-error"),$n._fromEmailAndCode(v,Y.code,Y.tenantId)}}return S.PROVIDER_ID="password",S.EMAIL_PASSWORD_SIGN_IN_METHOD="password",S.EMAIL_LINK_SIGN_IN_METHOD="emailLink",S})();class we{constructor(g){this.providerId=g,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(g){this.defaultLanguageCode=g}setCustomParameters(g){return this.customParameters=g,this}getCustomParameters(){return this.customParameters}}class Te extends we{constructor(){super(...arguments),this.scopes=[]}addScope(g){return this.scopes.includes(g)||this.scopes.push(g),this}getScopes(){return[...this.scopes]}}class We extends Te{static credentialFromJSON(g){const v="string"==typeof g?JSON.parse(g):g;return Be("providerId"in v&&"signInMethod"in v,"argument-error"),Ei._fromParams(v)}credential(g){return this._credential(Object.assign(Object.assign({},g),{nonce:g.rawNonce}))}_credential(g){return Be(g.idToken||g.accessToken,"argument-error"),Ei._fromParams(Object.assign(Object.assign({},g),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(g){return We.oauthCredentialFromTaggedObject(g)}static credentialFromError(g){return We.oauthCredentialFromTaggedObject(g.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:v,oauthAccessToken:A,oauthTokenSecret:Y,pendingToken:le,nonce:He,providerId:gt}=g;if(!A&&!Y&&!v&&!le||!gt)return null;try{return new We(gt)._credential({idToken:v,accessToken:A,nonce:He,pendingToken:le})}catch{return null}}}let _t=(()=>{class S extends Te{constructor(){super("facebook.com")}static credential(v){return Ei._fromParams({providerId:S.PROVIDER_ID,signInMethod:S.FACEBOOK_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return S.credentialFromTaggedObject(v)}static credentialFromError(v){return S.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return S.credential(v.oauthAccessToken)}catch{return null}}}return S.FACEBOOK_SIGN_IN_METHOD="facebook.com",S.PROVIDER_ID="facebook.com",S})(),$t=(()=>{class S extends Te{constructor(){super("google.com"),this.addScope("profile")}static credential(v,A){return Ei._fromParams({providerId:S.PROVIDER_ID,signInMethod:S.GOOGLE_SIGN_IN_METHOD,idToken:v,accessToken:A})}static credentialFromResult(v){return S.credentialFromTaggedObject(v)}static credentialFromError(v){return S.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthIdToken:A,oauthAccessToken:Y}=v;if(!A&&!Y)return null;try{return S.credential(A,Y)}catch{return null}}}return S.GOOGLE_SIGN_IN_METHOD="google.com",S.PROVIDER_ID="google.com",S})(),tn=(()=>{class S extends Te{constructor(){super("github.com")}static credential(v){return Ei._fromParams({providerId:S.PROVIDER_ID,signInMethod:S.GITHUB_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return S.credentialFromTaggedObject(v)}static credentialFromError(v){return S.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return S.credential(v.oauthAccessToken)}catch{return null}}}return S.GITHUB_SIGN_IN_METHOD="github.com",S.PROVIDER_ID="github.com",S})();class Sn extends Nt{constructor(g,v){super(g,g),this.pendingToken=v}_getIdTokenResponse(g){return Si(g,this.buildRequest())}_linkToIdToken(g,v){const A=this.buildRequest();return A.idToken=v,Si(g,A)}_getReauthenticationResolver(g){const v=this.buildRequest();return v.autoCreate=!1,Si(g,v)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(g){const v="string"==typeof g?JSON.parse(g):g,{providerId:A,signInMethod:Y,pendingToken:le}=v;return A&&Y&&le&&A===Y?new Sn(A,le):null}static _create(g,v){return new Sn(g,v)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class fi extends we{constructor(g){Be(g.startsWith("saml."),"argument-error"),super(g)}static credentialFromResult(g){return fi.samlCredentialFromTaggedObject(g)}static credentialFromError(g){return fi.samlCredentialFromTaggedObject(g.customData||{})}static credentialFromJSON(g){const v=Sn.fromJSON(g);return Be(v,"argument-error"),v}static samlCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{pendingToken:v,providerId:A}=g;if(!v||!A)return null;try{return Sn._create(A,v)}catch{return null}}}let zr=(()=>{class S extends Te{constructor(){super("twitter.com")}static credential(v,A){return Ei._fromParams({providerId:S.PROVIDER_ID,signInMethod:S.TWITTER_SIGN_IN_METHOD,oauthToken:v,oauthTokenSecret:A})}static credentialFromResult(v){return S.credentialFromTaggedObject(v)}static credentialFromError(v){return S.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthAccessToken:A,oauthTokenSecret:Y}=v;if(!A||!Y)return null;try{return S.credential(A,Y)}catch{return null}}}return S.TWITTER_SIGN_IN_METHOD="twitter.com",S.PROVIDER_ID="twitter.com",S})();function pi(S,g){return si.apply(this,arguments)}function si(){return(si=(0,_.Z)(function*(S,g){return vn(S,"POST","/v1/accounts:signUp",Me(S,g))})).apply(this,arguments)}class Sr{constructor(g){this.user=g.user,this.providerId=g.providerId,this._tokenResponse=g._tokenResponse,this.operationType=g.operationType}static _fromIdTokenResponse(g,v,A,Y=!1){return(0,_.Z)(function*(){const le=yield ni._fromIdTokenResponse(g,A,Y),He=wi(A);return new Sr({user:le,providerId:He,_tokenResponse:A,operationType:v})})()}static _forOperation(g,v,A){return(0,_.Z)(function*(){yield g._updateTokensIfNecessary(A,!0);const Y=wi(A);return new Sr({user:g,providerId:Y,_tokenResponse:A,operationType:v})})()}}function wi(S){return S.providerId?S.providerId:"phoneNumber"in S?"phone":null}function Ni(S){return Wr.apply(this,arguments)}function Wr(){return(Wr=(0,_.Z)(function*(S){var g;const v=Dr(S);if(yield v._initializationPromise,null!==(g=v.currentUser)&&void 0!==g&&g.isAnonymous)return new Sr({user:v.currentUser,providerId:null,operationType:"signIn"});const A=yield pi(v,{returnSecureToken:!0}),Y=yield Sr._fromIdTokenResponse(v,"signIn",A,!0);return yield v._updateCurrentUser(Y.user),Y})).apply(this,arguments)}class bi extends X.ZR{constructor(g,v,A,Y){var le;super(v.code,v.message),this.operationType=A,this.user=Y,Object.setPrototypeOf(this,bi.prototype),this.customData={appName:g.name,tenantId:null!==(le=g.tenantId)&&void 0!==le?le:void 0,_serverResponse:v.customData._serverResponse,operationType:A}}static _fromErrorAndOperation(g,v,A,Y){return new bi(g,v,A,Y)}}function Ii(S,g,v,A){return("reauthenticate"===g?v._getReauthenticationResolver(S):v._getIdTokenResponse(S)).catch(le=>{throw"auth/multi-factor-auth-required"===le.code?bi._fromErrorAndOperation(S,le,g,A):le})}function Ui(S){return new Set(S.map(({providerId:g})=>g).filter(g=>!!g))}function bo(S,g){return Vr.apply(this,arguments)}function Vr(){return Vr=(0,_.Z)(function*(S,g){const v=(0,X.m9)(S);yield Ao(!0,v,g);const{providerUserInfo:A}=yield function Zt(S,g){return cr.apply(this,arguments)}(v.auth,{idToken:yield v.getIdToken(),deleteProvider:[g]}),Y=Ui(A||[]);return v.providerData=v.providerData.filter(le=>Y.has(le.providerId)),Y.has("phone")||(v.phoneNumber=null),yield v.auth._persistUserIfCurrent(v),v}),Vr.apply(this,arguments)}function qi(S,g){return Yi.apply(this,arguments)}function Yi(){return(Yi=(0,_.Z)(function*(S,g,v=!1){const A=yield fn(S,g._linkToIdToken(S.auth,yield S.getIdToken()),v);return Sr._forOperation(S,"link",A)})).apply(this,arguments)}function Ao(S,g,v){return xs.apply(this,arguments)}function xs(){return(xs=(0,_.Z)(function*(S,g,v){yield Rr(g);const Y=!1===S?"provider-already-linked":"no-such-provider";Be(Ui(g.providerData).has(v)===S,g.auth,Y)})).apply(this,arguments)}function es(S,g){return ts.apply(this,arguments)}function ts(){return(ts=(0,_.Z)(function*(S,g,v=!1){const{auth:A}=S,Y="reauthenticate";try{const le=yield fn(S,Ii(A,Y,g,S),v);Be(le.idToken,A,"internal-error");const He=dr(le.idToken);Be(He,A,"internal-error");const{sub:gt}=He;return Be(S.uid===gt,A,"user-mismatch"),Sr._forOperation(S,Y,le)}catch(le){throw"auth/user-not-found"===le?.code&&Ge(A,"user-mismatch"),le}})).apply(this,arguments)}function vs(S,g){return qn.apply(this,arguments)}function qn(){return(qn=(0,_.Z)(function*(S,g,v=!1){const A="signIn",Y=yield Ii(S,A,g),le=yield Sr._fromIdTokenResponse(S,A,Y);return v||(yield S._updateCurrentUser(le.user)),le})).apply(this,arguments)}function Yn(S,g){return Ys.apply(this,arguments)}function Ys(){return(Ys=(0,_.Z)(function*(S,g){return vs(Dr(S),g)})).apply(this,arguments)}function Da(S,g){return tr.apply(this,arguments)}function tr(){return(tr=(0,_.Z)(function*(S,g){const v=(0,X.m9)(S);return yield Ao(!1,v,g.providerId),qi(v,g)})).apply(this,arguments)}function Ta(S,g){return na.apply(this,arguments)}function na(){return(na=(0,_.Z)(function*(S,g){return es((0,X.m9)(S),g)})).apply(this,arguments)}function el(){return(el=(0,_.Z)(function*(S,g){return vn(S,"POST","/v1/accounts:signInWithCustomToken",Me(S,g))})).apply(this,arguments)}function da(S,g){return x.apply(this,arguments)}function x(){return x=(0,_.Z)(function*(S,g){const v=Dr(S),A=yield function ra(S,g){return el.apply(this,arguments)}(v,{token:g,returnSecureToken:!0}),Y=yield Sr._fromIdTokenResponse(v,"signIn",A);return yield v._updateCurrentUser(Y.user),Y}),x.apply(this,arguments)}class U{constructor(g,v){this.factorId=g,this.uid=v.mfaEnrollmentId,this.enrollmentTime=new Date(v.enrolledAt).toUTCString(),this.displayName=v.displayName}static _fromServerResponse(g,v){return"phoneInfo"in v?L._fromServerResponse(g,v):"totpInfo"in v?ie._fromServerResponse(g,v):Ge(g,"internal-error")}}class L extends U{constructor(g){super("phone",g),this.phoneNumber=g.phoneInfo}static _fromServerResponse(g,v){return new L(v)}}class ie extends U{constructor(g){super("totp",g)}static _fromServerResponse(g,v){return new ie(v)}}function Ye(S,g,v){var A;Be((null===(A=v.url)||void 0===A?void 0:A.length)>0,S,"invalid-continue-uri"),Be(typeof v.dynamicLinkDomain>"u"||v.dynamicLinkDomain.length>0,S,"invalid-dynamic-link-domain"),g.continueUrl=v.url,g.dynamicLinkDomain=v.dynamicLinkDomain,g.canHandleCodeInApp=v.handleCodeInApp,v.iOS&&(Be(v.iOS.bundleId.length>0,S,"missing-ios-bundle-id"),g.iOSBundleId=v.iOS.bundleId),v.android&&(Be(v.android.packageName.length>0,S,"missing-android-pkg-name"),g.androidInstallApp=v.android.installApp,g.androidMinimumVersionCode=v.android.minimumVersion,g.androidPackageName=v.android.packageName)}function pn(S,g,v){return Kr.apply(this,arguments)}function Kr(){return Kr=(0,_.Z)(function*(S,g,v){var A;const Y=Dr(S),le={requestType:"PASSWORD_RESET",email:g,clientType:"CLIENT_TYPE_WEB"};if(null!==(A=Y._getRecaptchaConfig())&&void 0!==A&&A.emailPasswordEnabled){const He=yield _i(Y,le,"getOobCode",!0);v&&Ye(Y,He,v),yield Tr(Y,He)}else v&&Ye(Y,le,v),yield Tr(Y,le).catch(function(){var He=(0,_.Z)(function*(gt){if("auth/missing-recaptcha-token"!==gt.code)return Promise.reject(gt);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const Yt=yield _i(Y,le,"getOobCode",!0);v&&Ye(Y,Yt,v),yield Tr(Y,Yt)}});return function(gt){return He.apply(this,arguments)}}())}),Kr.apply(this,arguments)}function xi(S,g,v){return io.apply(this,arguments)}function io(){return(io=(0,_.Z)(function*(S,g,v){yield An((0,X.m9)(S),{oobCode:g,newPassword:v})})).apply(this,arguments)}function so(S,g){return po.apply(this,arguments)}function po(){return po=(0,_.Z)(function*(S,g){yield function Li(S,g){return Vi.apply(this,arguments)}((0,X.m9)(S),{oobCode:g})}),po.apply(this,arguments)}function bs(S,g){return Es.apply(this,arguments)}function Es(){return(Es=(0,_.Z)(function*(S,g){const v=(0,X.m9)(S),A=yield An(v,{oobCode:g}),Y=A.requestType;switch(Be(Y,v,"internal-error"),Y){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Be(A.newEmail,v,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Be(A.mfaInfo,v,"internal-error");default:Be(A.email,v,"internal-error")}let le=null;return A.mfaInfo&&(le=U._fromServerResponse(Dr(v),A.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===A.requestType?A.newEmail:A.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===A.requestType?A.email:A.newEmail)||null,multiFactorInfo:le},operation:Y}})).apply(this,arguments)}function ws(S,g){return as.apply(this,arguments)}function as(){return(as=(0,_.Z)(function*(S,g){const{data:v}=yield bs((0,X.m9)(S),g);return v.email})).apply(this,arguments)}function ia(S,g,v){return Ro.apply(this,arguments)}function Ro(){return Ro=(0,_.Z)(function*(S,g,v){var A;const Y=Dr(S),le={returnSecureToken:!0,email:g,password:v,clientType:"CLIENT_TYPE_WEB"};let He;if(null!==(A=Y._getRecaptchaConfig())&&void 0!==A&&A.emailPasswordEnabled){const an=yield _i(Y,le,"signUpPassword");He=pi(Y,an)}else He=pi(Y,le).catch(function(){var an=(0,_.Z)(function*(Hn){if("auth/missing-recaptcha-token"===Hn.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const yr=yield _i(Y,le,"signUpPassword");return pi(Y,yr)}return Promise.reject(Hn)});return function(Hn){return an.apply(this,arguments)}}());const gt=yield He.catch(an=>Promise.reject(an)),Yt=yield Sr._fromIdTokenResponse(Y,"signIn",gt);return yield Y._updateCurrentUser(Yt.user),Yt}),Ro.apply(this,arguments)}function As(S,g,v){return Yn((0,X.m9)(S),z.credential(g,v))}function Nl(S,g,v){return Mo.apply(this,arguments)}function Mo(){return Mo=(0,_.Z)(function*(S,g,v){var A;const Y=Dr(S),le={requestType:"EMAIL_SIGNIN",email:g,clientType:"CLIENT_TYPE_WEB"};function He(gt,Yt){Be(Yt.handleCodeInApp,Y,"argument-error"),Yt&&Ye(Y,gt,Yt)}if(null!==(A=Y._getRecaptchaConfig())&&void 0!==A&&A.emailPasswordEnabled){const gt=yield _i(Y,le,"getOobCode",!0);He(gt,v),yield zn(Y,gt)}else He(le,v),yield zn(Y,le).catch(function(){var gt=(0,_.Z)(function*(Yt){if("auth/missing-recaptcha-token"!==Yt.code)return Promise.reject(Yt);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const an=yield _i(Y,le,"getOobCode",!0);He(an,v),yield zn(Y,an)}});return function(Yt){return gt.apply(this,arguments)}}())}),Mo.apply(this,arguments)}function sa(S,g){return"EMAIL_SIGNIN"===Ns.parseLink(g)?.operation}function ml(S,g,v){return ji.apply(this,arguments)}function ji(){return(ji=(0,_.Z)(function*(S,g,v){const A=(0,X.m9)(S),Y=z.credentialWithLink(g,v||Gt());return Be(Y._tenantId===(A.tenantId||null),A,"tenant-id-mismatch"),Yn(A,Y)})).apply(this,arguments)}function ha(){return(ha=(0,_.Z)(function*(S,g){return Xe(S,"POST","/v1/accounts:createAuthUri",Me(S,g))})).apply(this,arguments)}function tl(S,g){return go.apply(this,arguments)}function go(){return go=(0,_.Z)(function*(S,g){const A={identifier:g,continueUri:Rn()?Gt():"http://localhost"},{signinMethods:Y}=yield function Sa(S,g){return ha.apply(this,arguments)}((0,X.m9)(S),A);return Y||[]}),go.apply(this,arguments)}function La(S,g){return ba.apply(this,arguments)}function ba(){return ba=(0,_.Z)(function*(S,g){const v=(0,X.m9)(S),Y={requestType:"VERIFY_EMAIL",idToken:yield S.getIdToken()};g&&Ye(v.auth,Y,g);const{email:le}=yield function Co(S,g){return Ps.apply(this,arguments)}(v.auth,Y);le!==S.email&&(yield S.reload())}),ba.apply(this,arguments)}function Bs(S,g,v){return fa.apply(this,arguments)}function fa(){return fa=(0,_.Z)(function*(S,g,v){const A=(0,X.m9)(S),le={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield S.getIdToken(),newEmail:g};v&&Ye(A.auth,le,v);const{email:He}=yield function Gr(S,g){return Ji.apply(this,arguments)}(A.auth,le);He!==S.email&&(yield S.reload())}),fa.apply(this,arguments)}function rs(){return(rs=(0,_.Z)(function*(S,g){return Xe(S,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Aa(S,g){return oa.apply(this,arguments)}function oa(){return oa=(0,_.Z)(function*(S,{displayName:g,photoURL:v}){if(void 0===g&&void 0===v)return;const A=(0,X.m9)(S),le={idToken:yield A.getIdToken(),displayName:g,photoUrl:v,returnSecureToken:!0},He=yield fn(A,function pa(S,g){return rs.apply(this,arguments)}(A.auth,le));A.displayName=He.displayName||null,A.photoURL=He.photoUrl||null;const gt=A.providerData.find(({providerId:Yt})=>"password"===Yt);gt&&(gt.displayName=A.displayName,gt.photoURL=A.photoURL),yield A._updateTokensIfNecessary(He)}),oa.apply(this,arguments)}function Os(S,g){return Ai((0,X.m9)(S),g,null)}function Zi(S,g){return Ai((0,X.m9)(S),null,g)}function Ai(S,g,v){return gi.apply(this,arguments)}function gi(){return(gi=(0,_.Z)(function*(S,g,v){const{auth:A}=S,le={idToken:yield S.getIdToken(),returnSecureToken:!0};g&&(le.email=g),v&&(le.password=v);const He=yield fn(S,wn(A,le));yield S._updateTokensIfNecessary(He,!0)})).apply(this,arguments)}class Ho{constructor(g,v,A={}){this.isNewUser=g,this.providerId=v,this.profile=A}}class Va extends Ho{constructor(g,v,A,Y){super(g,v,A),this.username=Y}}class aa extends Ho{constructor(g,v){super(g,"facebook.com",v)}}class Ua extends Va{constructor(g,v){super(g,"github.com",v,"string"==typeof v?.login?v?.login:null)}}class Ba extends Ho{constructor(g,v){super(g,"google.com",v)}}class Po extends Va{constructor(g,v,A){super(g,"twitter.com",v,A)}}function ga(S){const{user:g,_tokenResponse:v}=S;return g.isAnonymous&&!v?{providerId:null,isNewUser:!1,profile:null}:function oi(S){var g,v;if(!S)return null;const{providerId:A}=S,Y=S.rawUserInfo?JSON.parse(S.rawUserInfo):{},le=S.isNewUser||"identitytoolkit#SignupNewUserResponse"===S.kind;if(!A&&S?.idToken){const He=null===(v=null===(g=dr(S.idToken))||void 0===g?void 0:g.firebase)||void 0===v?void 0:v.sign_in_provider;if(He)return new Ho(le,"anonymous"!==He&&"custom"!==He?He:null)}if(!A)return null;switch(A){case"facebook.com":return new aa(le,Y);case"github.com":return new Ua(le,Y);case"google.com":return new Ba(le,Y);case"twitter.com":return new Po(le,Y,S.screenName||null);case"custom":case"anonymous":return new Ho(le,null);default:return new Ho(le,A,Y)}}(v)}class Jr{constructor(g,v,A){this.type=g,this.credential=v,this.auth=A}static _fromIdtoken(g,v){return new Jr("enroll",g,v)}static _fromMfaPendingCredential(g){return new Jr("signin",g)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(g){var v,A;if(g?.multiFactorSession){if(null!==(v=g.multiFactorSession)&&void 0!==v&&v.pendingCredential)return Jr._fromMfaPendingCredential(g.multiFactorSession.pendingCredential);if(null!==(A=g.multiFactorSession)&&void 0!==A&&A.idToken)return Jr._fromIdtoken(g.multiFactorSession.idToken)}return null}}class Nr{constructor(g,v,A){this.session=g,this.hints=v,this.signInResolver=A}static _fromError(g,v){const A=Dr(g),Y=v.customData._serverResponse,le=(Y.mfaInfo||[]).map(gt=>U._fromServerResponse(A,gt));Be(Y.mfaPendingCredential,A,"internal-error");const He=Jr._fromMfaPendingCredential(Y.mfaPendingCredential);return new Nr(He,le,function(){var gt=(0,_.Z)(function*(Yt){const an=yield Yt._process(A,He);delete Y.mfaInfo,delete Y.mfaPendingCredential;const Hn=Object.assign(Object.assign({},Y),{idToken:an.idToken,refreshToken:an.refreshToken});switch(v.operationType){case"signIn":const yr=yield Sr._fromIdTokenResponse(A,v.operationType,Hn);return yield A._updateCurrentUser(yr.user),yr;case"reauthenticate":return Be(v.user,A,"internal-error"),Sr._forOperation(v.user,v.operationType,Hn);default:Ge(A,"internal-error")}});return function(Yt){return gt.apply(this,arguments)}}())}resolveSignIn(g){var v=this;return(0,_.Z)(function*(){return v.signInResolver(g)})()}}function vr(S,g){var v;const A=(0,X.m9)(S),Y=g;return Be(g.customData.operationType,A,"argument-error"),Be(null===(v=Y.customData._serverResponse)||void 0===v?void 0:v.mfaPendingCredential,A,"argument-error"),Nr._fromError(A,Y)}class ma{constructor(g){this.user=g,this.enrolledFactors=[],g._onReload(v=>{v.mfaInfo&&(this.enrolledFactors=v.mfaInfo.map(A=>U._fromServerResponse(g.auth,A)))})}static _fromUser(g){return new ma(g)}getSession(){var g=this;return(0,_.Z)(function*(){return Jr._fromIdtoken(yield g.user.getIdToken(),g.user.auth)})()}enroll(g,v){var A=this;return(0,_.Z)(function*(){const Y=g,le=yield A.getSession(),He=yield fn(A.user,Y._process(A.user.auth,le,v));return yield A.user._updateTokensIfNecessary(He),A.user.reload()})()}unenroll(g){var v=this;return(0,_.Z)(function*(){const A="string"==typeof g?g:g.uid,Y=yield v.user.getIdToken();try{const le=yield fn(v.user,function mo(S,g){return Xe(S,"POST","/v2/accounts/mfaEnrollment:withdraw",Me(S,g))}(v.user.auth,{idToken:Y,mfaEnrollmentId:A}));v.enrolledFactors=v.enrolledFactors.filter(({uid:He})=>He!==A),yield v.user._updateTokensIfNecessary(le),yield v.user.reload()}catch(le){throw le}})()}}const ks=new WeakMap;function oo(S){const g=(0,X.m9)(S);return ks.has(g)||ks.set(g,ma._fromUser(g)),ks.get(g)}const ao="__sak";class ai{constructor(g,v){this.storageRetriever=g,this.type=v}_isAvailable(){try{return this.storage?(this.storage.setItem(ao,"1"),this.storage.removeItem(ao),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(g,v){return this.storage.setItem(g,JSON.stringify(v)),Promise.resolve()}_get(g){const v=this.storage.getItem(g);return Promise.resolve(v?JSON.parse(v):null)}_remove(g){return this.storage.removeItem(g),Promise.resolve()}get storage(){return this.storageRetriever()}}const Lt=(()=>{class S extends ai{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(v,A)=>this.onStorageEvent(v,A),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function ya(){const S=(0,X.z$)();return ue(S)||Ne(S)}()&&function Pr(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=En(),this._shouldAllowMigration=!0}forAllChangedKeys(v){for(const A of Object.keys(this.listeners)){const Y=this.storage.getItem(A),le=this.localCache[A];Y!==le&&v(A,le,Y)}}onStorageEvent(v,A=!1){if(!v.key)return void this.forAllChangedKeys((gt,Yt,an)=>{this.notifyListeners(gt,an)});const Y=v.key;if(A?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const gt=this.storage.getItem(Y);if(v.newValue!==gt)null!==v.newValue?this.storage.setItem(Y,v.newValue):this.storage.removeItem(Y);else if(this.localCache[Y]===v.newValue&&!A)return}const le=()=>{const gt=this.storage.getItem(Y);!A&&this.localCache[Y]===gt||this.notifyListeners(Y,gt)},He=this.storage.getItem(Y);!function un(){return(0,X.w1)()&&10===document.documentMode}()||He===v.newValue||v.newValue===v.oldValue?le():setTimeout(le,10)}notifyListeners(v,A){this.localCache[v]=A;const Y=this.listeners[v];if(Y)for(const le of Array.from(Y))le(A&&JSON.parse(A))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((v,A,Y)=>{this.onStorageEvent(new StorageEvent("storage",{key:v,oldValue:A,newValue:Y}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(v,A){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[v]||(this.listeners[v]=new Set,this.localCache[v]=this.storage.getItem(v)),this.listeners[v].add(A)}_removeListener(v,A){this.listeners[v]&&(this.listeners[v].delete(A),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(v,A){var Y=()=>super._set,le=this;return(0,_.Z)(function*(){yield Y().call(le,v,A),le.localCache[v]=JSON.stringify(A)})()}_get(v){var A=()=>super._get,Y=this;return(0,_.Z)(function*(){const le=yield A().call(Y,v);return Y.localCache[v]=JSON.stringify(le),le})()}_remove(v){var A=()=>super._remove,Y=this;return(0,_.Z)(function*(){yield A().call(Y,v),delete Y.localCache[v]})()}}return S.type="LOCAL",S})(),us=(()=>{class S extends ai{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(v,A){}_removeListener(v,A){}}return S.type="SESSION",S})();let yn=(()=>{class S{constructor(v){this.eventTarget=v,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(v){const A=this.receivers.find(le=>le.isListeningto(v));if(A)return A;const Y=new S(v);return this.receivers.push(Y),Y}isListeningto(v){return this.eventTarget===v}handleEvent(v){var A=this;return(0,_.Z)(function*(){const Y=v,{eventId:le,eventType:He,data:gt}=Y.data,Yt=A.handlersMap[He];if(!Yt?.size)return;Y.ports[0].postMessage({status:"ack",eventId:le,eventType:He});const an=Array.from(Yt).map(function(){var yr=(0,_.Z)(function*(Lo){return Lo(Y.origin,gt)});return function(Lo){return yr.apply(this,arguments)}}()),Hn=yield function Ou(S){return Promise.all(S.map(function(){var g=(0,_.Z)(function*(v){try{return{fulfilled:!0,value:yield v}}catch(A){return{fulfilled:!1,reason:A}}});return function(v){return g.apply(this,arguments)}}()))}(an);Y.ports[0].postMessage({status:"done",eventId:le,eventType:He,response:Hn})})()}_subscribe(v,A){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[v]||(this.handlersMap[v]=new Set),this.handlersMap[v].add(A)}_unsubscribe(v,A){this.handlersMap[v]&&A&&this.handlersMap[v].delete(A),(!A||0===this.handlersMap[v].size)&&delete this.handlersMap[v],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return S.receivers=[],S})();function Cn(S="",g=10){let v="";for(let A=0;A<g;A++)v+=Math.floor(10*Math.random());return S+v}class sc{constructor(g){this.target=g,this.handlers=new Set}removeMessageHandler(g){g.messageChannel&&(g.messageChannel.port1.removeEventListener("message",g.onMessage),g.messageChannel.port1.close()),this.handlers.delete(g)}_send(g,v,A=50){var Y=this;return(0,_.Z)(function*(){const le=typeof MessageChannel<"u"?new MessageChannel:null;if(!le)throw new Error("connection_unavailable");let He,gt;return new Promise((Yt,an)=>{const Hn=Cn("",20);le.port1.start();const yr=setTimeout(()=>{an(new Error("unsupported_event"))},A);gt={messageChannel:le,onMessage(Lo){const Wa=Lo;if(Wa.data.eventId===Hn)switch(Wa.data.status){case"ack":clearTimeout(yr),He=setTimeout(()=>{an(new Error("timeout"))},3e3);break;case"done":clearTimeout(He),Yt(Wa.data.response);break;default:clearTimeout(yr),clearTimeout(He),an(new Error("invalid_response"))}}},Y.handlers.add(gt),le.port1.addEventListener("message",gt.onMessage),Y.target.postMessage({eventType:g,eventId:Hn,data:v},[le.port2])}).finally(()=>{gt&&Y.removeMessageHandler(gt)})})()}}function Bt(){return window}function kt(){return typeof Bt().WorkerGlobalScope<"u"&&"function"==typeof Bt().importScripts}function $a(){return($a=(0,_.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Is="firebaseLocalStorageDb",yl=1,qr="firebaseLocalStorage",hu="fbase_key";class _a{constructor(g){this.request=g}toPromise(){return new Promise((g,v)=>{this.request.addEventListener("success",()=>{g(this.request.result)}),this.request.addEventListener("error",()=>{v(this.request.error)})})}}function Ol(S,g){return S.transaction([qr],g?"readwrite":"readonly").objectStore(qr)}function ja(){const S=indexedDB.open(Is,yl);return new Promise((g,v)=>{S.addEventListener("error",()=>{v(S.error)}),S.addEventListener("upgradeneeded",()=>{const A=S.result;try{A.createObjectStore(qr,{keyPath:hu})}catch(Y){v(Y)}}),S.addEventListener("success",(0,_.Z)(function*(){const A=S.result;A.objectStoreNames.contains(qr)?g(A):(A.close(),yield function nl(){const S=indexedDB.deleteDatabase(Is);return new _a(S).toPromise()}(),g(yield ja()))}))})}function nr(S,g,v){return Wo.apply(this,arguments)}function Wo(){return(Wo=(0,_.Z)(function*(S,g,v){const A=Ol(S,!0).put({[hu]:g,value:v});return new _a(A).toPromise()})).apply(this,arguments)}function Ci(){return(Ci=(0,_.Z)(function*(S,g){const v=Ol(S,!1).get(g),A=yield new _a(v).toPromise();return void 0===A?null:A.value})).apply(this,arguments)}function Mn(S,g){const v=Ol(S,!0).delete(g);return new _a(v).toPromise()}const cs=(()=>{class S{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var v=this;return(0,_.Z)(function*(){return v.db||(v.db=yield ja()),v.db})()}_withRetries(v){var A=this;return(0,_.Z)(function*(){let Y=0;for(;;)try{const le=yield A._openDb();return yield v(le)}catch(le){if(Y++>3)throw le;A.db&&(A.db.close(),A.db=void 0)}})()}initializeServiceWorkerMessaging(){var v=this;return(0,_.Z)(function*(){return kt()?v.initializeReceiver():v.initializeSender()})()}initializeReceiver(){var v=this;return(0,_.Z)(function*(){v.receiver=yn._getInstance(function Yl(){return kt()?self:null}()),v.receiver._subscribe("keyChanged",function(){var A=(0,_.Z)(function*(Y,le){return{keyProcessed:(yield v._poll()).includes(le.key)}});return function(Y,le){return A.apply(this,arguments)}}()),v.receiver._subscribe("ping",function(){var A=(0,_.Z)(function*(Y,le){return["keyChanged"]});return function(Y,le){return A.apply(this,arguments)}}())})()}initializeSender(){var v=this;return(0,_.Z)(function*(){var A,Y;if(v.activeServiceWorker=yield function ps(){return $a.apply(this,arguments)}(),!v.activeServiceWorker)return;v.sender=new sc(v.activeServiceWorker);const le=yield v.sender._send("ping",{},800);le&&null!==(A=le[0])&&void 0!==A&&A.fulfilled&&null!==(Y=le[0])&&void 0!==Y&&Y.value.includes("keyChanged")&&(v.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(v){var A=this;return(0,_.Z)(function*(){if(A.sender&&A.activeServiceWorker&&function ku(){var S;return(null===(S=navigator?.serviceWorker)||void 0===S?void 0:S.controller)||null}()===A.activeServiceWorker)try{yield A.sender._send("keyChanged",{key:v},A.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,_.Z)(function*(){try{if(!indexedDB)return!1;const v=yield ja();return yield nr(v,ao,"1"),yield Mn(v,ao),!0}catch{}return!1})()}_withPendingWrite(v){var A=this;return(0,_.Z)(function*(){A.pendingWrites++;try{yield v()}finally{A.pendingWrites--}})()}_set(v,A){var Y=this;return(0,_.Z)(function*(){return Y._withPendingWrite((0,_.Z)(function*(){return yield Y._withRetries(le=>nr(le,v,A)),Y.localCache[v]=A,Y.notifyServiceWorker(v)}))})()}_get(v){var A=this;return(0,_.Z)(function*(){const Y=yield A._withRetries(le=>function Fu(S,g){return Ci.apply(this,arguments)}(le,v));return A.localCache[v]=Y,Y})()}_remove(v){var A=this;return(0,_.Z)(function*(){return A._withPendingWrite((0,_.Z)(function*(){return yield A._withRetries(Y=>Mn(Y,v)),delete A.localCache[v],A.notifyServiceWorker(v)}))})()}_poll(){var v=this;return(0,_.Z)(function*(){const A=yield v._withRetries(He=>{const gt=Ol(He,!1).getAll();return new _a(gt).toPromise()});if(!A)return[];if(0!==v.pendingWrites)return[];const Y=[],le=new Set;for(const{fbase_key:He,value:gt}of A)le.add(He),JSON.stringify(v.localCache[He])!==JSON.stringify(gt)&&(v.notifyListeners(He,gt),Y.push(He));for(const He of Object.keys(v.localCache))v.localCache[He]&&!le.has(He)&&(v.notifyListeners(He,null),Y.push(He));return Y})()}notifyListeners(v,A){this.localCache[v]=A;const Y=this.listeners[v];if(Y)for(const le of Array.from(Y))le(A)}startPolling(){var v=this;this.stopPolling(),this.pollTimer=setInterval((0,_.Z)(function*(){return v._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(v,A){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[v]||(this.listeners[v]=new Set,this._get(v)),this.listeners[v].add(A)}_removeListener(v,A){this.listeners[v]&&(this.listeners[v].delete(A),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return S.type="LOCAL",S})(),_l=1e12;class Ql{constructor(g){this.auth=g,this.counter=_l,this._widgets=new Map}render(g,v){const A=this.counter;return this._widgets.set(A,new vl(g,this.auth.name,v||{})),this.counter++,A}reset(g){var v;const A=g||_l;null===(v=this._widgets.get(A))||void 0===v||v.delete(),this._widgets.delete(A)}getResponse(g){var v;return(null===(v=this._widgets.get(g||_l))||void 0===v?void 0:v.getResponse())||""}execute(g){var v=this;return(0,_.Z)(function*(){var A;return null===(A=v._widgets.get(g||_l))||void 0===A||A.execute(),""})()}}class vl{constructor(g,v,A){this.params=A,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const Y="string"==typeof g?document.getElementById(g):g;Be(Y,"argument-error",{appName:v}),this.container=Y,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function El(S){const g=[],v="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let A=0;A<S;A++)g.push(v.charAt(Math.floor(Math.random()*v.length)));return g.join("")}(50);const{callback:g,"expired-callback":v}=this.params;if(g)try{g(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,v)try{v()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const wl=Pi("rcb"),No=new on(3e4,6e4);class Ra{constructor(){var g;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(g=Bt().grecaptcha)||void 0===g||!g.render)}load(g,v=""){return Be(function rd(S){return S.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(S)}(v),g,"argument-error"),this.shouldResolveImmediately(v)&&On(Bt().grecaptcha)?Promise.resolve(Bt().grecaptcha):new Promise((A,Y)=>{const le=Bt().setTimeout(()=>{Y(ge(g,"network-request-failed"))},No.get());Bt()[wl]=()=>{Bt().clearTimeout(le),delete Bt()[wl];const gt=Bt().grecaptcha;if(!gt||!On(gt))return void Y(ge(g,"internal-error"));const Yt=gt.render;gt.render=(an,Hn)=>{const yr=Yt(an,Hn);return this.counter++,yr},this.hostLanguage=v,A(gt)},lr(`https://www.google.com/recaptcha/api.js??${(0,X.xO)({onload:wl,render:"explicit",hl:v})}`).catch(()=>{clearTimeout(le),Y(ge(g,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(g){var v;return!(null===(v=Bt().grecaptcha)||void 0===v||!v.render)&&(g===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Ea{load(g){return(0,_.Z)(function*(){return new Ql(g)})()}clearedOneInstance(){}}const ds="recaptcha",rt={theme:"light",type:"image"};class Ko{constructor(g,v=Object.assign({},rt),A){this.parameters=v,this.type=ds,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Dr(A),this.isInvisible="invisible"===this.parameters.size,Be(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const Y="string"==typeof g?document.getElementById(g):g;Be(Y,this.auth,"argument-error"),this.container=Y,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Ea:new Ra,this.validateStartingState()}verify(){var g=this;return(0,_.Z)(function*(){g.assertNotDestroyed();const v=yield g.render(),A=g.getAssertedRecaptcha();return A.getResponse(v)||new Promise(le=>{const He=gt=>{gt&&(g.tokenChangeListeners.delete(He),le(gt))};g.tokenChangeListeners.add(He),g.isInvisible&&A.execute(v)})})()}render(){try{this.assertNotDestroyed()}catch(g){return Promise.reject(g)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(g=>{throw this.renderPromise=null,g})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(g=>{this.container.removeChild(g)})}validateStartingState(){Be(!this.parameters.sitekey,this.auth,"argument-error"),Be(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Be(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(g){return v=>{if(this.tokenChangeListeners.forEach(A=>A(v)),"function"==typeof g)g(v);else if("string"==typeof g){const A=Bt()[g];"function"==typeof A&&A(v)}}}assertNotDestroyed(){Be(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var g=this;return(0,_.Z)(function*(){if(yield g.init(),!g.widgetId){let v=g.container;if(!g.isInvisible){const A=document.createElement("div");v.appendChild(A),v=A}g.widgetId=g.getAssertedRecaptcha().render(v,g.parameters)}return g.widgetId})()}init(){var g=this;return(0,_.Z)(function*(){Be(Rn()&&!kt(),g.auth,"internal-error"),yield function xo(){let S=null;return new Promise(g=>{"complete"!==document.readyState?(S=()=>g(),window.addEventListener("load",S)):g()}).catch(g=>{throw S&&window.removeEventListener("load",S),g})}(),g.recaptcha=yield g._recaptchaLoader.load(g.auth,g.auth.languageCode||void 0);const v=yield function ct(S){return Je.apply(this,arguments)}(g.auth);Be(v,g.auth,"internal-error"),g.parameters.sitekey=v})()}getAssertedRecaptcha(){return Be(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class hs{constructor(g,v){this.verificationId=g,this.onConfirmation=v}confirm(g){const v=Ss._fromVerification(this.verificationId,g);return this.onConfirmation(v)}}function yo(S,g,v){return qo.apply(this,arguments)}function qo(){return(qo=(0,_.Z)(function*(S,g,v){const A=Dr(S),Y=yield kl(A,g,(0,X.m9)(v));return new hs(Y,le=>Yn(A,le))})).apply(this,arguments)}function Oo(S,g,v){return Zs.apply(this,arguments)}function Zs(){return(Zs=(0,_.Z)(function*(S,g,v){const A=(0,X.m9)(S);yield Ao(!1,A,"phone");const Y=yield kl(A.auth,g,(0,X.m9)(v));return new hs(Y,le=>Da(A,le))})).apply(this,arguments)}function rl(S,g,v){return Il.apply(this,arguments)}function Il(){return(Il=(0,_.Z)(function*(S,g,v){const A=(0,X.m9)(S),Y=yield kl(A.auth,g,(0,X.m9)(v));return new hs(Y,le=>Ta(A,le))})).apply(this,arguments)}function kl(S,g,v){return fu.apply(this,arguments)}function fu(){return fu=(0,_.Z)(function*(S,g,v){var A;const Y=yield v.verify();try{let le;if(Be("string"==typeof Y,S,"argument-error"),Be(v.type===ds,S,"argument-error"),le="string"==typeof g?{phoneNumber:g}:g,"session"in le){const He=le.session;if("phoneNumber"in le)return Be("enroll"===He.type,S,"internal-error"),(yield function Hi(S,g){return Xe(S,"POST","/v2/accounts/mfaEnrollment:start",Me(S,g))}(S,{idToken:He.credential,phoneEnrollmentInfo:{phoneNumber:le.phoneNumber,recaptchaToken:Y}})).phoneSessionInfo.sessionInfo;{Be("signin"===He.type,S,"internal-error");const gt=(null===(A=le.multiFactorHint)||void 0===A?void 0:A.uid)||le.multiFactorUid;return Be(gt,S,"missing-multi-factor-info"),(yield function nn(S,g){return Xe(S,"POST","/v2/accounts/mfaSignIn:start",Me(S,g))}(S,{mfaPendingCredential:He.credential,mfaEnrollmentId:gt,phoneSignInInfo:{recaptchaToken:Y}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:He}=yield function Ca(S,g){return Ws.apply(this,arguments)}(S,{phoneNumber:le.phoneNumber,recaptchaToken:Y});return He}}finally{v._reset()}}),fu.apply(this,arguments)}function zi(S,g){return ko.apply(this,arguments)}function ko(){return(ko=(0,_.Z)(function*(S,g){yield qi((0,X.m9)(S),g)})).apply(this,arguments)}let Ma=(()=>{class S{constructor(v){this.providerId=S.PROVIDER_ID,this.auth=Dr(v)}verifyPhoneNumber(v,A){return kl(this.auth,v,(0,X.m9)(A))}static credential(v,A){return Ss._fromVerification(v,A)}static credentialFromResult(v){return S.credentialFromTaggedObject(v)}static credentialFromError(v){return S.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{phoneNumber:A,temporaryProof:Y}=v;return A&&Y?Ss._fromTokenResponse(A,Y):null}}return S.PROVIDER_ID="phone",S.PHONE_SIGN_IN_METHOD="phone",S})();function C(S,g){return g?yi(g):(Be(S._popupRedirectResolver,S,"argument-error"),S._popupRedirectResolver)}class T extends Nt{constructor(g){super("custom","custom"),this.params=g}_getIdTokenResponse(g){return Si(g,this._buildIdpRequest())}_linkToIdToken(g,v){return Si(g,this._buildIdpRequest(v))}_getReauthenticationResolver(g){return Si(g,this._buildIdpRequest())}_buildIdpRequest(g){const v={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return g&&(v.idToken=g),v}}function E(S){return vs(S.auth,new T(S),S.bypassAuthState)}function P(S){const{auth:g,user:v}=S;return Be(v,g,"internal-error"),es(v,new T(S),S.bypassAuthState)}function j(S){return J.apply(this,arguments)}function J(){return(J=(0,_.Z)(function*(S){const{auth:g,user:v}=S;return Be(v,g,"internal-error"),qi(v,new T(S),S.bypassAuthState)})).apply(this,arguments)}class ae{constructor(g,v,A,Y,le=!1){this.auth=g,this.resolver=A,this.user=Y,this.bypassAuthState=le,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(v)?v:[v]}execute(){var g=this;return new Promise(function(){var v=(0,_.Z)(function*(A,Y){g.pendingPromise={resolve:A,reject:Y};try{g.eventManager=yield g.resolver._initialize(g.auth),yield g.onExecution(),g.eventManager.registerConsumer(g)}catch(le){g.reject(le)}});return function(A,Y){return v.apply(this,arguments)}}())}onAuthEvent(g){var v=this;return(0,_.Z)(function*(){const{urlResponse:A,sessionId:Y,postBody:le,tenantId:He,error:gt,type:Yt}=g;if(gt)return void v.reject(gt);const an={auth:v.auth,requestUri:A,sessionId:Y,tenantId:He||void 0,postBody:le||void 0,user:v.user,bypassAuthState:v.bypassAuthState};try{v.resolve(yield v.getIdpTask(Yt)(an))}catch(Hn){v.reject(Hn)}})()}onError(g){this.reject(g)}getIdpTask(g){switch(g){case"signInViaPopup":case"signInViaRedirect":return E;case"linkViaPopup":case"linkViaRedirect":return j;case"reauthViaPopup":case"reauthViaRedirect":return P;default:Ge(this.auth,"internal-error")}}resolve(g){en(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(g),this.unregisterAndCleanUp()}reject(g){en(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(g),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ke=new on(2e3,1e4);function Et(S,g,v){return Xt.apply(this,arguments)}function Xt(){return(Xt=(0,_.Z)(function*(S,g,v){const A=Dr(S);et(S,g,we);const Y=C(A,v);return new Yo(A,"signInViaPopup",g,Y).executeNotNull()})).apply(this,arguments)}function gn(S,g,v){return fr.apply(this,arguments)}function fr(){return(fr=(0,_.Z)(function*(S,g,v){const A=(0,X.m9)(S);et(A.auth,g,we);const Y=C(A.auth,v);return new Yo(A.auth,"reauthViaPopup",g,Y,A).executeNotNull()})).apply(this,arguments)}function Cs(S,g,v){return _o.apply(this,arguments)}function _o(){return(_o=(0,_.Z)(function*(S,g,v){const A=(0,X.m9)(S);et(A.auth,g,we);const Y=C(A.auth,v);return new Yo(A.auth,"linkViaPopup",g,Y,A).executeNotNull()})).apply(this,arguments)}let Yo=(()=>{class S extends ae{constructor(v,A,Y,le,He){super(v,A,le,He),this.provider=Y,this.authWindow=null,this.pollId=null,S.currentPopupAction&&S.currentPopupAction.cancel(),S.currentPopupAction=this}executeNotNull(){var v=this;return(0,_.Z)(function*(){const A=yield v.execute();return Be(A,v.auth,"internal-error"),A})()}onExecution(){var v=this;return(0,_.Z)(function*(){en(1===v.filter.length,"Popup operations only handle one event");const A=Cn();v.authWindow=yield v.resolver._openPopup(v.auth,v.provider,v.filter[0],A),v.authWindow.associatedEvent=A,v.resolver._originValidation(v.auth).catch(Y=>{v.reject(Y)}),v.resolver._isIframeWebStorageSupported(v.auth,Y=>{Y||v.reject(ge(v.auth,"web-storage-unsupported"))}),v.pollUserCancellation()})()}get eventId(){var v;return(null===(v=this.authWindow)||void 0===v?void 0:v.associatedEvent)||null}cancel(){this.reject(ge(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,S.currentPopupAction=null}pollUserCancellation(){const v=()=>{var A,Y;this.pollId=null!==(Y=null===(A=this.authWindow)||void 0===A?void 0:A.window)&&void 0!==Y&&Y.closed?window.setTimeout(()=>{this.pollId=null,this.reject(ge(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(v,Ke.get())};v()}}return S.currentPopupAction=null,S})();const Zo="pendingRedirect",ns=new Map;class Xl extends ae{constructor(g,v,A=!1){super(g,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],v,void 0,A),this.eventId=null}execute(){var g=()=>super.execute,v=this;return(0,_.Z)(function*(){let A=ns.get(v.auth._key());if(!A){try{const le=(yield function Fl(S,g){return il.apply(this,arguments)}(v.resolver,v.auth))?yield g().call(v):null;A=()=>Promise.resolve(le)}catch(Y){A=()=>Promise.reject(Y)}ns.set(v.auth._key(),A)}return v.bypassAuthState||ns.set(v.auth._key(),()=>Promise.resolve(null)),A()})()}onAuthEvent(g){var v=()=>super.onAuthEvent,A=this;return(0,_.Z)(function*(){if("signInViaRedirect"===g.type)return v().call(A,g);if("unknown"!==g.type){if(g.eventId){const Y=yield A.auth._redirectUserForId(g.eventId);if(Y)return A.user=Y,v().call(A,g);A.resolve(null)}}else A.resolve(null)})()}onExecution(){return(0,_.Z)(function*(){})()}cleanUp(){}}function il(){return(il=(0,_.Z)(function*(S,g){const v=pu(g),A=id(S);if(!(yield A._isAvailable()))return!1;const Y="true"===(yield A._get(v));return yield A._remove(v),Y})).apply(this,arguments)}function _c(S,g){return Pa.apply(this,arguments)}function Pa(){return(Pa=(0,_.Z)(function*(S,g){return id(S)._set(pu(g),"true")})).apply(this,arguments)}function Vu(){ns.clear()}function vc(S,g){ns.set(S._key(),g)}function id(S){return yi(S._redirectPersistence)}function pu(S){return li(Zo,S.config.apiKey,S.name)}function gu(S,g,v){return function sd(S,g,v){return Jl.apply(this,arguments)}(S,g,v)}function Jl(){return(Jl=(0,_.Z)(function*(S,g,v){const A=Dr(S);et(S,g,we),yield A._initializationPromise;const Y=C(A,v);return yield _c(Y,A),Y._openRedirect(A,g,"signInViaRedirect")})).apply(this,arguments)}function Qs(S,g,v){return function Ec(S,g,v){return Qo.apply(this,arguments)}(S,g,v)}function Qo(){return(Qo=(0,_.Z)(function*(S,g,v){const A=(0,X.m9)(S);et(A.auth,g,we),yield A.auth._initializationPromise;const Y=C(A.auth,v);yield _c(Y,A.auth);const le=yield vo(A);return Y._openRedirect(A.auth,g,"reauthViaRedirect",le)})).apply(this,arguments)}function mu(S,g,v){return function Qi(S,g,v){return Cl.apply(this,arguments)}(S,g,v)}function Cl(){return(Cl=(0,_.Z)(function*(S,g,v){const A=(0,X.m9)(S);et(A.auth,g,we),yield A.auth._initializationPromise;const Y=C(A.auth,v);yield Ao(!1,A,g.providerId),yield _c(Y,A.auth);const le=yield vo(A);return Y._openRedirect(A.auth,g,"linkViaRedirect",le)})).apply(this,arguments)}function js(S,g){return ui.apply(this,arguments)}function ui(){return(ui=(0,_.Z)(function*(S,g){return yield Dr(S)._initializationPromise,yu(S,g,!1)})).apply(this,arguments)}function yu(S,g){return Na.apply(this,arguments)}function Na(){return(Na=(0,_.Z)(function*(S,g,v=!1){const A=Dr(S),Y=C(A,g),He=yield new Xl(A,Y,v).execute();return He&&!v&&(delete He.user._redirectEventId,yield A._persistUserIfCurrent(He.user),yield A._setRedirectUser(null,g)),He})).apply(this,arguments)}function vo(S){return sl.apply(this,arguments)}function sl(){return(sl=(0,_.Z)(function*(S){const g=Cn(`${S.uid}:::`);return S._redirectEventId=g,yield S.auth._setRedirectUser(S),yield S.auth._persistUserIfCurrent(S),g})).apply(this,arguments)}class Rs{constructor(g){this.auth=g,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(g){this.consumers.add(g),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,g)&&(this.sendToConsumer(this.queuedRedirectEvent,g),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(g){this.consumers.delete(g)}onEvent(g){if(this.hasEventBeenHandled(g))return!1;let v=!1;return this.consumers.forEach(A=>{this.isEventForConsumer(g,A)&&(v=!0,this.sendToConsumer(g,A),this.saveEventToCache(g))}),this.hasHandledPotentialRedirect||!function ms(S){switch(S.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return wa(S);default:return!1}}(g)||(this.hasHandledPotentialRedirect=!0,v||(this.queuedRedirectEvent=g,v=!0)),v}sendToConsumer(g,v){var A;if(g.error&&!wa(g)){const Y=(null===(A=g.error.code)||void 0===A?void 0:A.split("auth/")[1])||"internal-error";v.onError(ge(this.auth,Y))}else v.onAuthEvent(g)}isEventForConsumer(g,v){const A=null===v.eventId||!!g.eventId&&g.eventId===v.eventId;return v.filter.includes(g.type)&&A}hasEventBeenHandled(g){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ga(g))}saveEventToCache(g){this.cachedEventUids.add(Ga(g)),this.lastProcessedEventTime=Date.now()}}function Ga(S){return[S.type,S.eventId,S.sessionId,S.tenantId].filter(g=>g).join("-")}function wa({type:S,error:g}){return"unknown"===S&&"auth/no-auth-event"===g?.code}function xa(S){return Ll.apply(this,arguments)}function Ll(){return(Ll=(0,_.Z)(function*(S,g={}){return Xe(S,"GET","/v1/projects",g)})).apply(this,arguments)}const Uu=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Vl=/^https?/;function Oa(){return(Oa=(0,_.Z)(function*(S){if(S.config.emulator)return;const{authorizedDomains:g}=yield xa(S);for(const v of g)try{if(ua(v))return}catch{}Ge(S,"unauthorized-domain")})).apply(this,arguments)}function ua(S){const g=Gt(),{protocol:v,hostname:A}=new URL(g);if(S.startsWith("chrome-extension://")){const He=new URL(S);return""===He.hostname&&""===A?"chrome-extension:"===v&&S.replace("chrome-extension://","")===g.replace("chrome-extension://",""):"chrome-extension:"===v&&He.hostname===A}if(!Vl.test(v))return!1;if(Uu.test(S))return A===S;const Y=S.replace(/\./g,"\\.");return new RegExp("^(.+\\."+Y+"|"+Y+")$","i").test(A)}const Hs=new on(3e4,6e4);function Fo(){const S=Bt().___jsl;if(S?.H)for(const g of Object.keys(S.H))if(S.H[g].r=S.H[g].r||[],S.H[g].L=S.H[g].L||[],S.H[g].r=[...S.H[g].L],S.CP)for(let v=0;v<S.CP.length;v++)S.CP[v]=null}let ol=null;const eu=new on(5e3,15e3),lo="__/auth/iframe",_u="emulator/auth/iframe",Xo={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},al=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function oc(S){const g=S.config;Be(g.authDomain,S,"auth-domain-config-required");const v=g.emulator?Gn(g,_u):`https://${S.config.authDomain}/${lo}`,A={apiKey:g.apiKey,appName:S.name,v:$.SDK_VERSION},Y=al.get(S.config.apiHost);Y&&(A.eid=Y);const le=S._getFrameworks();return le.length&&(A.fw=le.join(",")),`${v}?${(0,X.xO)(A).slice(1)}`}function vu(){return vu=(0,_.Z)(function*(S){const g=yield function Eo(S){return ol=ol||function Gs(S){return new Promise((g,v)=>{var A,Y,le;function He(){Fo(),gapi.load("gapi.iframes",{callback:()=>{g(gapi.iframes.getContext())},ontimeout:()=>{Fo(),v(ge(S,"network-request-failed"))},timeout:Hs.get()})}if(null!==(Y=null===(A=Bt().gapi)||void 0===A?void 0:A.iframes)&&void 0!==Y&&Y.Iframe)g(gapi.iframes.getContext());else{if(null===(le=Bt().gapi)||void 0===le||!le.load){const gt=Pi("iframefcb");return Bt()[gt]=()=>{gapi.load?He():v(ge(S,"network-request-failed"))},lr(`https://apis.google.com/js/api.js?onload=${gt}`).catch(Yt=>v(Yt))}He()}}).catch(g=>{throw ol=null,g})}(S),ol}(S),v=Bt().gapi;return Be(v,S,"internal-error"),g.open({where:document.body,url:oc(S),messageHandlersFilter:v.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Xo,dontclear:!0},A=>new Promise(function(){var Y=(0,_.Z)(function*(le,He){yield A.restyle({setHideOnLeave:!1});const gt=ge(S,"network-request-failed"),Yt=Bt().setTimeout(()=>{He(gt)},eu.get());function an(){Bt().clearTimeout(Yt),le(A)}A.ping(an).then(an,()=>{He(gt)})});return function(le,He){return Y.apply(this,arguments)}}()))}),vu.apply(this,arguments)}const b={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},k=500,q=600,me="_blank",Oe="http://localhost";class ze{constructor(g){this.window=g,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Vt="__/auth/handler",kn="emulator/auth/handler",Dn=encodeURIComponent("fac");function Xn(S,g,v,A,Y,le){return Xs.apply(this,arguments)}function Xs(){return(Xs=(0,_.Z)(function*(S,g,v,A,Y,le){Be(S.config.authDomain,S,"auth-domain-config-required"),Be(S.config.apiKey,S,"invalid-api-key");const He={apiKey:S.config.apiKey,appName:S.name,authType:v,redirectUrl:A,v:$.SDK_VERSION,eventId:Y};if(g instanceof we){g.setDefaultLanguage(S.languageCode),He.providerId=g.providerId||"",(0,X.xb)(g.getCustomParameters())||(He.customParameters=JSON.stringify(g.getCustomParameters()));for(const[Hn,yr]of Object.entries(le||{}))He[Hn]=yr}if(g instanceof Te){const Hn=g.getScopes().filter(yr=>""!==yr);Hn.length>0&&(He.scopes=Hn.join(","))}S.tenantId&&(He.tid=S.tenantId);const gt=He;for(const Hn of Object.keys(gt))void 0===gt[Hn]&&delete gt[Hn];const Yt=yield S._getAppCheckToken(),an=Yt?`#${Dn}=${encodeURIComponent(Yt)}`:"";return`${function Ms({config:S}){return S.emulator?Gn(S,kn):`https://${S.authDomain}/${Vt}`}(S)}?${(0,X.xO)(gt).slice(1)}${an}`})).apply(this,arguments)}const Ia="webStorageSupport",wu=class Eu{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=us,this._completeRedirectFn=yu,this._overrideRedirectResult=vc}_openPopup(g,v,A,Y){var le=this;return(0,_.Z)(function*(){var He;en(null===(He=le.eventManagers[g._key()])||void 0===He?void 0:He.manager,"_initialize() not called before _openPopup()");const gt=yield Xn(g,v,A,Gt(),Y);return function mt(S,g,v,A=k,Y=q){const le=Math.max((window.screen.availHeight-Y)/2,0).toString(),He=Math.max((window.screen.availWidth-A)/2,0).toString();let gt="";const Yt=Object.assign(Object.assign({},b),{width:A.toString(),height:Y.toString(),top:le,left:He}),an=(0,X.z$)().toLowerCase();v&&(gt=te(an)?me:v),oe(an)&&(g=g||Oe,Yt.scrollbars="yes");const Hn=Object.entries(Yt).reduce((Lo,[Wa,Ul])=>`${Lo}${Wa}=${Ul},`,"");if(function bt(S=(0,X.z$)()){var g;return Ne(S)&&!(null===(g=window.navigator)||void 0===g||!g.standalone)}(an)&&"_self"!==gt)return function ln(S,g){const v=document.createElement("a");v.href=S,v.target=g;const A=document.createEvent("MouseEvent");A.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),v.dispatchEvent(A)}(g||"",gt),new ze(null);const yr=window.open(g||"",gt,Hn);Be(yr,S,"popup-blocked");try{yr.focus()}catch{}return new ze(yr)}(g,gt,Cn())})()}_openRedirect(g,v,A,Y){var le=this;return(0,_.Z)(function*(){return yield le._originValidation(g),function ut(S){Bt().location.href=S}(yield Xn(g,v,A,Gt(),Y)),new Promise(()=>{})})()}_initialize(g){const v=g._key();if(this.eventManagers[v]){const{manager:Y,promise:le}=this.eventManagers[v];return Y?Promise.resolve(Y):(en(le,"If manager is not set, promise should be"),le)}const A=this.initAndGetManager(g);return this.eventManagers[v]={promise:A},A.catch(()=>{delete this.eventManagers[v]}),A}initAndGetManager(g){var v=this;return(0,_.Z)(function*(){const A=yield function ll(S){return vu.apply(this,arguments)}(g),Y=new Rs(g);return A.register("authEvent",le=>(Be(le?.authEvent,g,"invalid-auth-event"),{status:Y.onEvent(le.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),v.eventManagers[g._key()]={manager:Y},v.iframes[g._key()]=A,Y})()}_isIframeWebStorageSupported(g,v){this.iframes[g._key()].send(Ia,{type:Ia},Y=>{var le;const He=null===(le=Y?.[0])||void 0===le?void 0:le[Ia];void 0!==He&&v(!!He),Ge(g,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(g){const v=g._key();return this.originValidationPromises[v]||(this.originValidationPromises[v]=function Ic(S){return Oa.apply(this,arguments)}(g)),this.originValidationPromises[v]}get _shouldInitProactively(){return En()||ue()||Ne()}};class Br{constructor(g){this.factorId=g}_process(g,v,A){switch(v.type){case"enroll":return this._finalizeEnroll(g,v.credential,A);case"signin":return this._finalizeSignIn(g,v.credential);default:return re("unexpected MultiFactorSessionType")}}}class Hr extends Br{constructor(g){super("phone"),this.credential=g}static _fromCredential(g){return new Hr(g)}_finalizeEnroll(g,v,A){return function mi(S,g){return Xe(S,"POST","/v2/accounts/mfaEnrollment:finalize",Me(S,g))}(g,{idToken:v,displayName:A,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(g,v){return function $s(S,g){return Xe(S,"POST","/v2/accounts/mfaSignIn:finalize",Me(S,g))}(g,{mfaPendingCredential:v,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Dl=(()=>{class S{constructor(){}static assertion(v){return Hr._fromCredential(v)}}return S.FACTOR_ID="phone",S})();var $u="@firebase/auth";class za{constructor(g){this.auth=g,this.internalListeners=new Map}getUid(){var g;return this.assertAuthConfigured(),(null===(g=this.auth.currentUser)||void 0===g?void 0:g.uid)||null}getToken(g){var v=this;return(0,_.Z)(function*(){return v.assertAuthConfigured(),yield v.auth._initializationPromise,v.auth.currentUser?{accessToken:yield v.auth.currentUser.getIdToken(g)}:null})()}addAuthTokenListener(g){if(this.assertAuthConfigured(),this.internalListeners.has(g))return;const v=this.auth.onIdTokenChanged(A=>{g(A?.stsTokenManager.accessToken||null)});this.internalListeners.set(g,v),this.updateProactiveRefresh()}removeAuthTokenListener(g){this.assertAuthConfigured();const v=this.internalListeners.get(g);v&&(this.internalListeners.delete(g),v(),this.updateProactiveRefresh())}assertAuthConfigured(){Be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Iu=(0,X.Pz)("authIdTokenMaxAge")||300;let Ld=null;const Cu=S=>function(){var g=(0,_.Z)(function*(v){const A=v&&(yield v.getIdTokenResult()),Y=A&&((new Date).getTime()-Date.parse(A.issuedAtTime))/1e3;if(Y&&Y>Iu)return;const le=A?.token;Ld!==le&&(Ld=le,yield fetch(S,{method:le?"POST":"DELETE",headers:le?{Authorization:`Bearer ${le}`}:{}}))});return function(v){return g.apply(this,arguments)}}();function Oh(S=(0,$.getApp)()){const g=(0,$._getProvider)(S,"auth");if(g.isInitialized())return g.getImmediate();const v=function hi(S,g){const v=(0,$._getProvider)(S,"auth");if(v.isInitialized()){const Y=v.getImmediate(),le=v.getOptions();if((0,X.vZ)(le,g??{}))return Y;Ge(Y,"already-initialized")}return v.initialize({options:g})}(S,{popupRedirectResolver:wu,persistence:[cs,Lt,us]}),A=(0,X.Pz)("authTokenSyncURL");if(A){const le=Cu(A);(function F(S,g,v){(0,X.m9)(S).beforeAuthStateChanged(g,v)})(v,le,()=>le(v.currentUser)),function W(S,g,v,A){(0,X.m9)(S).onIdTokenChanged(g,v,A)}(v,He=>le(He))}const Y=(0,X.q4)("auth");return Y&&Qr(v,`http://${Y}`),v}!function Fd(S){(0,$._registerComponent)(new Ve.wA("auth",(g,{options:v})=>{const A=g.getProvider("app").getImmediate(),Y=g.getProvider("heartbeat"),le=g.getProvider("app-check-internal"),{apiKey:He,authDomain:gt}=A.options;Be(He&&!He.includes(":"),"invalid-api-key",{appName:A.name});const Yt={apiKey:He,authDomain:gt,clientPlatform:S,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Oi(S)},an=new mr(A,Y,le,Yt);return function to(S,g){const v=g?.persistence||[],A=(Array.isArray(v)?v:[v]).map(yi);g?.errorMap&&S._updateErrorMap(g.errorMap),S._initializeWithPersistence(A,g?.popupRedirectResolver)}(an,v),an},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((g,v,A)=>{g.getProvider("auth-internal").initialize()})),(0,$._registerComponent)(new Ve.wA("auth-internal",g=>{const v=Dr(g.getProvider("auth").getImmediate());return new za(v)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,$.registerVersion)($u,"0.23.2",function Sl(S){switch(S){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(S)),(0,$.registerVersion)($u,"0.23.2","esm2017")}("Browser")},6961:(rn,it,G)=>{G.d(it,{$Y:()=>ki,B0:()=>Us,FN:()=>Vs,IX:()=>xe,Jt:()=>ta,UJ:()=>sr,Ym:()=>Ca,a1:()=>jo,aF:()=>Ks,bm:()=>xr,cF:()=>To,g6:()=>$i,gE:()=>Vn,gH:()=>en,iH:()=>qs,oq:()=>ro,pb:()=>Ws,qm:()=>Zn,sd:()=>Ei,y4:()=>Rn});var _=G(5861),X=G(6881),$=G(2090),Re=G(4859);const be="firebasestorage.googleapis.com",Ve="storageBucket";class pe extends $.ZR{constructor(z,we,Te=0){super(Ae(z),`Firebase Storage: ${we} (${Ae(z)})`),this.status_=Te,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,pe.prototype)}get status(){return this.status_}set status(z){this.status_=z}_codeEquals(z){return Ae(z)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(z){this.customData.serverResponse=z,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var fe=(()=>{return(Z=fe||(fe={})).UNKNOWN="unknown",Z.OBJECT_NOT_FOUND="object-not-found",Z.BUCKET_NOT_FOUND="bucket-not-found",Z.PROJECT_NOT_FOUND="project-not-found",Z.QUOTA_EXCEEDED="quota-exceeded",Z.UNAUTHENTICATED="unauthenticated",Z.UNAUTHORIZED="unauthorized",Z.UNAUTHORIZED_APP="unauthorized-app",Z.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",Z.INVALID_CHECKSUM="invalid-checksum",Z.CANCELED="canceled",Z.INVALID_EVENT_NAME="invalid-event-name",Z.INVALID_URL="invalid-url",Z.INVALID_DEFAULT_BUCKET="invalid-default-bucket",Z.NO_DEFAULT_BUCKET="no-default-bucket",Z.CANNOT_SLICE_BLOB="cannot-slice-blob",Z.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",Z.NO_DOWNLOAD_URL="no-download-url",Z.INVALID_ARGUMENT="invalid-argument",Z.INVALID_ARGUMENT_COUNT="invalid-argument-count",Z.APP_DELETED="app-deleted",Z.INVALID_ROOT_OPERATION="invalid-root-operation",Z.INVALID_FORMAT="invalid-format",Z.INTERNAL_ERROR="internal-error",Z.UNSUPPORTED_ENVIRONMENT="unsupported-environment",fe;var Z})();function Ae(Z){return"storage/"+Z}function ht(){return new pe(fe.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function Tt(){return new pe(fe.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Dt(){return new pe(fe.CANCELED,"User canceled the upload/download.")}function et(){return new pe(fe.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function en(Z){return new pe(fe.INVALID_ARGUMENT,Z)}function Gt(){return new pe(fe.APP_DELETED,"The Firebase app was deleted.")}function Rn(Z){return new pe(fe.INVALID_ROOT_OPERATION,"The operation '"+Z+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Ut(Z,z){return new pe(fe.INVALID_FORMAT,"String does not match format '"+Z+"': "+z)}function sn(Z){throw new pe(fe.INTERNAL_ERROR,"Internal error: "+Z)}class Vn{constructor(z,we){this.bucket=z,this.path_=we}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const z=encodeURIComponent;return"/b/"+z(this.bucket)+"/o/"+z(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(z,we){let Te;try{Te=Vn.makeFromUrl(z,we)}catch{return new Vn(z,"")}if(""===Te.path)return Te;throw function ge(Z){return new pe(fe.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+Z+"'.")}(z)}static makeFromUrl(z,we){let Te=null;const We="([A-Za-z0-9.\\-_]+)",tn=new RegExp("^gs://"+We+"(/(.*))?$","i");function Sn(Ii){Ii.path_=decodeURIComponent(Ii.path)}const fi=we.replace(/[.]/g,"\\."),bi=[{regex:tn,indices:{bucket:1,path:3},postModify:function _t(Ii){"/"===Ii.path.charAt(Ii.path.length-1)&&(Ii.path_=Ii.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${fi}/v[A-Za-z0-9_]+/b/${We}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:Sn},{regex:new RegExp(`^https?://${we===be?"(?:storage.googleapis.com|storage.cloud.google.com)":we}/${We}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:Sn}];for(let Ii=0;Ii<bi.length;Ii++){const Ui=bi[Ii],bo=Ui.regex.exec(z);if(bo){let qi=bo[Ui.indices.path];qi||(qi=""),Te=new Vn(bo[Ui.indices.bucket],qi),Ui.postModify(Te);break}}if(null==Te)throw function Ge(Z){return new pe(fe.INVALID_URL,"Invalid URL '"+Z+"'.")}(z);return Te}}class on{constructor(z){this.promise_=Promise.reject(z)}getPromise(){return this.promise_}cancel(z=!1){}}function Xe(Z){return"string"==typeof Z||Z instanceof String}function It(Z){return Ft()&&Z instanceof Blob}function Ft(){return typeof Blob<"u"&&!(0,$.UG)()}function qt(Z,z,we,Te){if(Te<z)throw en(`Invalid value for '${Z}'. Expected ${z} or greater.`);if(Te>we)throw en(`Invalid value for '${Z}'. Expected ${we} or less.`)}function vn(Z,z,we){let Te=z;return null==we&&(Te=`https://${z}`),`${we}://${Te}/v0${Z}`}function zt(Z){const z=encodeURIComponent;let we="?";for(const Te in Z)Z.hasOwnProperty(Te)&&(we=we+(z(Te)+"=")+z(Z[Te])+"&");return we=we.slice(0,-1),we}var Pn=(()=>{return(Z=Pn||(Pn={}))[Z.NO_ERROR=0]="NO_ERROR",Z[Z.NETWORK_ERROR=1]="NETWORK_ERROR",Z[Z.ABORT=2]="ABORT",Pn;var Z})();function _r(Z,z){const we=Z>=500&&Z<600,We=-1!==[408,429].indexOf(Z),_t=-1!==z.indexOf(Z);return we||We||_t}class xn{constructor(z,we,Te,We,_t,$t,tn,hn,Sn,ir,fi,zr=!0){this.url_=z,this.method_=we,this.headers_=Te,this.body_=We,this.successCodes_=_t,this.additionalRetryCodes_=$t,this.callback_=tn,this.errorCallback_=hn,this.timeout_=Sn,this.progressCallback_=ir,this.connectionFactory_=fi,this.retry=zr,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((pi,si)=>{this.resolve_=pi,this.reject_=si,this.start_()})}start_(){const we=(Te,We)=>{const _t=this.resolve_,$t=this.reject_,tn=We.connection;if(We.wasSuccessCode)try{const hn=this.callback_(tn,tn.getResponse());!function Fe(Z){return void 0!==Z}(hn)?_t():_t(hn)}catch(hn){$t(hn)}else if(null!==tn){const hn=ht();hn.serverResponse=tn.getErrorText(),$t(this.errorCallback_?this.errorCallback_(tn,hn):hn)}else $t(We.canceled?this.appDelete_?Gt():Dt():Tt())};this.canceled_?we(0,new Un(!1,null,!0)):this.backoffId_=function Gn(Z,z,we){let Te=1,We=null,_t=null,$t=!1,tn=0;function hn(){return 2===tn}let Sn=!1;function ir(...wi){Sn||(Sn=!0,z.apply(null,wi))}function fi(wi){We=setTimeout(()=>{We=null,Z(pi,hn())},wi)}function zr(){_t&&clearTimeout(_t)}function pi(wi,...Ni){if(Sn)return void zr();if(wi)return zr(),void ir.call(null,wi,...Ni);if(hn()||$t)return zr(),void ir.call(null,wi,...Ni);let bi;Te<64&&(Te*=2),1===tn?(tn=2,bi=0):bi=1e3*(Te+Math.random()),fi(bi)}let si=!1;function Sr(wi){si||(si=!0,zr(),!Sn&&(null!==We?(wi||(tn=2),clearTimeout(We),fi(0)):wi||(tn=1)))}return fi(0),_t=setTimeout(()=>{$t=!0,Sr(!0)},we),Sr}((Te,We)=>{if(We)return void Te(!1,new Un(!1,null,!0));const _t=this.connectionFactory_();this.pendingConnection_=_t;const $t=tn=>{null!==this.progressCallback_&&this.progressCallback_(tn.loaded,tn.lengthComputable?tn.total:-1)};null!==this.progressCallback_&&_t.addUploadProgressListener($t),_t.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&_t.removeUploadProgressListener($t),this.pendingConnection_=null;const tn=_t.getErrorCode()===Pn.NO_ERROR,hn=_t.getStatus();if(!tn||_r(hn,this.additionalRetryCodes_)&&this.retry){const ir=_t.getErrorCode()===Pn.ABORT;return void Te(!1,new Un(!1,null,ir))}const Sn=-1!==this.successCodes_.indexOf(hn);Te(!0,new Un(Sn,_t))})},we,this.timeout_)}getPromise(){return this.promise_}cancel(z){this.canceled_=!0,this.appDelete_=z||!1,null!==this.backoffId_&&function ke(Z){Z(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class Un{constructor(z,we,Te){this.wasSuccessCode=z,this.connection=we,this.canceled=!!Te}}function Bn(...Z){const z=function Ht(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==z){const we=new z;for(let Te=0;Te<Z.length;Te++)we.append(Z[Te]);return we.getBlob()}if(Ft())return new Blob(Z);throw new pe(fe.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const xr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class dr{constructor(z,we){this.data=z,this.contentType=we||null}}function Zn(Z,z){switch(Z){case xr.RAW:return new dr(fn(z));case xr.BASE64:case xr.BASE64URL:return new dr(mn(Z,z));case xr.DATA_URL:return new dr(function Zr(Z){const z=new ei(Z);return z.base64?mn(xr.BASE64,z.rest):function Kt(Z){let z;try{z=decodeURIComponent(Z)}catch{throw Ut(xr.DATA_URL,"Malformed data URL.")}return fn(z)}(z.rest)}(z),function Rr(Z){return new ei(Z).contentType}(z))}throw ht()}function fn(Z){const z=[];for(let we=0;we<Z.length;we++){let Te=Z.charCodeAt(we);Te<=127?z.push(Te):Te<=2047?z.push(192|Te>>6,128|63&Te):55296==(64512&Te)?we<Z.length-1&&56320==(64512&Z.charCodeAt(we+1))?(Te=65536|(1023&Te)<<10|1023&Z.charCodeAt(++we),z.push(240|Te>>18,128|Te>>12&63,128|Te>>6&63,128|63&Te)):z.push(239,191,189):56320==(64512&Te)?z.push(239,191,189):z.push(224|Te>>12,128|Te>>6&63,128|63&Te)}return new Uint8Array(z)}function mn(Z,z){switch(Z){case xr.BASE64:{const We=-1!==z.indexOf("-"),_t=-1!==z.indexOf("_");if(We||_t)throw Ut(Z,"Invalid character '"+(We?"-":"_")+"' found: is it base64url encoded?");break}case xr.BASE64URL:{const We=-1!==z.indexOf("+"),_t=-1!==z.indexOf("/");if(We||_t)throw Ut(Z,"Invalid character '"+(We?"+":"/")+"' found: is it base64 encoded?");z=z.replace(/-/g,"+").replace(/_/g,"/");break}}let we;try{we=function kr(Z){if(typeof atob>"u")throw function re(Z){return new pe(fe.UNSUPPORTED_ENVIRONMENT,`${Z} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(Z)}(z)}catch(We){throw We.message.includes("polyfill")?We:Ut(Z,"Invalid character found")}const Te=new Uint8Array(we.length);for(let We=0;We<we.length;We++)Te[We]=we.charCodeAt(We);return Te}class ei{constructor(z){this.base64=!1,this.contentType=null;const we=z.match(/^data:([^,]+)?,/);if(null===we)throw Ut(xr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const Te=we[1]||null;null!=Te&&(this.base64=function Mi(Z,z){return Z.length>=z.length&&Z.substring(Z.length-z.length)===z}(Te,";base64"),this.contentType=this.base64?Te.substring(0,Te.length-7):Te),this.rest=z.substring(z.indexOf(",")+1)}}class sr{constructor(z,we){let Te=0,We="";It(z)?(this.data_=z,Te=z.size,We=z.type):z instanceof ArrayBuffer?(we?this.data_=new Uint8Array(z):(this.data_=new Uint8Array(z.byteLength),this.data_.set(new Uint8Array(z))),Te=this.data_.length):z instanceof Uint8Array&&(we?this.data_=z:(this.data_=new Uint8Array(z.length),this.data_.set(z)),Te=z.length),this.size_=Te,this.type_=We}size(){return this.size_}type(){return this.type_}slice(z,we){if(It(this.data_)){const We=function ar(Z,z,we){return Z.webkitSlice?Z.webkitSlice(z,we):Z.mozSlice?Z.mozSlice(z,we):Z.slice?Z.slice(z,we):null}(this.data_,z,we);return null===We?null:new sr(We)}{const Te=new Uint8Array(this.data_.buffer,z,we-z);return new sr(Te,!0)}}static getBlob(...z){if(Ft()){const we=z.map(Te=>Te instanceof sr?Te.data_:Te);return new sr(Bn.apply(null,we))}{const we=z.map($t=>Xe($t)?Zn(xr.RAW,$t).data:$t.data_);let Te=0;we.forEach($t=>{Te+=$t.byteLength});const We=new Uint8Array(Te);let _t=0;return we.forEach($t=>{for(let tn=0;tn<$t.length;tn++)We[_t++]=$t[tn]}),new sr(We,!0)}}uploadData(){return this.data_}}function ci(Z){let z;try{z=JSON.parse(Z)}catch{return null}return function Me(Z){return"object"==typeof Z&&!Array.isArray(Z)}(z)?z:null}function Nn(Z){const z=Z.lastIndexOf("/",Z.length-2);return-1===z?Z:Z.slice(z+1)}function Cr(Z,z){return z}class Ot{constructor(z,we,Te,We){this.server=z,this.local=we||z,this.writable=!!Te,this.xform=We||Cr}}let Mr=null;function Fr(){if(Mr)return Mr;const Z=[];Z.push(new Ot("bucket")),Z.push(new Ot("generation")),Z.push(new Ot("metageneration")),Z.push(new Ot("name","fullPath",!0));const we=new Ot("name");we.xform=function z(_t,$t){return function ni(Z){return!Xe(Z)||Z.length<2?Z:Nn(Z)}($t)},Z.push(we);const We=new Ot("size");return We.xform=function Te(_t,$t){return void 0!==$t?Number($t):$t},Z.push(We),Z.push(new Ot("timeCreated")),Z.push(new Ot("updated")),Z.push(new Ot("md5Hash",null,!0)),Z.push(new Ot("cacheControl",null,!0)),Z.push(new Ot("contentDisposition",null,!0)),Z.push(new Ot("contentEncoding",null,!0)),Z.push(new Ot("contentLanguage",null,!0)),Z.push(new Ot("contentType",null,!0)),Z.push(new Ot("metadata","customMetadata",!0)),Mr=Z,Mr}function ri(Z,z,we){const Te=ci(z);return null===Te?null:function di(Z,z,we){const Te={type:"file"},We=we.length;for(let _t=0;_t<We;_t++){const $t=we[_t];Te[$t.local]=$t.xform(Te,z[$t.server])}return function yi(Z,z){Object.defineProperty(Z,"ref",{get:function we(){const _t=new Vn(Z.bucket,Z.fullPath);return z._makeStorageReference(_t)}})}(Te,Z),Te}(Z,Te,we)}function Ce(Z,z){const we={},Te=z.length;for(let We=0;We<Te;We++){const _t=z[We];_t.writable&&(we[_t.server]=Z[_t.local])}return JSON.stringify(we)}const Ee="prefixes",oe="items";class De{constructor(z,we,Te,We){this.url=z,this.method=we,this.handler=Te,this.timeout=We,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function he(Z){if(!Z)throw ht()}function _e(Z,z){return function we(Te,We){const _t=ri(Z,We,z);return he(null!==_t),_t}}function nt(Z){return function z(we,Te){let We;return We=401===we.getStatus()?we.getErrorText().includes("Firebase App Check token is invalid")?function at(){return new pe(fe.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function jt(){return new pe(fe.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===we.getStatus()?function At(Z){return new pe(fe.QUOTA_EXCEEDED,"Quota for bucket '"+Z+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(Z.bucket):403===we.getStatus()?function wt(Z){return new pe(fe.UNAUTHORIZED,"User does not have permission to access '"+Z+"'.")}(Z.path):Te,We.status=we.getStatus(),We.serverResponse=Te.serverResponse,We}}function bt(Z){const z=nt(Z);return function we(Te,We){let _t=z(Te,We);return 404===Te.getStatus()&&(_t=function pt(Z){return new pe(fe.OBJECT_NOT_FOUND,"Object '"+Z+"' does not exist.")}(Z.path)),_t.serverResponse=We.serverResponse,_t}}function un(Z,z,we){const We=vn(z.fullServerUrl(),Z.host,Z._protocol),$t=Z.maxOperationRetryTime,tn=new De(We,"GET",_e(Z,we),$t);return tn.errorHandler=bt(z),tn}function En(Z,z,we,Te,We){const _t={};_t.prefix=z.isRoot?"":z.path+"/",we&&we.length>0&&(_t.delimiter=we),Te&&(_t.pageToken=Te),We&&(_t.maxResults=We);const tn=vn(z.bucketOnlyServerUrl(),Z.host,Z._protocol),Sn=Z.maxOperationRetryTime,ir=new De(tn,"GET",function ce(Z,z){return function we(Te,We){const _t=function te(Z,z,we){const Te=ci(we);return null===Te?null:function ue(Z,z,we){const Te={prefixes:[],items:[],nextPageToken:we.nextPageToken};if(we[Ee])for(const We of we[Ee]){const _t=We.replace(/\/$/,""),$t=Z._makeStorageReference(new Vn(z,_t));Te.prefixes.push($t)}if(we[oe])for(const We of we[oe]){const _t=Z._makeStorageReference(new Vn(z,We.name));Te.items.push(_t)}return Te}(Z,z,Te)}(Z,z,We);return he(null!==_t),_t}}(Z,z.bucket),Sn);return ir.urlParams=_t,ir.errorHandler=nt(z),ir}function cn(Z,z,we){const Te=Object.assign({},we);return Te.fullPath=Z.path,Te.size=z.size(),Te.contentType||(Te.contentType=function Pt(Z,z){return Z&&Z.contentType||z&&z.type()||"application/octet-stream"}(null,z)),Te}class Ln{constructor(z,we,Te,We){this.current=z,this.total=we,this.finalized=!!Te,this.metadata=We||null}}function dn(Z,z){let we=null;try{we=Z.getResponseHeader("X-Goog-Upload-Status")}catch{he(!1)}return he(!!we&&-1!==(z||["active"]).indexOf(we)),we}const Vs={STATE_CHANGED:"state_changed"},ki={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Ti(Z){switch(Z){case"running":case"pausing":case"canceling":return ki.RUNNING;case"paused":return ki.PAUSED;case"success":return ki.SUCCESS;case"canceled":return ki.CANCELED;default:return ki.ERROR}}class _i{constructor(z,we,Te){if(function Ze(Z){return"function"==typeof Z}(z)||null!=we||null!=Te)this.next=z,this.error=we??void 0,this.complete=Te??void 0;else{const _t=z;this.next=_t.next,this.error=_t.error,this.complete=_t.complete}}}function Qt(Z){return(...z)=>{Promise.resolve().then(()=>Z(...z))}}let Qn=null;class mr{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Pn.NO_ERROR,this.sendPromise_=new Promise(z=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Pn.ABORT,z()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Pn.NETWORK_ERROR,z()}),this.xhr_.addEventListener("load",()=>{z()})})}send(z,we,Te,We){if(this.sent_)throw sn("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(we,z,!0),void 0!==We)for(const _t in We)We.hasOwnProperty(_t)&&this.xhr_.setRequestHeader(_t,We[_t].toString());return void 0!==Te?this.xhr_.send(Te):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw sn("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw sn("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw sn("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw sn("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(z){return this.xhr_.getResponseHeader(z)}addUploadProgressListener(z){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",z)}removeUploadProgressListener(z){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",z)}}class Dr extends mr{initXhr(){this.xhr_.responseType="text"}}function Fi(){return Qn?Qn():new Dr}class xe{constructor(z,we,Te=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=z,this._blob=we,this._metadata=Te,this._mappings=Fr(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=We=>{if(this._request=void 0,this._chunkMultiplier=1,We._codeEquals(fe.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const _t=this.isExponentialBackoffExpired();if(_r(We.status,[])){if(!_t)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();We=Tt()}this._error=We,this._transition("error")}},this._metadataErrorHandler=We=>{this._request=void 0,We._codeEquals(fe.CANCELED)?this.completeTransitions_():(this._error=We,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((We,_t)=>{this._resolve=We,this._reject=_t,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const z=this._transferred;return we=>this._updateProgress(z+we)}_shouldDoResumable(z){return z.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(z){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([we,Te])=>{switch(this._state){case"running":z(we,Te);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((z,we)=>{const Te=function gr(Z,z,we,Te,We){const _t=z.bucketOnlyServerUrl(),$t=cn(z,Te,We),tn={name:$t.fullPath},hn=vn(_t,Z.host,Z._protocol),ir={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${Te.size()}`,"X-Goog-Upload-Header-Content-Type":$t.contentType,"Content-Type":"application/json; charset=utf-8"},fi=Ce($t,we),si=new De(hn,"POST",function pi(Sr){let wi;dn(Sr);try{wi=Sr.getResponseHeader("X-Goog-Upload-URL")}catch{he(!1)}return he(Xe(wi)),wi},Z.maxUploadRetryTime);return si.urlParams=tn,si.headers=ir,si.body=fi,si.errorHandler=nt(z),si}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),We=this._ref.storage._makeRequest(Te,Fi,z,we);this._request=We,We.getPromise().then(_t=>{this._request=void 0,this._uploadUrl=_t,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const z=this._uploadUrl;this._resolveToken((we,Te)=>{const We=function lr(Z,z,we,Te){const hn=new De(we,"POST",function _t(Sn){const ir=dn(Sn,["active","final"]);let fi=null;try{fi=Sn.getResponseHeader("X-Goog-Upload-Size-Received")}catch{he(!1)}fi||he(!1);const zr=Number(fi);return he(!isNaN(zr)),new Ln(zr,Te.size(),"final"===ir)},Z.maxUploadRetryTime);return hn.headers={"X-Goog-Upload-Command":"query"},hn.errorHandler=nt(z),hn}(this._ref.storage,this._ref._location,z,this._blob),_t=this._ref.storage._makeRequest(We,Fi,we,Te);this._request=_t,_t.getPromise().then($t=>{this._request=void 0,this._updateProgress($t.current),this._needToFetchStatus=!1,$t.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const z=262144*this._chunkMultiplier,we=new Ln(this._transferred,this._blob.size()),Te=this._uploadUrl;this._resolveToken((We,_t)=>{let $t;try{$t=function Di(Z,z,we,Te,We,_t,$t,tn){const hn=new Ln(0,0);if($t?(hn.current=$t.current,hn.total=$t.total):(hn.current=0,hn.total=Te.size()),Te.size()!==hn.total)throw function ot(){return new pe(fe.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const Sn=hn.total-hn.current;let ir=Sn;We>0&&(ir=Math.min(ir,We));const fi=hn.current;let pi="";pi=0===ir?"finalize":Sn===ir?"upload, finalize":"upload";const si={"X-Goog-Upload-Command":pi,"X-Goog-Upload-Offset":`${hn.current}`},Sr=Te.slice(fi,fi+ir);if(null===Sr)throw et();const bi=new De(we,"POST",function wi(Ii,Ui){const bo=dn(Ii,["active","final"]),Vr=hn.current+ir,qi=Te.size();let Yi;return Yi="final"===bo?_e(z,_t)(Ii,Ui):null,new Ln(Vr,qi,"final"===bo,Yi)},z.maxUploadRetryTime);return bi.headers=si,bi.body=Sr.uploadData(),bi.progressCallback=tn||null,bi.errorHandler=nt(Z),bi}(this._ref._location,this._ref.storage,Te,this._blob,z,this._mappings,we,this._makeProgressCallback())}catch(hn){return this._error=hn,void this._transition("error")}const tn=this._ref.storage._makeRequest($t,Fi,We,_t,!1);this._request=tn,tn.getPromise().then(hn=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(hn.current),hn.finalized?(this._metadata=hn.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((z,we)=>{const Te=un(this._ref.storage,this._ref._location,this._mappings),We=this._ref.storage._makeRequest(Te,Fi,z,we);this._request=We,We.getPromise().then(_t=>{this._request=void 0,this._metadata=_t,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((z,we)=>{const Te=function On(Z,z,we,Te,We){const _t=z.bucketOnlyServerUrl(),$t={"X-Goog-Upload-Protocol":"multipart"},hn=function tn(){let bi="";for(let Ii=0;Ii<2;Ii++)bi+=Math.random().toString().slice(2);return bi}();$t["Content-Type"]="multipart/related; boundary="+hn;const Sn=cn(z,Te,We),ir=Ce(Sn,we),pi=sr.getBlob("--"+hn+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+ir+"\r\n--"+hn+"\r\nContent-Type: "+Sn.contentType+"\r\n\r\n",Te,"\r\n--"+hn+"--");if(null===pi)throw et();const si={name:Sn.fullPath},Sr=vn(_t,Z.host,Z._protocol),Ni=Z.maxUploadRetryTime,Wr=new De(Sr,"POST",_e(Z,we),Ni);return Wr.urlParams=si,Wr.headers=$t,Wr.body=pi.uploadData(),Wr.errorHandler=nt(z),Wr}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),We=this._ref.storage._makeRequest(Te,Fi,z,we);this._request=We,We.getPromise().then(_t=>{this._request=void 0,this._metadata=_t,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(z){const we=this._transferred;this._transferred=z,this._transferred!==we&&this._notifyObservers()}_transition(z){if(this._state!==z)switch(z){case"canceling":case"pausing":this._state=z,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const we="paused"===this._state;this._state=z,we&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=z,this._notifyObservers();break;case"canceled":this._error=Dt(),this._state=z,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const z=Ti(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:z,metadata:this._metadata,task:this,ref:this._ref}}on(z,we,Te,We){const _t=new _i(we||void 0,Te||void 0,We||void 0);return this._addObserver(_t),()=>{this._removeObserver(_t)}}then(z,we){return this._promise.then(z,we)}catch(z){return this.then(null,z)}_addObserver(z){this._observers.push(z),this._notifyObserver(z)}_removeObserver(z){const we=this._observers.indexOf(z);-1!==we&&this._observers.splice(we,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(we=>{this._notifyObserver(we)})}_finishPromise(){if(void 0!==this._resolve){let z=!0;switch(Ti(this._state)){case ki.SUCCESS:Qt(this._resolve.bind(null,this.snapshot))();break;case ki.CANCELED:case ki.ERROR:Qt(this._reject.bind(null,this._error))();break;default:z=!1}z&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(z){switch(Ti(this._state)){case ki.RUNNING:case ki.PAUSED:z.next&&Qt(z.next.bind(z,this.snapshot))();break;case ki.SUCCESS:z.complete&&Qt(z.complete.bind(z))();break;default:z.error&&Qt(z.error.bind(z,this._error))()}}resume(){const z="paused"===this._state||"pausing"===this._state;return z&&this._transition("running"),z}pause(){const z="running"===this._state;return z&&this._transition("pausing"),z}cancel(){const z="running"===this._state||"pausing"===this._state;return z&&this._transition("canceling"),z}}class Pe{constructor(z,we){this._service=z,this._location=we instanceof Vn?we:Vn.makeFromUrl(we,z.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(z,we){return new Pe(z,we)}get root(){const z=new Vn(this._location.bucket,"");return this._newRef(this._service,z)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Nn(this._location.path)}get storage(){return this._service}get parent(){const z=function Fn(Z){if(0===Z.length)return null;const z=Z.lastIndexOf("/");return-1===z?"":Z.slice(0,z)}(this._location.path);if(null===z)return null;const we=new Vn(this._location.bucket,z);return new Pe(this._service,we)}_throwIfRoot(z){if(""===this._location.path)throw Rn(z)}}function Li(Z,z,we){return Vi.apply(this,arguments)}function Vi(){return(Vi=(0,_.Z)(function*(Z,z,we){const We=yield vi(Z,{pageToken:we});z.prefixes.push(...We.prefixes),z.items.push(...We.items),null!=We.nextPageToken&&(yield Li(Z,z,We.nextPageToken))})).apply(this,arguments)}function vi(Z,z){null!=z&&"number"==typeof z.maxResults&&qt("options.maxResults",1,1e3,z.maxResults);const we=z||{},Te=En(Z.storage,Z._location,"/",we.pageToken,we.maxResults);return Z.storage.makeRequestWithTokens(Te,Fi)}function os(Z){Z._throwIfRoot("getDownloadURL");const z=function Oi(Z,z,we){const We=vn(z.fullServerUrl(),Z.host,Z._protocol),$t=Z.maxOperationRetryTime,tn=new De(We,"GET",function Ne(Z,z){return function we(Te,We){const _t=ri(Z,We,z);return he(null!==_t),function li(Z,z,we,Te){const We=ci(z);if(null===We||!Xe(We.downloadTokens))return null;const _t=We.downloadTokens;if(0===_t.length)return null;const $t=encodeURIComponent;return _t.split(",").map(Sn=>{const fi=Z.fullPath;return vn("/b/"+$t(Z.bucket)+"/o/"+$t(fi),we,Te)+zt({alt:"media",token:Sn})})[0]}(_t,We,Z.host,Z._protocol)}}(Z,we),$t);return tn.errorHandler=bt(z),tn}(Z.storage,Z._location,Fr());return Z.storage.makeRequestWithTokens(z,Fi).then(we=>{if(null===we)throw function Be(){return new pe(fe.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return we})}function Ps(Z,z){const we=function Ir(Z,z){const we=z.split("/").filter(Te=>Te.length>0).join("/");return 0===Z.length?we:Z+"/"+we}(Z._location.path,z),Te=new Vn(Z._location.bucket,we);return new Pe(Z.storage,Te)}function zn(Z,z){if(Z instanceof _s){const we=Z;if(null==we._bucket)throw function lt(){return new pe(fe.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Ve+"' property when initializing the app?")}();const Te=new Pe(we,we._bucket);return null!=z?zn(Te,z):Te}return void 0!==z?Ps(Z,z):Z}function ii(Z,z){if(z&&function Tr(Z){return/^[A-Za-z]+:\/\//.test(Z)}(z)){if(Z instanceof _s)return function ur(Z,z){return new Pe(Z,z)}(Z,z);throw en("To use ref(service, url), the first argument must be a Storage instance.")}return zn(Z,z)}function Gr(Z,z){const we=z?.[Ve];return null==we?null:Vn.makeFromBucketSpec(we,Z)}class _s{constructor(z,we,Te,We,_t){this.app=z,this._authProvider=we,this._appCheckProvider=Te,this._url=We,this._firebaseVersion=_t,this._bucket=null,this._host=be,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=We?Vn.makeFromBucketSpec(We,this._host):Gr(this._host,this.app.options)}get host(){return this._host}set host(z){this._host=z,this._bucket=null!=this._url?Vn.makeFromBucketSpec(this._url,z):Gr(z,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(z){qt("time",0,Number.POSITIVE_INFINITY,z),this._maxUploadRetryTime=z}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(z){qt("time",0,Number.POSITIVE_INFINITY,z),this._maxOperationRetryTime=z}_getAuthToken(){var z=this;return(0,_.Z)(function*(){if(z._overrideAuthToken)return z._overrideAuthToken;const we=z._authProvider.getImmediate({optional:!0});if(we){const Te=yield we.getToken();if(null!==Te)return Te.accessToken}return null})()}_getAppCheckToken(){var z=this;return(0,_.Z)(function*(){const we=z._appCheckProvider.getImmediate({optional:!0});return we?(yield we.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(z=>z.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(z){return new Pe(this,z)}_makeRequest(z,we,Te,We,_t=!0){if(this._deleted)return new on(Gt());{const $t=function Tn(Z,z,we,Te,We,_t,$t=!0){const tn=zt(Z.urlParams),hn=Z.url+tn,Sn=Object.assign({},Z.headers);return function cr(Z,z){z&&(Z["X-Firebase-GMPID"]=z)}(Sn,z),function rr(Z,z){null!==z&&z.length>0&&(Z.Authorization="Firebase "+z)}(Sn,we),function Zt(Z,z){Z["X-Firebase-Storage-Version"]="webjs/"+(z??"AppManager")}(Sn,_t),function Or(Z,z){null!==z&&(Z["X-Firebase-AppCheck"]=z)}(Sn,Te),new xn(hn,Z.method,Sn,Z.body,Z.successCodes,Z.additionalRetryCodes,Z.handler,Z.errorHandler,Z.timeout,Z.progressCallback,We,$t)}(z,this._appId,Te,We,we,this._firebaseVersion,_t);return this._requests.add($t),$t.getPromise().then(()=>this._requests.delete($t),()=>this._requests.delete($t)),$t}}makeRequestWithTokens(z,we){var Te=this;return(0,_.Z)(function*(){const[We,_t]=yield Promise.all([Te._getAuthToken(),Te._getAppCheckToken()]);return Te._makeRequest(z,we,We,_t).getPromise()})()}}const Ts="@firebase/storage",Lr="storage";function Us(Z,z,we){return function Kn(Z,z,we){return Z._throwIfRoot("uploadBytesResumable"),new xe(Z,new sr(z),we)}(Z=(0,$.m9)(Z),z,we)}function Ei(Z){return function Ki(Z){Z._throwIfRoot("getMetadata");const z=un(Z.storage,Z._location,Fr());return Z.storage.makeRequestWithTokens(z,Fi)}(Z=(0,$.m9)(Z))}function Ca(Z,z){return function ti(Z,z){Z._throwIfRoot("updateMetadata");const we=function ct(Z,z,we,Te){const _t=vn(z.fullServerUrl(),Z.host,Z._protocol),tn=Ce(we,Te),Sn=Z.maxOperationRetryTime,ir=new De(_t,"PATCH",_e(Z,Te),Sn);return ir.headers={"Content-Type":"application/json; charset=utf-8"},ir.body=tn,ir.errorHandler=bt(z),ir}(Z.storage,Z._location,z,Fr());return Z.storage.makeRequestWithTokens(we,Fi)}(Z=(0,$.m9)(Z),z)}function Ws(Z,z){return vi(Z=(0,$.m9)(Z),z)}function Ks(Z){return function hr(Z){const z={prefixes:[],items:[]};return Li(Z,z).then(()=>z)}(Z=(0,$.m9)(Z))}function ta(Z){return os(Z=(0,$.m9)(Z))}function ro(Z){return function Co(Z){Z._throwIfRoot("deleteObject");const z=function Je(Z,z){const Te=vn(z.fullServerUrl(),Z.host,Z._protocol),tn=new De(Te,"DELETE",function $t(hn,Sn){},Z.maxOperationRetryTime);return tn.successCodes=[200,204],tn.errorHandler=bt(z),tn}(Z.storage,Z._location);return Z.storage.makeRequestWithTokens(z,Fi)}(Z=(0,$.m9)(Z))}function qs(Z,z){return ii(Z=(0,$.m9)(Z),z)}function $i(Z,z){return Ps(Z,z)}function To(Z=(0,X.getApp)(),z){Z=(0,$.m9)(Z);const Te=(0,X._getProvider)(Z,Lr).getImmediate({identifier:z}),We=(0,$.P0)("storage");return We&&jo(Te,...We),Te}function jo(Z,z,we,Te={}){!function Ji(Z,z,we,Te={}){Z.host=`${z}:${we}`,Z._protocol="http";const{mockUserToken:We}=Te;We&&(Z._overrideAuthToken="string"==typeof We?We:(0,$.Sg)(We,Z.app.options.projectId))}(Z,z,we,Te)}function So(Z,{instanceIdentifier:z}){const we=Z.getProvider("app").getImmediate(),Te=Z.getProvider("auth-internal"),We=Z.getProvider("app-check-internal");return new _s(we,Te,We,z,X.SDK_VERSION)}!function Ns(){(0,X._registerComponent)(new Re.wA(Lr,So,"PUBLIC").setMultipleInstances(!0)),(0,X.registerVersion)(Ts,"0.11.2",""),(0,X.registerVersion)(Ts,"0.11.2","esm2017")}()},2090:(rn,it,G)=>{G.d(it,{$s:()=>yi,BH:()=>lt,DV:()=>cr,Dv:()=>Rr,GJ:()=>rr,L:()=>Qe,LL:()=>It,P0:()=>Dt,Pz:()=>ge,Sg:()=>et,UG:()=>re,UI:()=>Tn,US:()=>Ve,Wj:()=>ci,Wl:()=>zt,Yr:()=>on,ZB:()=>Ae,ZR:()=>Xe,aH:()=>Ge,b$:()=>Rn,cI:()=>vn,dS:()=>Ir,eu:()=>Fe,g5:()=>$,gK:()=>Mi,gQ:()=>Zn,h$:()=>Le,hl:()=>ke,hu:()=>X,jU:()=>en,lb:()=>Fn,m9:()=>li,ne:()=>fn,p$:()=>fe,pd:()=>dr,q4:()=>Tt,r3:()=>Zt,ru:()=>Gt,tV:()=>pe,uI:()=>Be,ug:()=>Nn,vZ:()=>Ht,w1:()=>sn,w9:()=>Un,xO:()=>kr,xb:()=>Or,z$:()=>ot,zI:()=>Ze,zd:()=>xr});const _={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},X=function(Ce,Ee){if(!Ce)throw $(Ee)},$=function(Ce){return new Error("Firebase Database ("+_.SDK_VERSION+") INTERNAL ASSERT FAILED: "+Ce)},Re=function(Ce){const Ee=[];let oe=0;for(let ue=0;ue<Ce.length;ue++){let te=Ce.charCodeAt(ue);te<128?Ee[oe++]=te:te<2048?(Ee[oe++]=te>>6|192,Ee[oe++]=63&te|128):55296==(64512&te)&&ue+1<Ce.length&&56320==(64512&Ce.charCodeAt(ue+1))?(te=65536+((1023&te)<<10)+(1023&Ce.charCodeAt(++ue)),Ee[oe++]=te>>18|240,Ee[oe++]=te>>12&63|128,Ee[oe++]=te>>6&63|128,Ee[oe++]=63&te|128):(Ee[oe++]=te>>12|224,Ee[oe++]=te>>6&63|128,Ee[oe++]=63&te|128)}return Ee},Ve={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Ce,Ee){if(!Array.isArray(Ce))throw Error("encodeByteArray takes an array as a parameter");this.init_();const oe=Ee?this.byteToCharMapWebSafe_:this.byteToCharMap_,ue=[];for(let te=0;te<Ce.length;te+=3){const De=Ce[te],he=te+1<Ce.length,_e=he?Ce[te+1]:0,ce=te+2<Ce.length,Ne=ce?Ce[te+2]:0;let un=(15&_e)<<2|Ne>>6,En=63&Ne;ce||(En=64,he||(un=64)),ue.push(oe[De>>2],oe[(3&De)<<4|_e>>4],oe[un],oe[En])}return ue.join("")},encodeString(Ce,Ee){return this.HAS_NATIVE_SUPPORT&&!Ee?btoa(Ce):this.encodeByteArray(Re(Ce),Ee)},decodeString(Ce,Ee){return this.HAS_NATIVE_SUPPORT&&!Ee?atob(Ce):function(Ce){const Ee=[];let oe=0,ue=0;for(;oe<Ce.length;){const te=Ce[oe++];if(te<128)Ee[ue++]=String.fromCharCode(te);else if(te>191&&te<224){const De=Ce[oe++];Ee[ue++]=String.fromCharCode((31&te)<<6|63&De)}else if(te>239&&te<365){const ce=((7&te)<<18|(63&Ce[oe++])<<12|(63&Ce[oe++])<<6|63&Ce[oe++])-65536;Ee[ue++]=String.fromCharCode(55296+(ce>>10)),Ee[ue++]=String.fromCharCode(56320+(1023&ce))}else{const De=Ce[oe++],he=Ce[oe++];Ee[ue++]=String.fromCharCode((15&te)<<12|(63&De)<<6|63&he)}}return Ee.join("")}(this.decodeStringToByteArray(Ce,Ee))},decodeStringToByteArray(Ce,Ee){this.init_();const oe=Ee?this.charToByteMapWebSafe_:this.charToByteMap_,ue=[];for(let te=0;te<Ce.length;){const De=oe[Ce.charAt(te++)],_e=te<Ce.length?oe[Ce.charAt(te)]:0;++te;const Ne=te<Ce.length?oe[Ce.charAt(te)]:64;++te;const bt=te<Ce.length?oe[Ce.charAt(te)]:64;if(++te,null==De||null==_e||null==Ne||null==bt)throw new qe;ue.push(De<<2|_e>>4),64!==Ne&&(ue.push(_e<<4&240|Ne>>2),64!==bt&&ue.push(Ne<<6&192|bt))}return ue},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Ce=0;Ce<this.ENCODED_VALS.length;Ce++)this.byteToCharMap_[Ce]=this.ENCODED_VALS.charAt(Ce),this.charToByteMap_[this.byteToCharMap_[Ce]]=Ce,this.byteToCharMapWebSafe_[Ce]=this.ENCODED_VALS_WEBSAFE.charAt(Ce),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Ce]]=Ce,Ce>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Ce)]=Ce,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Ce)]=Ce)}}};class qe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Le=function(Ce){const Ee=Re(Ce);return Ve.encodeByteArray(Ee,!0)},Qe=function(Ce){return Le(Ce).replace(/\./g,"")},pe=function(Ce){try{return Ve.decodeString(Ce,!0)}catch(Ee){console.error("base64Decode failed: ",Ee)}return null};function fe(Ce){return Ae(void 0,Ce)}function Ae(Ce,Ee){if(!(Ee instanceof Object))return Ee;switch(Ee.constructor){case Date:return new Date(Ee.getTime());case Object:void 0===Ce&&(Ce={});break;case Array:Ce=[];break;default:return Ee}for(const oe in Ee)!Ee.hasOwnProperty(oe)||!ht(oe)||(Ce[oe]=Ae(Ce[oe],Ee[oe]));return Ce}function ht(Ce){return"__proto__"!==Ce}const wt=()=>{try{return function pt(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const Ce=process.env.__FIREBASE_DEFAULTS__;return Ce?JSON.parse(Ce):void 0})()||(()=>{if(typeof document>"u")return;let Ce;try{Ce=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const Ee=Ce&&pe(Ce[1]);return Ee&&JSON.parse(Ee)})()}catch(Ce){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Ce}`)}},Tt=Ce=>{var Ee,oe;return null===(oe=null===(Ee=wt())||void 0===Ee?void 0:Ee.emulatorHosts)||void 0===oe?void 0:oe[Ce]},Dt=Ce=>{const Ee=Tt(Ce);if(!Ee)return;const oe=Ee.lastIndexOf(":");if(oe<=0||oe+1===Ee.length)throw new Error(`Invalid host ${Ee} with no separate hostname and port!`);const ue=parseInt(Ee.substring(oe+1),10);return"["===Ee[0]?[Ee.substring(1,oe-1),ue]:[Ee.substring(0,oe),ue]},Ge=()=>{var Ce;return null===(Ce=wt())||void 0===Ce?void 0:Ce.config},ge=Ce=>{var Ee;return null===(Ee=wt())||void 0===Ee?void 0:Ee[`_${Ce}`]};class lt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Ee,oe)=>{this.resolve=Ee,this.reject=oe})}wrapCallback(Ee){return(oe,ue)=>{oe?this.reject(oe):this.resolve(ue),"function"==typeof Ee&&(this.promise.catch(()=>{}),1===Ee.length?Ee(oe):Ee(oe,ue))}}}function et(Ce,Ee){if(Ce.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const ue=Ee||"demo-project",te=Ce.iat||0,De=Ce.sub||Ce.user_id;if(!De)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const he=Object.assign({iss:`https://securetoken.google.com/${ue}`,aud:ue,iat:te,exp:te+3600,auth_time:te,sub:De,user_id:De,firebase:{sign_in_provider:"custom",identities:{}}},Ce);return[Qe(JSON.stringify({alg:"none",type:"JWT"})),Qe(JSON.stringify(he)),""].join(".")}function ot(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Be(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ot())}function re(){var Ce;const Ee=null===(Ce=wt())||void 0===Ce?void 0:Ce.forceEnvironment;if("node"===Ee)return!0;if("browser"===Ee)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function en(){return"object"==typeof self&&self.self===self}function Gt(){const Ce="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Ce&&void 0!==Ce.id}function Rn(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function sn(){const Ce=ot();return Ce.indexOf("MSIE ")>=0||Ce.indexOf("Trident/")>=0}function on(){return!0===_.NODE_CLIENT||!0===_.NODE_ADMIN}function ke(){try{return"object"==typeof indexedDB}catch{return!1}}function Fe(){return new Promise((Ce,Ee)=>{try{let oe=!0;const ue="validate-browser-context-for-indexeddb-analytics-module",te=self.indexedDB.open(ue);te.onsuccess=()=>{te.result.close(),oe||self.indexedDB.deleteDatabase(ue),Ce(!0)},te.onupgradeneeded=()=>{oe=!1},te.onerror=()=>{var De;Ee((null===(De=te.error)||void 0===De?void 0:De.message)||"")}}catch(oe){Ee(oe)}})}function Ze(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Xe extends Error{constructor(Ee,oe,ue){super(oe),this.code=Ee,this.customData=ue,this.name="FirebaseError",Object.setPrototypeOf(this,Xe.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,It.prototype.create)}}class It{constructor(Ee,oe,ue){this.service=Ee,this.serviceName=oe,this.errors=ue}create(Ee,...oe){const ue=oe[0]||{},te=`${this.service}/${Ee}`,De=this.errors[Ee],he=De?function Ft(Ce,Ee){return Ce.replace(qt,(oe,ue)=>{const te=Ee[ue];return null!=te?String(te):`<${ue}?>`})}(De,ue):"Error";return new Xe(te,`${this.serviceName}: ${he} (${te}).`,ue)}}const qt=/\{\$([^}]+)}/g;function vn(Ce){return JSON.parse(Ce)}function zt(Ce){return JSON.stringify(Ce)}const Pn=function(Ce){let Ee={},oe={},ue={},te="";try{const De=Ce.split(".");Ee=vn(pe(De[0])||""),oe=vn(pe(De[1])||""),te=De[2],ue=oe.d||{},delete oe.d}catch{}return{header:Ee,claims:oe,data:ue,signature:te}},Un=function(Ce){const oe=Pn(Ce).claims;return!!oe&&"object"==typeof oe&&oe.hasOwnProperty("iat")},rr=function(Ce){const Ee=Pn(Ce).claims;return"object"==typeof Ee&&!0===Ee.admin};function Zt(Ce,Ee){return Object.prototype.hasOwnProperty.call(Ce,Ee)}function cr(Ce,Ee){if(Object.prototype.hasOwnProperty.call(Ce,Ee))return Ce[Ee]}function Or(Ce){for(const Ee in Ce)if(Object.prototype.hasOwnProperty.call(Ce,Ee))return!1;return!0}function Tn(Ce,Ee,oe){const ue={};for(const te in Ce)Object.prototype.hasOwnProperty.call(Ce,te)&&(ue[te]=Ee.call(oe,Ce[te],te,Ce));return ue}function Ht(Ce,Ee){if(Ce===Ee)return!0;const oe=Object.keys(Ce),ue=Object.keys(Ee);for(const te of oe){if(!ue.includes(te))return!1;const De=Ce[te],he=Ee[te];if(Bn(De)&&Bn(he)){if(!Ht(De,he))return!1}else if(De!==he)return!1}for(const te of ue)if(!oe.includes(te))return!1;return!0}function Bn(Ce){return null!==Ce&&"object"==typeof Ce}function kr(Ce){const Ee=[];for(const[oe,ue]of Object.entries(Ce))Array.isArray(ue)?ue.forEach(te=>{Ee.push(encodeURIComponent(oe)+"="+encodeURIComponent(te))}):Ee.push(encodeURIComponent(oe)+"="+encodeURIComponent(ue));return Ee.length?"&"+Ee.join("&"):""}function xr(Ce){const Ee={};return Ce.replace(/^\?/,"").split("&").forEach(ue=>{if(ue){const[te,De]=ue.split("=");Ee[decodeURIComponent(te)]=decodeURIComponent(De)}}),Ee}function dr(Ce){const Ee=Ce.indexOf("?");if(!Ee)return"";const oe=Ce.indexOf("#",Ee);return Ce.substring(Ee,oe>0?oe:void 0)}class Zn{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let Ee=1;Ee<this.blockSize;++Ee)this.pad_[Ee]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(Ee,oe){oe||(oe=0);const ue=this.W_;if("string"==typeof Ee)for(let bt=0;bt<16;bt++)ue[bt]=Ee.charCodeAt(oe)<<24|Ee.charCodeAt(oe+1)<<16|Ee.charCodeAt(oe+2)<<8|Ee.charCodeAt(oe+3),oe+=4;else for(let bt=0;bt<16;bt++)ue[bt]=Ee[oe]<<24|Ee[oe+1]<<16|Ee[oe+2]<<8|Ee[oe+3],oe+=4;for(let bt=16;bt<80;bt++){const un=ue[bt-3]^ue[bt-8]^ue[bt-14]^ue[bt-16];ue[bt]=4294967295&(un<<1|un>>>31)}let Ne,nt,te=this.chain_[0],De=this.chain_[1],he=this.chain_[2],_e=this.chain_[3],ce=this.chain_[4];for(let bt=0;bt<80;bt++){bt<40?bt<20?(Ne=_e^De&(he^_e),nt=1518500249):(Ne=De^he^_e,nt=1859775393):bt<60?(Ne=De&he|_e&(De|he),nt=2400959708):(Ne=De^he^_e,nt=3395469782);const un=(te<<5|te>>>27)+Ne+ce+nt+ue[bt]&4294967295;ce=_e,_e=he,he=4294967295&(De<<30|De>>>2),De=te,te=un}this.chain_[0]=this.chain_[0]+te&4294967295,this.chain_[1]=this.chain_[1]+De&4294967295,this.chain_[2]=this.chain_[2]+he&4294967295,this.chain_[3]=this.chain_[3]+_e&4294967295,this.chain_[4]=this.chain_[4]+ce&4294967295}update(Ee,oe){if(null==Ee)return;void 0===oe&&(oe=Ee.length);const ue=oe-this.blockSize;let te=0;const De=this.buf_;let he=this.inbuf_;for(;te<oe;){if(0===he)for(;te<=ue;)this.compress_(Ee,te),te+=this.blockSize;if("string"==typeof Ee){for(;te<oe;)if(De[he]=Ee.charCodeAt(te),++he,++te,he===this.blockSize){this.compress_(De),he=0;break}}else for(;te<oe;)if(De[he]=Ee[te],++he,++te,he===this.blockSize){this.compress_(De),he=0;break}}this.inbuf_=he,this.total_+=oe}digest(){const Ee=[];let oe=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let te=this.blockSize-1;te>=56;te--)this.buf_[te]=255&oe,oe/=256;this.compress_(this.buf_);let ue=0;for(let te=0;te<5;te++)for(let De=24;De>=0;De-=8)Ee[ue]=this.chain_[te]>>De&255,++ue;return Ee}}function fn(Ce,Ee){const oe=new Kt(Ce,Ee);return oe.subscribe.bind(oe)}class Kt{constructor(Ee,oe){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=oe,this.task.then(()=>{Ee(this)}).catch(ue=>{this.error(ue)})}next(Ee){this.forEachObserver(oe=>{oe.next(Ee)})}error(Ee){this.forEachObserver(oe=>{oe.error(Ee)}),this.close(Ee)}complete(){this.forEachObserver(Ee=>{Ee.complete()}),this.close()}subscribe(Ee,oe,ue){let te;if(void 0===Ee&&void 0===oe&&void 0===ue)throw new Error("Missing Observer.");te=function ei(Ce,Ee){if("object"!=typeof Ce||null===Ce)return!1;for(const oe of Ee)if(oe in Ce&&"function"==typeof Ce[oe])return!0;return!1}(Ee,["next","error","complete"])?Ee:{next:Ee,error:oe,complete:ue},void 0===te.next&&(te.next=Zr),void 0===te.error&&(te.error=Zr),void 0===te.complete&&(te.complete=Zr);const De=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?te.error(this.finalError):te.complete()}catch{}}),this.observers.push(te),De}unsubscribeOne(Ee){void 0===this.observers||void 0===this.observers[Ee]||(delete this.observers[Ee],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(Ee){if(!this.finalized)for(let oe=0;oe<this.observers.length;oe++)this.sendOne(oe,Ee)}sendOne(Ee,oe){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[Ee])try{oe(this.observers[Ee])}catch(ue){typeof console<"u"&&console.error&&console.error(ue)}})}close(Ee){this.finalized||(this.finalized=!0,void 0!==Ee&&(this.finalError=Ee),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Zr(){}const Rr=function(Ce,Ee,oe,ue){let te;if(ue<Ee?te="at least "+Ee:ue>oe&&(te=0===oe?"none":"no more than "+oe),te)throw new Error(Ce+" failed: Was called with "+ue+(1===ue?" argument.":" arguments.")+" Expects "+te+".")};function Mi(Ce,Ee){return`${Ce} failed: ${Ee} argument `}function ci(Ce,Ee,oe,ue){if((!ue||oe)&&"function"!=typeof oe)throw new Error(Mi(Ce,Ee)+"must be a valid function.")}function Fn(Ce,Ee,oe,ue){if((!ue||oe)&&("object"!=typeof oe||null===oe))throw new Error(Mi(Ce,Ee)+"must be a valid context object.")}const Ir=function(Ce){const Ee=[];let oe=0;for(let ue=0;ue<Ce.length;ue++){let te=Ce.charCodeAt(ue);if(te>=55296&&te<=56319){const De=te-55296;ue++,X(ue<Ce.length,"Surrogate pair missing trail surrogate."),te=65536+(De<<10)+(Ce.charCodeAt(ue)-56320)}te<128?Ee[oe++]=te:te<2048?(Ee[oe++]=te>>6|192,Ee[oe++]=63&te|128):te<65536?(Ee[oe++]=te>>12|224,Ee[oe++]=te>>6&63|128,Ee[oe++]=63&te|128):(Ee[oe++]=te>>18|240,Ee[oe++]=te>>12&63|128,Ee[oe++]=te>>6&63|128,Ee[oe++]=63&te|128)}return Ee},Nn=function(Ce){let Ee=0;for(let oe=0;oe<Ce.length;oe++){const ue=Ce.charCodeAt(oe);ue<128?Ee++:ue<2048?Ee+=2:ue>=55296&&ue<=56319?(Ee+=4,oe++):Ee+=3}return Ee},Ot=1e3,Mr=2,ni=144e5,Fr=.5;function yi(Ce,Ee=Ot,oe=Mr){const ue=Ee*Math.pow(oe,Ce),te=Math.round(Fr*ue*(Math.random()-.5)*2);return Math.min(ni,ue+te)}function li(Ce){return Ce&&Ce._delegate?Ce._delegate:Ce}},3702:(rn,it,G)=>{G.d(it,{e:()=>qe});var _=G(5861),X=G(7158),$=G(4322),Re=G(7579),be=G(4650),Ve=G(4778);let qe=(()=>{class Le{constructor(pe,fe){this.auth=pe,this.router=fe}emailSignIn(pe,fe){var Ae=this;return(0,_.Z)(function*(){(0,X.e5)(Ae.auth,pe,fe).then(ht=>{Ae.user=ht.user,Ae.gravarUsuario(Ae.user),Ae.router.navigate(["/todoapp"])}).catch(ht=>{Ae.error=ht})})()}googleSignIn(){var pe=this;return(0,_.Z)(function*(){(0,X.rh)(pe.auth,new $.hJ).then(fe=>{pe.user=fe.user,pe.gravarUsuario(pe.user),pe.router.navigate(["/todoapp"])}).catch(fe=>{pe.error=fe})})()}signOut(){var pe=this;return(0,_.Z)(function*(){yield pe.auth.signOut(),pe.router.navigate(["/"]),sessionStorage.clear(),pe.user=null})()}isLogged(){return!!sessionStorage.getItem("user")}gravarUsuario(pe){sessionStorage.setItem("user",JSON.stringify(pe))}getUser(){let pe=new Re.x;return this.auth.onAuthStateChanged(fe=>{fe&&(this.user=fe,pe.next(fe))}),pe.asObservable()}get userLogged(){return this.user}}return Le.\u0275fac=function(pe){return new(pe||Le)(be.LFG(X.gx),be.LFG(Ve.F0))},Le.\u0275prov=be.Yz7({token:Le,factory:Le.\u0275fac,providedIn:"root"}),Le})()},3411:(rn,it,G)=>{var _=G(1481),X=G(4778),$=G(4650),Re=G(3702);let be=(()=>{class n{constructor(t,r){this.authService=t,this.router=r}canActivate(){let t=this.authService.isLogged();return t||this.router.navigate(["/"]),t}}return n.\u0275fac=function(t){return new(t||n)($.LFG(Re.e),$.LFG(X.F0))},n.\u0275prov=$.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Ve=[{path:"todoapp",loadChildren:()=>G.e(357).then(G.bind(G,2357)).then(n=>n.DashboadModule),canActivate:[be]},{path:"",loadChildren:()=>G.e(655).then(G.bind(G,2655)).then(n=>n.LoginModule)},{path:"**",redirectTo:"/"}];let qe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=$.oAB({type:n}),n.\u0275inj=$.cJS({imports:[X.Bz.forRoot(Ve),X.Bz]}),n})(),Le=(()=>{class n{constructor(){this.title="task-angular"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=$.Xpm({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(t,r){1&t&&$._UZ(0,"router-outlet")},dependencies:[X.lC]}),n})();var ge,Qe=G(433),pe=G(3692),fe=G(4976),Ae=G(7158),ht=G(259),pt=G(2313),At=G(5861),jt=G(6881),at=G(4859),wt=G(1877),Tt=G(2090),Dt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ge={},lt=lt||{},et=Dt||self;function ot(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Be(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var en="closure_uid_"+(1e9*Math.random()>>>0),Gt=0;function Rn(n,e,t){return n.call.apply(n.bind,arguments)}function Ut(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var a=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(a,r),n.apply(e,a)}}return function(){return n.apply(e,arguments)}}function sn(n,e,t){return(sn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Rn:Ut).apply(null,arguments)}function Vn(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function on(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(r,a,d){for(var p=Array(arguments.length-2),w=2;w<arguments.length;w++)p[w-2]=arguments[w];return e.prototype[a].apply(r,p)}}function Gn(){this.s=this.s,this.o=this.o}Gn.prototype.s=!1,Gn.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function re(n){Object.prototype.hasOwnProperty.call(n,en)&&n[en]||(n[en]=++Gt)}(this)},Gn.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Fe=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function Ze(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function Me(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(ot(r)){const a=n.length||0,d=r.length||0;n.length=a+d;for(let p=0;p<d;p++)n[a+p]=r[p]}else n.push(r)}}function Xe(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Xe.prototype.h=function(){this.defaultPrevented=!0};var It=function(){if(!et.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{et.addEventListener("test",()=>{},e),et.removeEventListener("test",()=>{},e)}catch{}return n}();function Ft(n){return/^[\s\xa0]*$/.test(n)}function qt(){var n=et.navigator;return n&&(n=n.userAgent)?n:""}function vn(n){return-1!=qt().indexOf(n)}function zt(n){return zt[" "](n),n}zt[" "]=function(){};var Tn,n,_r=vn("Opera"),xn=vn("Trident")||vn("MSIE"),Un=vn("Edge"),rr=Un||xn,Zt=vn("Gecko")&&!(-1!=qt().toLowerCase().indexOf("webkit")&&!vn("Edge"))&&!(vn("Trident")||vn("MSIE"))&&!vn("Edge"),cr=-1!=qt().toLowerCase().indexOf("webkit")&&!vn("Edge");function Or(){var n=et.document;return n?n.documentMode:void 0}e:{var Ht="",Bn=(n=qt(),Zt?/rv:([^\);]+)(\)|;)/.exec(n):Un?/Edge\/([\d\.]+)/.exec(n):xn?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):cr?/WebKit\/(\S+)/.exec(n):_r?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Bn&&(Ht=Bn?Bn[1]:""),xn){var ar=Or();if(null!=ar&&ar>parseFloat(Ht)){Tn=String(ar);break e}}Tn=Ht}var dr=et.document&&xn&&(Or()||parseInt(Tn,10))||void 0;function Zn(n,e){if(Xe.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(Zt){e:{try{zt(e.nodeName);var a=!0;break e}catch{}a=!1}a||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:fn[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Zn.$.h.call(this)}}on(Zn,Xe);var fn={2:"touch",3:"pen",4:"mouse"};Zn.prototype.h=function(){Zn.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Kt="closure_listenable_"+(1e6*Math.random()|0),mn=0;function ei(n,e,t,r,a){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=a,this.key=++mn,this.fa=this.ia=!1}function Zr(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function Rr(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function sr(n){const e={};for(const t in n)e[t]=n[t];return e}const ci="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Fn(n,e){let t,r;for(let a=1;a<arguments.length;a++){for(t in r=arguments[a],r)n[t]=r[t];for(let d=0;d<ci.length;d++)t=ci[d],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function Ir(n){this.src=n,this.g={},this.h=0}function Nn(n,e){var t=e.type;if(t in n.g){var d,r=n.g[t],a=Fe(r,e);(d=0<=a)&&Array.prototype.splice.call(r,a,1),d&&(Zr(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Cr(n,e,t,r){for(var a=0;a<n.length;++a){var d=n[a];if(!d.fa&&d.listener==e&&d.capture==!!t&&d.la==r)return a}return-1}Ir.prototype.add=function(n,e,t,r,a){var d=n.toString();(n=this.g[d])||(n=this.g[d]=[],this.h++);var p=Cr(n,e,r,a);return-1<p?(e=n[p],t||(e.ia=!1)):((e=new ei(e,this.src,d,!!r,a)).ia=t,n.push(e)),e};var Ot="closure_lm_"+(1e6*Math.random()|0),Mr={};function ni(n,e,t,r,a){if(r&&r.once)return di(n,e,t,r,a);if(Array.isArray(e)){for(var d=0;d<e.length;d++)ni(n,e[d],t,r,a);return null}return t=te(t),n&&n[Kt]?n.O(e,t,Be(r)?!!r.capture:!!r,a):Fr(n,e,t,!1,r,a)}function Fr(n,e,t,r,a,d){if(!e)throw Error("Invalid event type");var p=Be(a)?!!a.capture:!!a,w=oe(n);if(w||(n[Ot]=w=new Ir(n)),(t=w.add(e,t,r,p,d)).proxy)return t;if(r=function yi(){const e=Ee;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)It||(a=p),void 0===a&&(a=!1),n.addEventListener(e.toString(),r,a);else if(n.attachEvent)n.attachEvent(Ce(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function di(n,e,t,r,a){if(Array.isArray(e)){for(var d=0;d<e.length;d++)di(n,e[d],t,r,a);return null}return t=te(t),n&&n[Kt]?n.P(e,t,Be(r)?!!r.capture:!!r,a):Fr(n,e,t,!0,r,a)}function ri(n,e,t,r,a){if(Array.isArray(e))for(var d=0;d<e.length;d++)ri(n,e[d],t,r,a);else r=Be(r)?!!r.capture:!!r,t=te(t),n&&n[Kt]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Cr(d=n.g[e],t,r,a))&&(Zr(d[t]),Array.prototype.splice.call(d,t,1),0==d.length&&(delete n.g[e],n.h--))):n&&(n=oe(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Cr(e,t,r,a)),(t=-1<n?e[n]:null)&&li(t))}function li(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[Kt])Nn(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(Ce(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=oe(e))?(Nn(t,n),0==t.h&&(t.src=null,e[Ot]=null)):Zr(n)}}}function Ce(n){return n in Mr?Mr[n]:Mr[n]="on"+n}function Ee(n,e){if(n.fa)n=!0;else{e=new Zn(e,this);var t=n.listener,r=n.la||n.src;n.ia&&li(n),n=t.call(r,e)}return n}function oe(n){return(n=n[Ot])instanceof Ir?n:null}var ue="__closure_events_fn_"+(1e9*Math.random()>>>0);function te(n){return"function"==typeof n?n:(n[ue]||(n[ue]=function(e){return n.handleEvent(e)}),n[ue])}function De(){Gn.call(this),this.i=new Ir(this),this.S=this,this.J=null}function he(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,"string"==typeof e)e=new Xe(e,n);else if(e instanceof Xe)e.target=e.target||n;else{var a=e;Fn(e=new Xe(r,n),a)}if(a=!0,t)for(var d=t.length-1;0<=d;d--){var p=e.g=t[d];a=_e(p,r,!0,e)&&a}if(a=_e(p=e.g=n,r,!0,e)&&a,a=_e(p,r,!1,e)&&a,t)for(d=0;d<t.length;d++)a=_e(p=e.g=t[d],r,!1,e)&&a}function _e(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var a=!0,d=0;d<e.length;++d){var p=e[d];if(p&&!p.fa&&p.capture==t){var w=p.listener,M=p.la||p.src;p.ia&&Nn(n.i,p),a=!1!==w.call(M,r)&&a}}return a&&!r.defaultPrevented}on(De,Gn),De.prototype[Kt]=!0,De.prototype.removeEventListener=function(n,e,t,r){ri(this,n,e,t,r)},De.prototype.N=function(){if(De.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)Zr(t[r]);delete n.g[e],n.h--}}this.J=null},De.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},De.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var ce=et.JSON.stringify;function nt(){var n=Pt;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var un=new class Ne{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new En,n=>n.reset());class En{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Pr(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function Oi(n){et.setTimeout(()=>{throw n},0)}let ct,Je=!1,Pt=new class bt{constructor(){this.h=this.g=null}add(e,t){const r=un.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}},cn=()=>{const n=et.Promise.resolve(void 0);ct=()=>{n.then(On)}};var On=()=>{for(var n;n=nt();){try{n.h.call(n.g)}catch(t){Oi(t)}var e=un;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Je=!1};function Ln(n,e){De.call(this),this.h=n||1,this.g=e||et,this.j=sn(this.qb,this),this.l=Date.now()}function dn(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function gr(n,e,t){if("function"==typeof n)t&&(n=sn(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=sn(n.handleEvent,n)}return 2147483647<Number(e)?-1:et.setTimeout(n,e||0)}function lr(n){n.g=gr(()=>{n.g=null,n.i&&(n.i=!1,lr(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}on(Ln,De),(ge=Ln.prototype).ga=!1,ge.T=null,ge.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),he(this,"tick"),this.ga&&(dn(this),this.start()))}},ge.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ge.N=function(){Ln.$.N.call(this),dn(this),delete this.g};class Pi extends Gn{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:lr(this)}N(){super.N(),this.g&&(et.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Di(n){Gn.call(this),this.h=n,this.g={}}on(Di,Gn);var Vs=[];function ki(n,e,t,r){Array.isArray(t)||(t&&(Vs[0]=t.toString()),t=Vs);for(var a=0;a<t.length;a++){var d=ni(e,t[a],r||n.handleEvent,!1,n.h||n);if(!d)break;n.g[d.key]=d}}function Ti(n){Rr(n.g,function(e,t){this.g.hasOwnProperty(t)&&li(e)},n),n.g={}}function _i(){this.g=!0}function mr(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Fi(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var a=r[1];if(Array.isArray(a)&&!(1>a.length)){var d=a[0];if("noop"!=d&&"stop"!=d&&"close"!=d)for(var p=1;p<a.length;p++)a[p]=""}}}return ce(t)}catch{return e}}(n,t)+(r?" "+r:"")})}Di.prototype.N=function(){Di.$.N.call(this),Ti(this)},Di.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},_i.prototype.Ea=function(){this.g=!1},_i.prototype.info=function(){};var hi={},to=null;function Qr(){return to=to||new De}function $e(n){Xe.call(this,hi.Ta,n)}function xe(n){const e=Qr();he(e,new $e(e))}function Pe(n,e){Xe.call(this,hi.STAT_EVENT,n),this.stat=e}function ft(n){const e=Qr();he(e,new Pe(e,n))}function Nt(n,e){Xe.call(this,hi.Ua,n),this.size=e}function An(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return et.setTimeout(function(){n()},e)}hi.Ta="serverreachability",on($e,Xe),hi.STAT_EVENT="statevent",on(Pe,Xe),hi.Ua="timingevent",on(Nt,Xe);var Kn={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},wn={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function hr(){}function Vi(){}hr.prototype.h=null;var os,vi={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Ki(){Xe.call(this,"d")}function ti(){Xe.call(this,"c")}function Co(){}function Ps(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new Di(this),this.P=ur,this.V=new Ln(n=rr?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Tr}function Tr(){this.i=null,this.g="",this.h=!1}on(Ki,Xe),on(ti,Xe),on(Co,hr),Co.prototype.g=function(){return new XMLHttpRequest},Co.prototype.i=function(){return{}},os=new Co;var ur=45e3,zn={},ii={};function Gr(n,e,t){n.L=1,n.v=So($i(e)),n.s=t,n.S=!0,Ji(n,null)}function Ji(n,e){n.G=Date.now(),Lr(n),n.A=$i(n.v);var t=n.A,r=n.W;Array.isArray(r)||(r=[String(r)]),fi(t.i,"t",r),n.C=0,t=n.l.J,n.h=new Tr,n.g=Bs(n.l,t?e:null,!n.s),0<n.O&&(n.M=new Pi(sn(n.Pa,n,n.g),n.O)),ki(n.U,n.g,"readystatechange",n.nb),e=n.I?sr(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),xe(),function Qt(n,e,t,r,a,d){n.info(function(){if(n.g)if(d)for(var p="",w=d.split("&"),M=0;M<w.length;M++){var B=w[M].split("=");if(1<B.length){var Q=B[0];B=B[1];var de=Q.split("_");p=2<=de.length&&"type"==de[1]?p+(Q+"=")+B+"&":p+(Q+"=redacted&")}}else p=null;else p=d;return"XMLHTTP REQ ("+r+") [attempt "+a+"]: "+e+"\n"+t+"\n"+p})}(n.j,n.u,n.A,n.m,n.W,n.s)}function _s(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function Ts(n,e,t){let a,r=!0;for(;!n.J&&n.C<t.length;){if(a=Do(n,t),a==ii){4==e&&(n.o=4,ft(14),r=!1),mr(n.j,n.m,null,"[Incomplete Response]");break}if(a==zn){n.o=4,ft(15),mr(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}mr(n.j,n.m,a,null),Ei(n,a)}_s(n)&&a!=ii&&a!=zn&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,ft(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),ml(e),e.M=!0,ft(11))):(mr(n.j,n.m,t,"[Invalid Chunked Response]"),Us(n),no(n))}function Do(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?ii:(t=Number(e.substring(t,r)),isNaN(t)?zn:(r+=1)+t>e.length?ii:(e=e.slice(r,r+t),n.C=r+t,e))}function Lr(n){n.Y=Date.now()+n.P,$n(n,n.P)}function $n(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=An(sn(n.lb,n),e)}function Si(n){n.B&&(et.clearTimeout(n.B),n.B=null)}function no(n){0==n.l.H||n.J||ha(n.l,n)}function Us(n){Si(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,dn(n.V),Ti(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function Ei(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||bi(t.i,n)))if(!n.K&&bi(t.i,n)&&3==t.H){try{var r=t.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var a=r;if(0==a[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;Sa(t),Es(t)}sa(t),ft(18)}}else t.Fa=a[1],0<t.Fa-t.V&&37500>a[2]&&t.G&&0==t.A&&!t.v&&(t.v=An(sn(t.ib,t),6e3));if(1>=Wr(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else go(t,11)}else if((n.K||t.g==n)&&Sa(t),!Ft(e))for(a=t.Ja.g.parse(e),e=0;e<a.length;e++){let B=a[e];if(t.V=B[0],B=B[1],2==t.H)if("c"==B[0]){t.K=B[1],t.pa=B[2];const Q=B[3];null!=Q&&(t.ra=Q,t.l.info("VER="+t.ra));const de=B[4];null!=de&&(t.Ga=de,t.l.info("SVER="+t.Ga));const Ue=B[5];null!=Ue&&"number"==typeof Ue&&0<Ue&&(t.L=r=1.5*Ue,t.l.info("backChannelRequestTimeoutMs_="+r)),r=t;const tt=n.g;if(tt){const vt=tt.g?tt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(vt){var d=r.i;d.g||-1==vt.indexOf("spdy")&&-1==vt.indexOf("quic")&&-1==vt.indexOf("h2")||(d.j=d.l,d.g=new Set,d.h&&(Ii(d,d.h),d.h=null))}if(r.F){const xt=tt.g?tt.g.getResponseHeader("X-HTTP-Session-Id"):null;xt&&(r.Da=xt,Xr(r.I,r.F,xt))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var p=n;if((r=t).wa=ba(r,r.J?r.pa:null,r.Y),p.K){Ui(r.i,p);var w=p,M=r.L;M&&w.setTimeout(M),w.B&&(Si(w),Lr(w)),r.g=p}else Mo(r);0<t.j.length&&as(t)}else"stop"!=B[0]&&"close"!=B[0]||go(t,7);else 3==t.H&&("stop"==B[0]||"close"==B[0]?"stop"==B[0]?go(t,7):bs(t):"noop"!=B[0]&&t.h&&t.h.Aa(B),t.A=0)}xe()}catch{}}function Ks(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(ot(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function Ws(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(ot(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function Ca(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(ot(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),a=r.length,d=0;d<a;d++)e.call(void 0,r[d],t&&t[d],n)}(ge=Ps.prototype).setTimeout=function(n){this.P=n},ge.nb=function(n){n=n.target;const e=this.M;e&&3==Ye(n)?e.l():this.Pa(n)},ge.Pa=function(n){try{if(n==this.g)e:{const Q=Ye(this.g);var e=this.g.Ia();if(this.g.da(),!(3>Q)&&(3!=Q||rr||this.g&&(this.h.h||this.g.ja()||pn(this.g)))){this.J||4!=Q||7==e||xe(),Si(this);var t=this.g.da();this.ca=t;t:if(_s(this)){var r=pn(this.g);n="";var a=r.length,d=4==Ye(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Us(this),no(this);var p="";break t}this.h.i=new et.TextDecoder}for(e=0;e<a;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:d&&e==a-1});r.splice(0,a),this.h.g+=n,this.C=0,p=this.h.g}else p=this.g.ja();if(this.i=200==t,function Qn(n,e,t,r,a,d,p){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+a+"]: "+e+"\n"+t+"\n"+d+" "+p})}(this.j,this.u,this.A,this.m,this.W,Q,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var w,M=this.g;if((w=M.g?M.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ft(w)){var B=w;break t}}B=null}if(!(t=B)){this.i=!1,this.o=3,ft(12),Us(this),no(this);break e}mr(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ei(this,t)}this.S?(Ts(this,Q,p),rr&&this.i&&3==Q&&(ki(this.U,this.V,"tick",this.mb),this.V.start())):(mr(this.j,this.m,p,null),Ei(this,p)),4==Q&&Us(this),this.i&&!this.J&&(4==Q?ha(this.l,this):(this.i=!1,Lr(this)))}else(function Kr(n){const e={};n=(n.g&&2<=Ye(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<n.length;r++){if(Ft(n[r]))continue;var t=Pr(n[r]);const a=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const d=e[a]||[];e[a]=d,d.push(t)}!function Mi(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(r){return r.join(", ")})})(this.g),400==t&&0<p.indexOf("Unknown SID")?(this.o=3,ft(12)):(this.o=0,ft(13)),Us(this),no(this)}}}catch{}},ge.mb=function(){if(this.g){var n=Ye(this.g),e=this.g.ja();this.C<e.length&&(Si(this),Ts(this,n,e),this.i&&4!=n&&Lr(this))}},ge.cancel=function(){this.J=!0,Us(this)},ge.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function Dr(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(xe(),ft(17)),Us(this),this.o=2,no(this)):$n(this,this.Y-n)};var ta=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function qs(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof qs){this.h=n.h,To(this,n.j),this.s=n.s,this.g=n.g,jo(this,n.m),this.l=n.l;var e=n.i,t=new tn;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),Ss(this,t),this.o=n.o}else n&&(e=String(n).match(ta))?(this.h=!1,To(this,e[1]||"",!0),this.s=Ns(e[2]||""),this.g=Ns(e[3]||"",!0),jo(this,e[4]),this.l=Ns(e[5]||"",!0),Ss(this,e[6]||"",!0),this.o=Ns(e[7]||"")):(this.h=!1,this.i=new tn(null,this.h))}function $i(n){return new qs(n)}function To(n,e,t){n.j=t?Ns(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function jo(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function Ss(n,e,t){e instanceof tn?(n.i=e,function pi(n,e){e&&!n.j&&(hn(n),n.i=null,n.g.forEach(function(t,r){var a=r.toLowerCase();r!=a&&(Sn(this,r),fi(this,a,t))},n)),n.j=e}(n.i,n.h)):(t||(e=Z(e,_t)),n.i=new tn(e,n.h))}function Xr(n,e,t){n.i.set(e,t)}function So(n){return Xr(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Ns(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Z(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,z),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function z(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}qs.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Z(e,we,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Z(e,we,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(Z(t,"/"==t.charAt(0)?We:Te,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Z(t,$t)),n.join("")};var we=/[#\/\?@]/g,Te=/[#\?:]/g,We=/[#\?]/g,_t=/[#\?@]/g,$t=/#/g;function tn(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function hn(n){n.g||(n.g=new Map,n.h=0,n.i&&function ro(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),a=null;if(0<=r){var d=n[t].substring(0,r);a=n[t].substring(r+1)}else d=n[t];e(d,a?decodeURIComponent(a.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Sn(n,e){hn(n),e=zr(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function ir(n,e){return hn(n),e=zr(n,e),n.g.has(e)}function fi(n,e,t){Sn(n,e),0<t.length&&(n.i=null,n.g.set(zr(n,e),Ze(t)),n.h+=t.length)}function zr(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function Sr(n){this.l=n||wi,n=et.PerformanceNavigationTiming?0<(n=et.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(et.g&&et.g.Ka&&et.g.Ka()&&et.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(ge=tn.prototype).add=function(n,e){hn(this),this.i=null,n=zr(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},ge.forEach=function(n,e){hn(this),this.g.forEach(function(t,r){t.forEach(function(a){n.call(e,a,r,this)},this)},this)},ge.ta=function(){hn(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const a=n[r];for(let d=0;d<a.length;d++)t.push(e[r])}return t},ge.Z=function(n){hn(this);let e=[];if("string"==typeof n)ir(this,n)&&(e=e.concat(this.g.get(zr(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},ge.set=function(n,e){return hn(this),this.i=null,ir(this,n=zr(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},ge.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},ge.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const d=encodeURIComponent(String(r)),p=this.Z(r);for(r=0;r<p.length;r++){var a=d;""!==p[r]&&(a+="="+encodeURIComponent(String(p[r]))),n.push(a)}}return this.i=n.join("&")};var wi=10;function Ni(n){return!!n.h||!!n.g&&n.g.size>=n.j}function Wr(n){return n.h?1:n.g?n.g.size:0}function bi(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function Ii(n,e){n.g?n.g.add(e):n.h=e}function Ui(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function bo(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return Ze(n.i)}Sr.prototype.cancel=function(){if(this.i=bo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var Vr=class{stringify(n){return et.JSON.stringify(n,void 0)}parse(n){return et.JSON.parse(n,void 0)}};function qi(){this.g=new Vr}function Yi(n,e,t){const r=t||"";try{Ks(n,function(a,d){let p=a;Be(a)&&(p=ce(a)),e.push(r+d+"="+encodeURIComponent(p))})}catch(a){throw e.push(r+"type="+encodeURIComponent("_badmap")),a}}function xs(n,e,t,r,a){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,a(r)}catch{}}function es(n){this.l=n.fc||null,this.j=n.ob||!1}function ts(n,e){De.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=vs,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}on(es,hr),es.prototype.g=function(){return new ts(this.l,this.j)},es.prototype.i=function(n){return function(){return n}}({}),on(ts,De);var vs=0;function qn(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function Yn(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Ys(n)}function Ys(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(ge=ts.prototype).open=function(n,e){if(this.readyState!=vs)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Ys(this)},ge.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||et).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},ge.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Yn(this)),this.readyState=vs},ge.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Ys(this)),this.g&&(this.readyState=3,Ys(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof et.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;qn(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},ge.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Yn(this):Ys(this),3==this.readyState&&qn(this)}},ge.Za=function(n){this.g&&(this.response=this.responseText=n,Yn(this))},ge.Ya=function(n){this.g&&(this.response=n,Yn(this))},ge.ka=function(){this.g&&Yn(this)},ge.setRequestHeader=function(n,e){this.v.append(n,e)},ge.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},ge.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(ts.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var Da=et.JSON.parse;function tr(n){De.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Ta,this.L=this.M=!1}on(tr,De);var Ta="",na=/^https?$/i,ra=["POST","PUT"];function da(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,x(n),L(n)}function x(n){n.F||(n.F=!0,he(n,"complete"),he(n,"error"))}function U(n){if(n.h&&typeof lt<"u"&&(!n.C[1]||4!=Ye(n)||2!=n.da()))if(n.v&&4==Ye(n))gr(n.La,0,n);else if(he(n,"readystatechange"),4==Ye(n)){n.h=!1;try{const p=n.da();e:switch(p){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===p){var a=String(n.I).match(ta)[1]||null;!a&&et.self&&et.self.location&&(a=et.self.location.protocol.slice(0,-1)),r=!na.test(a?a.toLowerCase():"")}t=r}if(t)he(n,"complete"),he(n,"success");else{n.m=6;try{var d=2<Ye(n)?n.g.statusText:""}catch{d=""}n.j=d+" ["+n.da()+"]",x(n)}}finally{L(n)}}}function L(n,e){if(n.g){ie(n);const t=n.g,r=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||he(n,"ready");try{t.onreadystatechange=r}catch{}}}function ie(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(et.clearTimeout(n.A),n.A=null)}function Ye(n){return n.g?n.g.readyState:0}function pn(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case Ta:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function xi(n){let e="";return Rr(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function io(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=xi(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Xr(n,e,t))}function so(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function po(n){this.Ga=0,this.j=[],this.l=new _i,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=so("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=so("baseRetryDelayMs",5e3,n),this.hb=so("retryDelaySeedMs",1e4,n),this.eb=so("forwardChannelMaxRetries",2,n),this.xa=so("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new Sr(n&&n.concurrentRequestLimit),this.Ja=new qi,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function bs(n){if(ws(n),3==n.H){var e=n.W++,t=$i(n.I);if(Xr(t,"SID",n.K),Xr(t,"RID",e),Xr(t,"TYPE","terminate"),As(n,t),(e=new Ps(n,n.l,e)).L=2,e.v=So($i(t)),t=!1,et.navigator&&et.navigator.sendBeacon)try{t=et.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&et.Image&&((new Image).src=e.v,t=!0),t||(e.g=Bs(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Lr(e)}La(n)}function Es(n){n.g&&(ml(n),n.g.cancel(),n.g=null)}function ws(n){Es(n),n.u&&(et.clearTimeout(n.u),n.u=null),Sa(n),n.i.cancel(),n.m&&("number"==typeof n.m&&et.clearTimeout(n.m),n.m=null)}function as(n){if(!Ni(n.i)&&!n.m){n.m=!0;var e=n.Na;ct||cn(),Je||(ct(),Je=!0),Pt.add(e,n),n.C=0}}function Ro(n,e){var t;t=e?e.m:n.W++;const r=$i(n.I);Xr(r,"SID",n.K),Xr(r,"RID",t),Xr(r,"AID",n.V),As(n,r),n.o&&n.s&&io(r,n.o,n.s),t=new Ps(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=Nl(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),Ii(n.i,t),Gr(t,r,e)}function As(n,e){n.na&&Rr(n.na,function(t,r){Xr(e,r,t)}),n.h&&Ks({},function(t,r){Xr(e,r,t)})}function Nl(n,e,t){t=Math.min(n.j.length,t);var r=n.h?sn(n.h.Va,n.h,n):null;e:{var a=n.j;let d=-1;for(;;){const p=["count="+t];-1==d?0<t?(d=a[0].g,p.push("ofs="+d)):d=0:p.push("ofs="+d);let w=!0;for(let M=0;M<t;M++){let B=a[M].g;const Q=a[M].map;if(B-=d,0>B)d=Math.max(0,a[M].g-100),w=!1;else try{Yi(Q,p,"req"+B+"_")}catch{r&&r(Q)}}if(w){r=p.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,r}function Mo(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;ct||cn(),Je||(ct(),Je=!0),Pt.add(e,n),n.A=0}}function sa(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=An(sn(n.Ma,n),tl(n,n.A)),n.A++,0))}function ml(n){null!=n.B&&(et.clearTimeout(n.B),n.B=null)}function ji(n){n.g=new Ps(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=$i(n.wa);Xr(e,"RID","rpc"),Xr(e,"SID",n.K),Xr(e,"AID",n.V),Xr(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&Xr(e,"TO",n.qa),Xr(e,"TYPE","xmlhttp"),As(n,e),n.o&&n.s&&io(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=So($i(e)),t.s=null,t.S=!0,Ji(t,n)}function Sa(n){null!=n.v&&(et.clearTimeout(n.v),n.v=null)}function ha(n,e){var t=null;if(n.g==e){Sa(n),ml(n),n.g=null;var r=2}else{if(!bi(n.i,e))return;t=e.F,Ui(n.i,e),r=1}if(0!=n.H)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.G;var a=n.C;he(r=Qr(),new Nt(r,t)),as(n)}else Mo(n);else if(3==(a=e.o)||0==a&&0<e.ca||!(1==r&&function ia(n,e){return!(Wr(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=An(sn(n.Na,n,e),tl(n,n.C)),n.C++,0)))}(n,e)||2==r&&sa(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),a){case 1:go(n,5);break;case 4:go(n,10);break;case 3:go(n,6);break;default:go(n,2)}}function tl(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function go(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var r=sn(n.pb,n);t||(t=new qs("//www.google.com/images/cleardot.gif"),et.location&&"http"==et.location.protocol||To(t,"https"),So(t)),function Ao(n,e){const t=new _i;if(et.Image){const r=new Image;r.onload=Vn(xs,t,r,"TestLoadImage: loaded",!0,e),r.onerror=Vn(xs,t,r,"TestLoadImage: error",!1,e),r.onabort=Vn(xs,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=Vn(xs,t,r,"TestLoadImage: timeout",!1,e),et.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else ft(2);n.H=0,n.h&&n.h.za(e),La(n),ws(n)}function La(n){if(n.H=0,n.ma=[],n.h){const e=bo(n.i);(0!=e.length||0!=n.j.length)&&(Me(n.ma,e),Me(n.ma,n.j),n.i.i.length=0,Ze(n.j),n.j.length=0),n.h.ya()}}function ba(n,e,t){var r=t instanceof qs?$i(t):new qs(t);if(""!=r.g)e&&(r.g=e+"."+r.g),jo(r,r.m);else{var a=et.location;r=a.protocol,e=e?e+"."+a.hostname:a.hostname,a=+a.port;var d=new qs(null);r&&To(d,r),e&&(d.g=e),a&&jo(d,a),t&&(d.l=t),r=d}return e=n.Da,(t=n.F)&&e&&Xr(r,t,e),Xr(r,"VER",n.ra),As(n,r),r}function Bs(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new tr(t&&n.Ha&&!n.va?new es({ob:!0}):n.va)).Oa(n.J),e}function fa(){}function pa(){if(xn&&!(10<=Number(dr)))throw Error("Environmental error: no available transport.")}function rs(n,e){De.call(this),this.g=new po(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!Ft(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ft(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Os(this)}function Aa(n){Ki.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function oa(){ti.call(this),this.status=1}function Os(n){this.g=n}function Ai(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function gi(n,e,t){t||(t=0);var r=Array(16);if("string"==typeof e)for(var a=0;16>a;++a)r[a]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(a=0;16>a;++a)r[a]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var d=n.g[3],p=(e=n.g[0])+(d^(t=n.g[1])&((a=n.g[2])^d))+r[0]+3614090360&4294967295;p=(t=(a=(d=(e=(t=(a=(d=(e=(t=(a=(d=(e=(t=(a=(d=(e=(t=(a=(d=(e=(t=(a=(d=(e=(t=(a=(d=(e=(t=(a=(d=(e=(t=(a=(d=(e=(t=(a=(d=(e=(t=(a=(d=(e=(t=(a=(d=(e=(t=(a=(d=(e=(t=(a=(d=(e=(t=(a=(d=(e=t+(p<<7&4294967295|p>>>25))+((p=d+(a^e&(t^a))+r[1]+3905402710&4294967295)<<12&4294967295|p>>>20))+((p=a+(t^d&(e^t))+r[2]+606105819&4294967295)<<17&4294967295|p>>>15))+((p=t+(e^a&(d^e))+r[3]+3250441966&4294967295)<<22&4294967295|p>>>10))+((p=e+(d^t&(a^d))+r[4]+4118548399&4294967295)<<7&4294967295|p>>>25))+((p=d+(a^e&(t^a))+r[5]+1200080426&4294967295)<<12&4294967295|p>>>20))+((p=a+(t^d&(e^t))+r[6]+2821735955&4294967295)<<17&4294967295|p>>>15))+((p=t+(e^a&(d^e))+r[7]+4249261313&4294967295)<<22&4294967295|p>>>10))+((p=e+(d^t&(a^d))+r[8]+1770035416&4294967295)<<7&4294967295|p>>>25))+((p=d+(a^e&(t^a))+r[9]+2336552879&4294967295)<<12&4294967295|p>>>20))+((p=a+(t^d&(e^t))+r[10]+4294925233&4294967295)<<17&4294967295|p>>>15))+((p=t+(e^a&(d^e))+r[11]+2304563134&4294967295)<<22&4294967295|p>>>10))+((p=e+(d^t&(a^d))+r[12]+1804603682&4294967295)<<7&4294967295|p>>>25))+((p=d+(a^e&(t^a))+r[13]+4254626195&4294967295)<<12&4294967295|p>>>20))+((p=a+(t^d&(e^t))+r[14]+2792965006&4294967295)<<17&4294967295|p>>>15))+((p=t+(e^a&(d^e))+r[15]+1236535329&4294967295)<<22&4294967295|p>>>10))+((p=e+(a^d&(t^a))+r[1]+4129170786&4294967295)<<5&4294967295|p>>>27))+((p=d+(t^a&(e^t))+r[6]+3225465664&4294967295)<<9&4294967295|p>>>23))+((p=a+(e^t&(d^e))+r[11]+643717713&4294967295)<<14&4294967295|p>>>18))+((p=t+(d^e&(a^d))+r[0]+3921069994&4294967295)<<20&4294967295|p>>>12))+((p=e+(a^d&(t^a))+r[5]+3593408605&4294967295)<<5&4294967295|p>>>27))+((p=d+(t^a&(e^t))+r[10]+38016083&4294967295)<<9&4294967295|p>>>23))+((p=a+(e^t&(d^e))+r[15]+3634488961&4294967295)<<14&4294967295|p>>>18))+((p=t+(d^e&(a^d))+r[4]+3889429448&4294967295)<<20&4294967295|p>>>12))+((p=e+(a^d&(t^a))+r[9]+568446438&4294967295)<<5&4294967295|p>>>27))+((p=d+(t^a&(e^t))+r[14]+3275163606&4294967295)<<9&4294967295|p>>>23))+((p=a+(e^t&(d^e))+r[3]+4107603335&4294967295)<<14&4294967295|p>>>18))+((p=t+(d^e&(a^d))+r[8]+1163531501&4294967295)<<20&4294967295|p>>>12))+((p=e+(a^d&(t^a))+r[13]+2850285829&4294967295)<<5&4294967295|p>>>27))+((p=d+(t^a&(e^t))+r[2]+4243563512&4294967295)<<9&4294967295|p>>>23))+((p=a+(e^t&(d^e))+r[7]+1735328473&4294967295)<<14&4294967295|p>>>18))+((p=t+(d^e&(a^d))+r[12]+2368359562&4294967295)<<20&4294967295|p>>>12))+((p=e+(t^a^d)+r[5]+4294588738&4294967295)<<4&4294967295|p>>>28))+((p=d+(e^t^a)+r[8]+2272392833&4294967295)<<11&4294967295|p>>>21))+((p=a+(d^e^t)+r[11]+1839030562&4294967295)<<16&4294967295|p>>>16))+((p=t+(a^d^e)+r[14]+4259657740&4294967295)<<23&4294967295|p>>>9))+((p=e+(t^a^d)+r[1]+2763975236&4294967295)<<4&4294967295|p>>>28))+((p=d+(e^t^a)+r[4]+1272893353&4294967295)<<11&4294967295|p>>>21))+((p=a+(d^e^t)+r[7]+4139469664&4294967295)<<16&4294967295|p>>>16))+((p=t+(a^d^e)+r[10]+3200236656&4294967295)<<23&4294967295|p>>>9))+((p=e+(t^a^d)+r[13]+681279174&4294967295)<<4&4294967295|p>>>28))+((p=d+(e^t^a)+r[0]+3936430074&4294967295)<<11&4294967295|p>>>21))+((p=a+(d^e^t)+r[3]+3572445317&4294967295)<<16&4294967295|p>>>16))+((p=t+(a^d^e)+r[6]+76029189&4294967295)<<23&4294967295|p>>>9))+((p=e+(t^a^d)+r[9]+3654602809&4294967295)<<4&4294967295|p>>>28))+((p=d+(e^t^a)+r[12]+3873151461&4294967295)<<11&4294967295|p>>>21))+((p=a+(d^e^t)+r[15]+530742520&4294967295)<<16&4294967295|p>>>16))+((p=t+(a^d^e)+r[2]+3299628645&4294967295)<<23&4294967295|p>>>9))+((p=e+(a^(t|~d))+r[0]+4096336452&4294967295)<<6&4294967295|p>>>26))+((p=d+(t^(e|~a))+r[7]+1126891415&4294967295)<<10&4294967295|p>>>22))+((p=a+(e^(d|~t))+r[14]+2878612391&4294967295)<<15&4294967295|p>>>17))+((p=t+(d^(a|~e))+r[5]+4237533241&4294967295)<<21&4294967295|p>>>11))+((p=e+(a^(t|~d))+r[12]+1700485571&4294967295)<<6&4294967295|p>>>26))+((p=d+(t^(e|~a))+r[3]+2399980690&4294967295)<<10&4294967295|p>>>22))+((p=a+(e^(d|~t))+r[10]+4293915773&4294967295)<<15&4294967295|p>>>17))+((p=t+(d^(a|~e))+r[1]+2240044497&4294967295)<<21&4294967295|p>>>11))+((p=e+(a^(t|~d))+r[8]+1873313359&4294967295)<<6&4294967295|p>>>26))+((p=d+(t^(e|~a))+r[15]+4264355552&4294967295)<<10&4294967295|p>>>22))+((p=a+(e^(d|~t))+r[6]+2734768916&4294967295)<<15&4294967295|p>>>17))+((p=t+(d^(a|~e))+r[13]+1309151649&4294967295)<<21&4294967295|p>>>11))+((d=(e=t+((p=e+(a^(t|~d))+r[4]+4149444226&4294967295)<<6&4294967295|p>>>26))+((p=d+(t^(e|~a))+r[11]+3174756917&4294967295)<<10&4294967295|p>>>22))^((a=d+((p=a+(e^(d|~t))+r[2]+718787259&4294967295)<<15&4294967295|p>>>17))|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(a+(p<<21&4294967295|p>>>11))&4294967295,n.g[2]=n.g[2]+a&4294967295,n.g[3]=n.g[3]+d&4294967295}function oi(n,e){this.h=e;for(var t=[],r=!0,a=n.length-1;0<=a;a--){var d=0|n[a];r&&d==e||(t[a]=d,r=!1)}this.g=t}(ge=tr.prototype).Oa=function(n){this.M=n},ge.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():os.g(),this.C=function Li(n){return n.h||(n.h=n.i())}(this.u?this.u:os),this.g.onreadystatechange=sn(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(d){return void da(this,d)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var a in r)t.set(a,r[a]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const d of r.keys())t.set(d,r.get(d))}r=Array.from(t.keys()).find(d=>"content-type"==d.toLowerCase()),a=et.FormData&&n instanceof et.FormData,!(0<=Fe(ra,e))||r||a||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[d,p]of t)this.g.setRequestHeader(d,p);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{ie(this),0<this.B&&((this.L=function el(n){return xn&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=sn(this.ua,this)):this.A=gr(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(d){da(this,d)}},ge.ua=function(){typeof lt<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,he(this,"timeout"),this.abort(8))},ge.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,he(this,"complete"),he(this,"abort"),L(this))},ge.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),L(this,!0)),tr.$.N.call(this)},ge.La=function(){this.s||(this.G||this.v||this.l?U(this):this.kb())},ge.kb=function(){U(this)},ge.isActive=function(){return!!this.g},ge.da=function(){try{return 2<Ye(this)?this.g.status:-1}catch{return-1}},ge.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},ge.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),Da(e)}},ge.Ia=function(){return this.m},ge.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(ge=po.prototype).ra=8,ge.H=1,ge.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const a=new Ps(this,this.l,n);let d=this.s;if(this.U&&(d?(d=sr(d),Fn(d,this.U)):d=this.U),null!==this.o||this.O||(a.I=d,d=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var r=this.j[t];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Nl(this,a,e),Xr(t=$i(this.I),"RID",n),Xr(t,"CVER",22),this.F&&Xr(t,"X-HTTP-Session-Id",this.F),As(this,t),d&&(this.O?e="headers="+encodeURIComponent(String(xi(d)))+"&"+e:this.o&&io(t,this.o,d)),Ii(this.i,a),this.bb&&Xr(t,"TYPE","init"),this.P?(Xr(t,"$req",e),Xr(t,"SID","null"),a.aa=!0,Gr(a,t,null)):Gr(a,t,e),this.H=2}}else 3==this.H&&(n?Ro(this,n):0==this.j.length||Ni(this.i)||Ro(this))},ge.Ma=function(){if(this.u=null,ji(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=An(sn(this.jb,this),n)}},ge.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,ft(10),Es(this),ji(this))},ge.ib=function(){null!=this.v&&(this.v=null,Es(this),sa(this),ft(19))},ge.pb=function(n){n?(this.l.info("Successfully pinged google.com"),ft(2)):(this.l.info("Failed to ping google.com"),ft(1))},ge.isActive=function(){return!!this.h&&this.h.isActive(this)},(ge=fa.prototype).Ba=function(){},ge.Aa=function(){},ge.za=function(){},ge.ya=function(){},ge.isActive=function(){return!0},ge.Va=function(){},pa.prototype.g=function(n,e){return new rs(n,e)},on(rs,De),rs.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;ft(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=ba(n,null,n.Y),as(n)},rs.prototype.close=function(){bs(this.g)},rs.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=ce(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&as(e)},rs.prototype.N=function(){this.g.h=null,delete this.j,bs(this.g),delete this.g,rs.$.N.call(this)},on(Aa,Ki),on(oa,ti),on(Os,fa),Os.prototype.Ba=function(){he(this.g,"a")},Os.prototype.Aa=function(n){he(this.g,new Aa(n))},Os.prototype.za=function(n){he(this.g,new oa)},Os.prototype.ya=function(){he(this.g,"b")},on(Ai,function Zi(){this.blockSize=-1}),Ai.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Ai.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,r=this.m,a=this.h,d=0;d<e;){if(0==a)for(;d<=t;)gi(this,n,d),d+=this.blockSize;if("string"==typeof n){for(;d<e;)if(r[a++]=n.charCodeAt(d++),a==this.blockSize){gi(this,r),a=0;break}}else for(;d<e;)if(r[a++]=n[d++],a==this.blockSize){gi(this,r),a=0;break}}this.h=a,this.i+=e},Ai.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};var Ho={};function Va(n){return-128<=n&&128>n?function Pn(n,e){var t=Ho;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new oi([0|e],0>e?-1:0)}):new oi([0|n],0>n?-1:0)}function aa(n){if(isNaN(n)||!isFinite(n))return Po;if(0>n)return F(aa(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=Ba;return new oi(e,0)}var Ba=4294967296,Po=Va(0),ga=Va(1),la=Va(16777216);function N(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function W(n){return-1==n.h}function F(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new oi(t,~n.h).add(ga)}function ee(n,e){return n.add(F(e))}function Ie(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function dt(n,e){this.g=n,this.h=e}function St(n,e){if(N(e))throw Error("division by zero");if(N(n))return new dt(Po,Po);if(W(n))return e=St(F(n),e),new dt(F(e.g),F(e.h));if(W(e))return e=St(n,F(e)),new dt(F(e.g),e.h);if(30<n.g.length){if(W(n)||W(e))throw Error("slowDivide_ only works with positive integers.");for(var t=ga,r=e;0>=r.X(n);)t=In(t),r=In(r);var a=br(t,1),d=br(r,1);for(r=br(r,2),t=br(t,2);!N(r);){var p=d.add(r);0>=p.X(n)&&(a=a.add(t),d=p),r=br(r,1),t=br(t,1)}return e=ee(n,a.R(e)),new dt(a,e)}for(a=Po;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,r-48),p=(d=aa(t)).R(e);W(p)||0<p.X(n);)p=(d=aa(t-=r)).R(e);N(d)&&(d=ga),a=a.add(d),n=ee(n,p)}return new dt(a,n)}function In(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new oi(t,n.h)}function br(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,a=[],d=0;d<r;d++)a[d]=0<e?n.D(d+t)>>>e|n.D(d+t+1)<<32-e:n.D(d+t);return new oi(a,n.h)}(ge=oi.prototype).ea=function(){if(W(this))return-F(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:Ba+r)*e,e*=Ba}return n},ge.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(N(this))return"0";if(W(this))return"-"+F(this).toString(n);for(var e=aa(Math.pow(n,6)),t=this,r="";;){var a=St(t,e).g,d=((0<(t=ee(t,a.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(N(t=a))return d+r;for(;6>d.length;)d="0"+d;r=d+r}},ge.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},ge.X=function(n){return W(n=ee(this,n))?-1:N(n)?0:1},ge.abs=function(){return W(this)?F(this):this},ge.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,a=0;a<=e;a++){var d=r+(65535&this.D(a))+(65535&n.D(a)),p=(d>>>16)+(this.D(a)>>>16)+(n.D(a)>>>16);r=p>>>16,t[a]=(p&=65535)<<16|(d&=65535)}return new oi(t,-2147483648&t[t.length-1]?-1:0)},ge.R=function(n){if(N(this)||N(n))return Po;if(W(this))return W(n)?F(this).R(F(n)):F(F(this).R(n));if(W(n))return F(this.R(F(n)));if(0>this.X(la)&&0>n.X(la))return aa(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var a=0;a<n.g.length;a++){var d=this.D(r)>>>16,p=65535&this.D(r),w=n.D(a)>>>16,M=65535&n.D(a);t[2*r+2*a]+=p*M,Ie(t,2*r+2*a),t[2*r+2*a+1]+=d*M,Ie(t,2*r+2*a+1),t[2*r+2*a+1]+=p*w,Ie(t,2*r+2*a+1),t[2*r+2*a+2]+=d*w,Ie(t,2*r+2*a+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new oi(t,0)},ge.gb=function(n){return St(this,n).h},ge.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new oi(t,this.h&n.h)},ge.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new oi(t,this.h|n.h)},ge.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new oi(t,this.h^n.h)},pa.prototype.createWebChannel=pa.prototype.g,rs.prototype.send=rs.prototype.u,rs.prototype.open=rs.prototype.m,rs.prototype.close=rs.prototype.close,Kn.NO_ERROR=0,Kn.TIMEOUT=8,Kn.HTTP_ERROR=6,wn.COMPLETE="complete",Vi.EventType=vi,vi.OPEN="a",vi.CLOSE="b",vi.ERROR="c",vi.MESSAGE="d",De.prototype.listen=De.prototype.O,tr.prototype.listenOnce=tr.prototype.P,tr.prototype.getLastError=tr.prototype.Sa,tr.prototype.getLastErrorCode=tr.prototype.Ia,tr.prototype.getStatus=tr.prototype.da,tr.prototype.getResponseJson=tr.prototype.Wa,tr.prototype.getResponseText=tr.prototype.ja,tr.prototype.send=tr.prototype.ha,tr.prototype.setWithCredentials=tr.prototype.Oa,Ai.prototype.digest=Ai.prototype.l,Ai.prototype.reset=Ai.prototype.reset,Ai.prototype.update=Ai.prototype.j,oi.prototype.add=oi.prototype.add,oi.prototype.multiply=oi.prototype.R,oi.prototype.modulo=oi.prototype.gb,oi.prototype.compare=oi.prototype.X,oi.prototype.toNumber=oi.prototype.ea,oi.prototype.toString=oi.prototype.toString,oi.prototype.getBits=oi.prototype.D,oi.fromNumber=aa,oi.fromString=function Ua(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return F(Ua(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=aa(Math.pow(e,8)),r=Po,a=0;a<n.length;a+=8){var d=Math.min(8,n.length-a),p=parseInt(n.substring(a,a+d),e);8>d?(d=aa(Math.pow(e,d)),r=r.R(d).add(aa(p))):r=(r=r.R(t)).add(aa(p))}return r},Ge.createWebChannelTransport=function(){return new pa},Ge.getStatEventTarget=function(){return Qr()},Ge.ErrorCode=Kn,Ge.EventType=wn,Ge.Event=hi,Ge.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Ge.FetchXmlHttpFactory=es,Ge.WebChannel=Vi,Ge.XhrIo=tr,Ge.Md5=Ai;var oo=Ge.Integer=oi;const ao="@firebase/firestore";class ai{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ai.UNAUTHENTICATED=new ai(null),ai.GOOGLE_CREDENTIALS=new ai("google-credentials-uid"),ai.FIRST_PARTY=new ai("first-party-uid"),ai.MOCK_USER=new ai("mock-user");let ya="9.23.0";const zo=new wt.Yd("@firebase/firestore");function Lt(n,...e){if(zo.logLevel<=wt.in.DEBUG){const t=e.map(Ou);zo.debug(`Firestore (${ya}): ${n}`,...t)}}function is(n,...e){if(zo.logLevel<=wt.in.ERROR){const t=e.map(Ou);zo.error(`Firestore (${ya}): ${n}`,...t)}}function Ou(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function yn(n="Unexpected state"){const e=`FIRESTORE (${ya}) INTERNAL ASSERTION FAILED: `+n;throw is(e),new Error(e)}function Cn(n,e){n||yn()}const ut={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class kt extends Tt.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ps{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class $a{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ku{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ai.UNAUTHENTICATED))}shutdown(){}}class Yl{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Is{constructor(e){this.t=e,this.currentUser=ai.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let a=this.i;const d=B=>this.i!==a?(a=this.i,t(B)):Promise.resolve();let p=new ps;this.o=()=>{this.i++,this.currentUser=this.u(),p.resolve(),p=new ps,e.enqueueRetryable(()=>d(this.currentUser))};const w=()=>{const B=p;e.enqueueRetryable((0,At.Z)(function*(){yield B.promise,yield d(r.currentUser)}))},M=B=>{Lt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=B,this.auth.addAuthTokenListener(this.o),w()};this.t.onInit(B=>M(B)),setTimeout(()=>{if(!this.auth){const B=this.t.getImmediate({optional:!0});B?M(B):(Lt("FirebaseAuthCredentialsProvider","Auth not yet detected"),p.resolve(),p=new ps)}},0),w()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Lt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Cn("string"==typeof r.accessToken),new $a(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Cn(null===e||"string"==typeof e),new ai(e)}}class yl{constructor(e,t,r){this.h=e,this.l=t,this.m=r,this.type="FirstParty",this.user=ai.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class qr{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new yl(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(ai.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class hu{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class _a{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const r=d=>{null!=d.error&&Lt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${d.error.message}`);const p=d.token!==this.T;return this.T=d.token,Lt("FirebaseAppCheckTokenProvider",`Received ${p?"new":"existing"} token.`),p?t(d.token):Promise.resolve()};this.o=d=>{e.enqueueRetryable(()=>r(d))};const a=d=>{Lt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=d,this.appCheck.addTokenListener(this.o)};this.I.onInit(d=>a(d)),setTimeout(()=>{if(!this.appCheck){const d=this.I.getImmediate({optional:!0});d?a(d):Lt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Cn("string"==typeof t.token),this.T=t.token,new hu(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function nl(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class ja{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const a=nl(40);for(let d=0;d<a.length;++d)r.length<20&&a[d]<t&&(r+=e.charAt(a[d]%e.length))}return r}}function nr(n,e){return n<e?-1:n>e?1:0}class gs{constructor(e,t,r){void 0===t?t=0:t>e.length&&yn(),void 0===r?r=e.length-t:r>e.length-t&&yn(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===gs.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof gs?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let a=0;a<r;a++){const d=e.get(a),p=t.get(a);if(d<p)return-1;if(d>p)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Ur extends gs{construct(e,t,r){return new Ur(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new kt(ut.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(a=>a.length>0))}return new Ur(t)}static emptyPath(){return new Ur([])}}class nn{constructor(e){this.path=e}static fromPath(e){return new nn(Ur.fromString(e))}static fromName(e){return new nn(Ur.fromString(e).popFirst(5))}static empty(){return new nn(Ur.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Ur.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Ur.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new nn(new Ur(e.slice()))}}function qo(n){return"IndexedDbTransactionError"===n.name}class Qi{constructor(e,t){this.comparator=e,this.root=t||js.EMPTY}insert(e,t){return new Qi(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,js.BLACK,null,null))}remove(e){return new Qi(this.comparator,this.root.remove(e,this.comparator).copy(null,null,js.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(0===a)return t+r.left.size;a<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Cl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Cl(this.root,e,this.comparator,!1)}getReverseIterator(){return new Cl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Cl(this.root,e,this.comparator,!0)}}class Cl{constructor(e,t,r,a){this.isReverse=a,this.nodeStack=[];let d=1;for(;!e.isEmpty();)if(d=t?r(e.key,t):1,t&&a&&(d*=-1),d<0)e=this.isReverse?e.left:e.right;else{if(0===d){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class js{constructor(e,t,r,a,d){this.key=e,this.value=t,this.color=r??js.RED,this.left=a??js.EMPTY,this.right=d??js.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,a,d){return new js(e??this.key,t??this.value,r??this.color,a??this.left,d??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let a=this;const d=r(e,a.key);return a=d<0?a.copy(null,null,null,a.left.insert(e,t,r),null):0===d?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return js.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),0===t(e,a.key)){if(a.right.isEmpty())return js.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,js.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,js.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw yn();const e=this.left.check();if(e!==this.right.check())throw yn();return e+(this.isRed()?0:1)}}js.EMPTY=null,js.RED=!0,js.BLACK=!1,js.EMPTY=new class{constructor(){this.size=0}get key(){throw yn()}get value(){throw yn()}get color(){throw yn()}get left(){throw yn()}get right(){throw yn()}copy(n,e,t,r,a){return this}insert(n,e,t){return new js(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ui{constructor(e){this.comparator=e,this.data=new Qi(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new yu(this.data.getIterator())}getIteratorFrom(e){return new yu(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof ui)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,d=r.getNext().key;if(0!==this.comparator(a,d))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new ui(this.comparator);return t.data=e,t}}class yu{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class sl extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Rs{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new sl("Invalid base64 string: "+a):a}}(e);return new Rs(t)}static fromUint8Array(e){const t=function(r){let a="";for(let d=0;d<r.length;++d)a+=String.fromCharCode(r[d]);return a}(e);return new Rs(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return nr(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}function ms(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}Rs.EMPTY_BYTE_STRING=new Rs("");class Ic{constructor(e,t,r,a,d,p,w,M,B){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=a,this.ssl=d,this.forceLongPolling=p,this.autoDetectLongPolling=w,this.longPollingOptions=M,this.useFetchStreams=B}}class Oa{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Oa("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Oa&&e.projectId===this.projectId&&e.database===this.database}}var Io,Ri;new Qi(nn.comparator),new Qi(nn.comparator),new Qi(nn.comparator),new ui(nn.comparator),new ui(nr),(Ri=Io||(Io={}))[Ri.OK=0]="OK",Ri[Ri.CANCELLED=1]="CANCELLED",Ri[Ri.UNKNOWN=2]="UNKNOWN",Ri[Ri.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ri[Ri.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ri[Ri.NOT_FOUND=5]="NOT_FOUND",Ri[Ri.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ri[Ri.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ri[Ri.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ri[Ri.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ri[Ri.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ri[Ri.ABORTED=10]="ABORTED",Ri[Ri.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ri[Ri.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ri[Ri.INTERNAL=13]="INTERNAL",Ri[Ri.UNAVAILABLE=14]="UNAVAILABLE",Ri[Ri.DATA_LOSS=15]="DATA_LOSS",new oo([4294967295,4294967295],0);class cc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Yu{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(ms(e.integerValue));else if("doubleValue"in e){const r=ms(e.doubleValue);isNaN(r)?this.ye(t,13):(this.ye(t,15),function Ma(n){return 0===n&&1/n==-1/0}(r)?t.pe(0):t.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(t,20),"string"==typeof r?t.Ie(r):(t.Ie(`${r.seconds||""}`),t.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(function xa(n){return"string"==typeof n?Rs.fromBase64String(n):Rs.fromUint8Array(n)}(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(t,45),t.pe(r.latitude||0),t.pe(r.longitude||0)}else"mapValue"in e?function me(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):yn()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const r=e.fields||{};this.ye(t,55);for(const a of Object.keys(r))this.Te(a,t),this.me(r[a],t)}Pe(e,t){const r=e.values||[];this.ye(t,50);for(const a of r)this.me(a,t)}ve(e,t){this.ye(t,37),nn.fromName(e).path.forEach(r=>{this.ye(t,60),this.be(r,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}Yu.Ve=new Yu,new Uint8Array(0);class Za{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Za(e,Za.DEFAULT_COLLECTION_PERCENTILE,Za.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function bp(){return typeof document<"u"?document:null}Za.DEFAULT_COLLECTION_PERCENTILE=10,Za.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Za.DEFAULT=new Za(41943040,Za.DEFAULT_COLLECTION_PERCENTILE,Za.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Za.DISABLED=new Za(-1,0,0);class im{constructor(e,t,r=1e3,a=1.5,d=6e4){this.ii=e,this.timerId=t,this.Po=r,this.bo=a,this.Vo=d,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),a=Math.max(0,t-r);a>0&&Lt("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,a,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class pm{constructor(e,t,r,a,d){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=a,this.removalCallback=d,this.deferred=new ps,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(p=>{})}static createAndSchedule(e,t,r,a,d){const p=Date.now()+r,w=new pm(e,t,p,a,d);return w.start(r),w}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new kt(ut.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}class u0{constructor(e,t,r,a){var d=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=a,this.user=ai.UNAUTHENTICATED,this.clientId=ja.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var p=(0,At.Z)(function*(w){Lt("FirestoreClient","Received user=",w.uid),yield d.authCredentialListener(w),d.user=w});return function(w){return p.apply(this,arguments)}}()),this.appCheckCredentials.start(r,p=>(Lt("FirestoreClient","Received new app check token=",p),this.appCheckCredentialListener(p,this.user)))}getConfiguration(){var e=this;return(0,At.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new kt(ut.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new ps;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,At.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const a=function hh(n,e){if(is("AsyncQueue",`${e}: ${n}`),qo(n))return new kt(ut.UNAVAILABLE,`${e}: ${n}`);throw n}(r,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}function Lm(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const Xp=new Map;function Yr(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new kt(ut.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=function Ml(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":yn()}(n);throw new kt(ut.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}class Um{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new kt(ut.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new kt(ut.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function f0(n,e,t,r){if(!0===e&&!0===r)throw new kt(ut.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=Lm(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(a){if(void 0!==a.timeoutSeconds){if(isNaN(a.timeoutSeconds))throw new kt(ut.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new kt(ut.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new kt(ut.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class If{constructor(e,t,r,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Um({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new kt(ut.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new kt(ut.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Um(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new ku;switch(t.type){case"firstParty":return new qr(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new kt(ut.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Xp.get(e);t&&(Lt("ComponentProvider","Removing Datastore"),Xp.delete(e),t.terminate())}(this),Promise.resolve()}}class X_{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new im(this,"async_queue_retry"),this.Xc=()=>{const t=bp();t&&Lt("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=bp();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=bp();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new ps;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,At.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!qo(t))throw t;Lt("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,is("INTERNAL UNHANDLED ERROR: ",function(d){let p=d.message||"";return d.stack&&(p=d.stack.includes(d.message)?d.stack:d.message+"\n"+d.stack),p}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=t,t}enqueueAfterDelay(e,t,r){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const a=pm.createAndSchedule(this,e,t,r,d=>this.na(d));return this.zc.push(a),a}Zc(){this.Wc&&yn()}verifyOperationInProgress(){}sa(){var e=this;return(0,At.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}class Fs extends If{constructor(e,t,r,a){super(e,t,r,a),this.type="firestore",this._queue=new X_,this._persistenceKey=a?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||function $m(n){var e,t,r;const a=n._freezeSettings(),d=(w=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new Ic(n._databaseId,w,n._persistenceKey,(B=a).host,B.ssl,B.experimentalForceLongPolling,B.experimentalAutoDetectLongPolling,Lm(B.experimentalLongPollingOptions),B.useFetchStreams));var w,B;n._firestoreClient=new u0(n._authCredentials,n._appCheckCredentials,n._queue,d),null!==(t=a.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(r=a.cache)&&void 0!==r&&r._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:a.cache.kind,_offline:a.cache._offlineComponentProvider,_online:a.cache._onlineComponentProvider})}(this),this._firestoreClient.terminate()}}function Bm(n,e){const t="object"==typeof n?n:(0,jt.getApp)(),r="string"==typeof n?n:e||"(default)",a=(0,jt._getProvider)(t,"firestore").getImmediate({identifier:r});if(!a._initialized){const d=(0,Tt.P0)("firestore");d&&function p0(n,e,t,r={}){var a;const d=(n=Yr(n,If))._getSettings(),p=`${e}:${t}`;if("firestore.googleapis.com"!==d.host&&d.host!==p&&function us(n,...e){if(zo.logLevel<=wt.in.WARN){const t=e.map(Ou);zo.warn(`Firestore (${ya}): ${n}`,...t)}}("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},d),{host:p,ssl:!1})),r.mockUserToken){let w,M;if("string"==typeof r.mockUserToken)w=r.mockUserToken,M=ai.MOCK_USER;else{w=(0,Tt.Sg)(r.mockUserToken,null===(a=n._app)||void 0===a?void 0:a.options.projectId);const B=r.mockUserToken.sub||r.mockUserToken.user_id;if(!B)throw new kt(ut.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");M=new ai(B)}n._authCredentials=new Yl(new $a(w,M))}}(a,...d)}return a}!function(n,e=!0){ya=jt.SDK_VERSION,(0,jt._registerComponent)(new at.wA("firestore",(t,{instanceIdentifier:r,options:a})=>{const d=t.getProvider("app").getImmediate(),p=new Fs(new Is(t.getProvider("auth-internal")),new _a(t.getProvider("app-check-internal")),function(w,M){if(!Object.prototype.hasOwnProperty.apply(w.options,["projectId"]))throw new kt(ut.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Oa(w.options.projectId,M)}(d,r),d);return a=Object.assign({useFetchStreams:e},a),p._setSettings(a),p},"PUBLIC").setMultipleInstances(!0)),(0,jt.registerVersion)(ao,"3.13.0",n),(0,jt.registerVersion)(ao,"3.13.0","esm2017")}();class ry{constructor(e){return e}}const vv="firestore",pg=new $.OlP("angularfire2.firestore-instances");function q0(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new ry(r)}}const Ev={provide:class z0{constructor(){return(0,fe.vb)(vv)}},deps:[[new $.FiY,pg]]},Y0={provide:ry,useFactory:function K0(n,e){const t=(0,fe.JM)(vv,n,e);return t&&new ry(t)},deps:[[new $.FiY,pg],pe.Ot]};let Z0=(()=>{class n{constructor(){(0,ht.KN)("angularfire",fe.q4.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=$.oAB({type:n}),n.\u0275inj=$.cJS({providers:[Y0,Ev]}),n})();function Q0(n,...e){return{ngModule:Z0,providers:[{provide:pg,useFactory:q0(n),multi:!0,deps:[$.R0b,$.zs3,fe.HU,pe.z6,[new $.FiY,Ae.dh],[new $.FiY,pt.nm],...e]}]}}const uw=(0,fe.u3)(Bm,!0);var vw=G(1205),Ew=G(9532),Rh=G(2011);const xd={firebaseConfig:{apiKey:"AIzaSyB7SGEPnROILjRHEc3FXbFT_jndZCHeZ1E",authDomain:"angularmemorando.firebaseapp.com",databaseURL:"https://angularmemorando-default-rtdb.firebaseio.com",projectId:"angularmemorando",storageBucket:"angularmemorando.appspot.com",messagingSenderId:"988276496590",appId:"1:988276496590:web:b11d2ae472455bcf53d89f"},production:!1};var Ls=G(7340);function Mu(n){return new $.vHH(3e3,!1)}function Mh(){return typeof window<"u"&&typeof window.document<"u"}function dy(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Yc(n){switch(n.length){case 0:return new Ls.ZN;case 1:return n[0];default:return new Ls.ZE(n)}}function Lw(n,e,t,r,a=new Map,d=new Map){const p=[],w=[];let M=-1,B=null;if(r.forEach(Q=>{const de=Q.get("offset"),Ue=de==M,tt=Ue&&B||new Map;Q.forEach((vt,xt)=>{let Wt=xt,jn=vt;if("offset"!==xt)switch(Wt=e.normalizePropertyName(Wt,p),jn){case Ls.k1:jn=a.get(xt);break;case Ls.l3:jn=d.get(xt);break;default:jn=e.normalizeStyleValue(xt,Wt,jn,p)}tt.set(Wt,jn)}),Ue||w.push(tt),B=tt,M=de}),p.length)throw function Nv(n){return new $.vHH(3502,!1)}();return w}function Vv(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&_g(t,"start",n)));break;case"done":n.onDone(()=>r(t&&_g(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&_g(t,"destroy",n)))}}function _g(n,e,t){const d=Nf(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),p=n._data;return null!=p&&(d._data=p),d}function Nf(n,e,t,r,a="",d=0,p){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:a,totalTime:d,disabled:!!p}}function Fa(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function Uv(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let xf=(n,e)=>!1,Bv=(n,e,t)=>[],hy=null;function fy(n){const e=n.parentNode||n.host;return e===hy?null:e}(dy()||typeof Element<"u")&&(Mh()?(hy=(()=>document.documentElement)(),xf=(n,e)=>{for(;e;){if(e===n)return!0;e=fy(e)}return!1}):xf=(n,e)=>n.contains(e),Bv=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let yc=null,py=!1;const Uw=xf,yy=Bv;let _y=(()=>{class n{validateStyleProperty(t){return function $v(n){yc||(yc=function my(){return typeof document<"u"?document.body:null}()||{},py=!!yc.style&&"WebkitAppearance"in yc.style);let e=!0;return yc.style&&!function Vw(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in yc.style,!e&&py&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in yc.style)),e}(t)}matchesElement(t,r){return!1}containsElement(t,r){return Uw(t,r)}getParentElement(t){return fy(t)}query(t,r,a){return yy(t,r,a)}computeStyle(t,r,a){return a||""}animate(t,r,a,d,p,w=[],M){return new Ls.ZN(a,d)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=$.Yz7({token:n,factory:n.\u0275fac}),n})(),Zc=(()=>{class n{}return n.NOOP=new _y,n})();const Bw=1e3,jv="ng-enter",vg="ng-leave",wy="ng-trigger",Eg=".ng-trigger",Hv="ng-animating",Iy=".ng-animating";function ec(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:wg(parseFloat(e[1]),e[2])}function wg(n,e){return"s"===e?n*Bw:n}function Ig(n,e,t){return n.hasOwnProperty("duration")?n:function Gv(n,e,t){let a,d=0,p="";if("string"==typeof n){const w=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===w)return e.push(Mu()),{duration:0,delay:0,easing:""};a=wg(parseFloat(w[1]),w[2]);const M=w[3];null!=M&&(d=wg(parseFloat(M),w[4]));const B=w[5];B&&(p=B)}else a=n;if(!t){let w=!1,M=e.length;a<0&&(e.push(function ww(){return new $.vHH(3100,!1)}()),w=!0),d<0&&(e.push(function iy(){return new $.vHH(3101,!1)}()),w=!0),w&&e.splice(M,0,Mu())}return{duration:a,delay:d,easing:p}}(n,e,t)}function Ph(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function zv(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function Qc(n,e=new Map,t){if(t)for(let[r,a]of t)e.set(r,a);for(let[r,a]of n)e.set(r,a);return e}function Dy(n,e,t){return t?e+":"+t+";":""}function Ty(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=Dy(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=Dy(0,BC(t),n.style[t]));n.setAttribute("style",e)}function Pu(n,e,t){n.style&&(e.forEach((r,a)=>{const d=Kv(a);t&&!t.has(a)&&t.set(a,n.style[d]),n.style[d]=r}),dy()&&Ty(n))}function Xc(n,e){n.style&&(e.forEach((t,r)=>{const a=Kv(r);n.style[a]=""}),dy()&&Ty(n))}function Of(n){return Array.isArray(n)?1==n.length?n[0]:(0,Ls.vP)(n):n}const Wv=new RegExp("{{\\s*(.+?)\\s*}}","g");function Sy(n){let e=[];if("string"==typeof n){let t;for(;t=Wv.exec(n);)e.push(t[1]);Wv.lastIndex=0}return e}function Cg(n,e,t){const r=n.toString(),a=r.replace(Wv,(d,p)=>{let w=e[p];return null==w&&(t.push(function Iw(n){return new $.vHH(3003,!1)}()),w=""),w.toString()});return a==r?n:a}function by(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const UC=/-+([a-z0-9])/g;function Kv(n){return n.replace(UC,(...e)=>e[1].toUpperCase())}function BC(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function cu(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function Cw(n){return new $.vHH(3004,!1)}()}}function kf(n,e){return window.getComputedStyle(n)[e]}const Lf="*";function Hw(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function HC(n,e,t){if(":"==n[0]){const M=function Gw(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function Aw(n){return new $.vHH(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof M)return void e.push(M);n=M}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function uy(n){return new $.vHH(3015,!1)}()),e;const a=r[1],d=r[2],p=r[3];e.push(Vf(a,p));"<"==d[0]&&!(a==Lf&&p==Lf)&&e.push(Vf(p,a))}(r,t,e)):t.push(n),t}const Tg=new Set(["true","1"]),Sg=new Set(["false","0"]);function Vf(n,e){const t=Tg.has(n)||Sg.has(n),r=Tg.has(e)||Sg.has(e);return(a,d)=>{let p=n==Lf||n==a,w=e==Lf||e==d;return!p&&t&&"boolean"==typeof a&&(p=a?Tg.has(n):Sg.has(n)),!w&&r&&"boolean"==typeof d&&(w=d?Tg.has(e):Sg.has(e)),p&&w}}const GC=new RegExp("s*:selfs*,?","g");function Xv(n,e,t,r){return new Ww(n).build(e,t,r)}class Ww{constructor(e){this._driver=e}build(e,t,r){const a=new zC(t);return this._resetContextStyleTimingState(a),cu(this,Of(e),a)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,a=t.depCount=0;const d=[],p=[];return"@"==e.name.charAt(0)&&t.errors.push(function mg(){return new $.vHH(3006,!1)}()),e.definitions.forEach(w=>{if(this._resetContextStyleTimingState(t),0==w.type){const M=w,B=M.name;B.toString().split(/\s*,\s*/).forEach(Q=>{M.name=Q,d.push(this.visitState(M,t))}),M.name=B}else if(1==w.type){const M=this.visitTransition(w,t);r+=M.queryCount,a+=M.depCount,p.push(M)}else t.errors.push(function yg(){return new $.vHH(3007,!1)}())}),{type:7,name:e.name,states:d,transitions:p,queryCount:r,depCount:a,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),a=e.options&&e.options.params||null;if(r.containsDynamicStyles){const d=new Set,p=a||{};r.styles.forEach(w=>{w instanceof Map&&w.forEach(M=>{Sy(M).forEach(B=>{p.hasOwnProperty(B)||d.add(B)})})}),d.size&&(by(d.values()),t.errors.push(function Tw(n,e){return new $.vHH(3008,!1)}()))}return{type:0,name:e.name,style:r,options:a?{params:a}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=cu(this,Of(e.animation),t);return{type:1,matchers:Hw(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:Jc(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>cu(this,r,t)),options:Jc(e.options)}}visitGroup(e,t){const r=t.currentTime;let a=0;const d=e.steps.map(p=>{t.currentTime=r;const w=cu(this,p,t);return a=Math.max(a,t.currentTime),w});return t.currentTime=a,{type:3,steps:d,options:Jc(e.options)}}visitAnimate(e,t){const r=function Jv(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return eE(Ig(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(d=>"{"==d.charAt(0)&&"{"==d.charAt(1))){const d=eE(0,0,"");return d.dynamic=!0,d.strValue=t,d}const a=Ig(t,e);return eE(a.duration,a.delay,a.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let a,d=e.styles?e.styles:(0,Ls.oB)({});if(5==d.type)a=this.visitKeyframes(d,t);else{let p=e.styles,w=!1;if(!p){w=!0;const B={};r.easing&&(B.easing=r.easing),p=(0,Ls.oB)(B)}t.currentTime+=r.duration+r.delay;const M=this.visitStyle(p,t);M.isEmptyStep=w,a=M}return t.currentAnimateTimings=null,{type:4,timings:r,style:a,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[],a=Array.isArray(e.styles)?e.styles:[e.styles];for(let w of a)"string"==typeof w?w===Ls.l3?r.push(w):t.errors.push(new $.vHH(3002,!1)):r.push(zv(w));let d=!1,p=null;return r.forEach(w=>{if(w instanceof Map&&(w.has("easing")&&(p=w.get("easing"),w.delete("easing")),!d))for(let M of w.values())if(M.toString().indexOf("{{")>=0){d=!0;break}}),{type:6,styles:r,easing:p,offset:e.offset,containsDynamicStyles:d,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let a=t.currentTime,d=t.currentTime;r&&d>0&&(d-=r.duration+r.delay),e.styles.forEach(p=>{"string"!=typeof p&&p.forEach((w,M)=>{const B=t.collectedStyles.get(t.currentQuerySelector),Q=B.get(M);let de=!0;Q&&(d!=a&&d>=Q.startTime&&a<=Q.endTime&&(t.errors.push(function Rv(n,e,t,r,a){return new $.vHH(3010,!1)}()),de=!1),d=Q.startTime),de&&B.set(M,{startTime:d,endTime:a}),t.options&&function jw(n,e,t){const r=e.params||{},a=Sy(n);a.length&&a.forEach(d=>{r.hasOwnProperty(d)||t.push(function Pf(n){return new $.vHH(3001,!1)}())})}(w,t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function sy(){return new $.vHH(3011,!1)}()),r;let d=0;const p=[];let w=!1,M=!1,B=0;const Q=e.steps.map(jn=>{const Er=this._makeStyleAst(jn,t);let pr=null!=Er.offset?Er.offset:function Yw(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(Er.styles),Wi=0;return null!=pr&&(d++,Wi=Er.offset=pr),M=M||Wi<0||Wi>1,w=w||Wi<B,B=Wi,p.push(Wi),Er});M&&t.errors.push(function Mv(){return new $.vHH(3012,!1)}()),w&&t.errors.push(function oy(){return new $.vHH(3200,!1)}());const de=e.steps.length;let Ue=0;d>0&&d<de?t.errors.push(function ay(){return new $.vHH(3202,!1)}()):0==d&&(Ue=1/(de-1));const tt=de-1,vt=t.currentTime,xt=t.currentAnimateTimings,Wt=xt.duration;return Q.forEach((jn,Er)=>{const pr=Ue>0?Er==tt?1:Ue*Er:p[Er],Wi=pr*Wt;t.currentTime=vt+xt.delay+Wi,xt.duration=Wi,this._validateStyleAst(jn,t),jn.offset=pr,r.styles.push(jn)}),r}visitReference(e,t){return{type:8,animation:cu(this,Of(e.animation),t),options:Jc(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Jc(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Jc(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,a=e.options||{};t.queryCount++,t.currentQuery=e;const[d,p]=function Kw(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(GC,"")),n=n.replace(/@\*/g,Eg).replace(/@\w+/g,t=>Eg+"-"+t.slice(1)).replace(/:animating/g,Iy),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+d:d,Fa(t.collectedStyles,t.currentQuerySelector,new Map);const w=cu(this,Of(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:d,limit:a.limit||0,optional:!!a.optional,includeSelf:p,animation:w,originalSelector:e.selector,options:Jc(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function Pv(){return new $.vHH(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:Ig(e.timings,t.errors,!0);return{type:12,animation:cu(this,Of(e.animation),t),timings:r,options:null}}}class zC{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Jc(n){return n?(n=Ph(n)).params&&(n.params=function qw(n){return n?Ph(n):null}(n.params)):n={},n}function eE(n,e,t){return{duration:n,delay:e,easing:t}}function Wl(n,e,t,r,a,d,p=null,w=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:a,delay:d,totalTime:a+d,easing:p,subTimeline:w}}class bg{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const WC=new RegExp(":enter","g"),Qw=new RegExp(":leave","g");function Uf(n,e,t,r,a,d=new Map,p=new Map,w,M,B=[]){return(new Xw).buildKeyframes(n,e,t,r,a,d,p,w,M,B)}class Xw{buildKeyframes(e,t,r,a,d,p,w,M,B,Q=[]){B=B||new bg;const de=new Bf(e,t,B,a,d,Q,[]);de.options=M;const Ue=M.delay?ec(M.delay):0;de.currentTimeline.delayNextStep(Ue),de.currentTimeline.setStyles([p],null,de.errors,M),cu(this,r,de);const tt=de.timelines.filter(vt=>vt.containsAnimation());if(tt.length&&w.size){let vt;for(let xt=tt.length-1;xt>=0;xt--){const Wt=tt[xt];if(Wt.element===t){vt=Wt;break}}vt&&!vt.allowOnlyTimelineStyles()&&vt.setStyles([w],null,de.errors,M)}return tt.length?tt.map(vt=>vt.buildKeyframes()):[Wl(t,[],[],[],0,Ue,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const a=t.createSubContext(e.options),d=t.currentTimeline.currentTime,p=this._visitSubInstructions(r,a,a.options);d!=p&&t.transformIntoNewTimeline(p)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(const a of e){const d=a?.delay;if(d){const p="number"==typeof d?d:ec(Cg(d,a?.params??{},t.errors));r.delayNextStep(p)}}}_visitSubInstructions(e,t,r){let d=t.currentTimeline.currentTime;const p=null!=r.duration?ec(r.duration):null,w=null!=r.delay?ec(r.delay):null;return 0!==p&&e.forEach(M=>{const B=t.appendInstructionToTimeline(M,p,w);d=Math.max(d,B.duration+B.delay)}),d}visitReference(e,t){t.updateOptions(e.options,!0),cu(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let a=t;const d=e.options;if(d&&(d.params||d.delay)&&(a=t.createSubContext(d),a.transformIntoNewTimeline(),null!=d.delay)){6==a.previousNode.type&&(a.currentTimeline.snapshotCurrentStyles(),a.previousNode=Ag);const p=ec(d.delay);a.delayNextStep(p)}e.steps.length&&(e.steps.forEach(p=>cu(this,p,a)),a.currentTimeline.applyStylesToKeyframe(),a.subContextCount>r&&a.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let a=t.currentTimeline.currentTime;const d=e.options&&e.options.delay?ec(e.options.delay):0;e.steps.forEach(p=>{const w=t.createSubContext(e.options);d&&w.delayNextStep(d),cu(this,p,w),a=Math.max(a,w.currentTimeline.currentTime),r.push(w.currentTimeline)}),r.forEach(p=>t.currentTimeline.mergeTimelineCollectedStyles(p)),t.transformIntoNewTimeline(a),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return Ig(t.params?Cg(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),a=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),a.snapshotCurrentStyles());const d=e.style;5==d.type?this.visitKeyframes(d,t):(t.incrementTime(r.duration),this.visitStyle(d,t),a.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,a=t.currentAnimateTimings;!a&&r.hasCurrentStyleProperties()&&r.forwardFrame();const d=a&&a.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(d):r.setStyles(e.styles,d,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,a=t.currentTimeline.duration,d=r.duration,w=t.createSubContext().currentTimeline;w.easing=r.easing,e.styles.forEach(M=>{w.forwardTime((M.offset||0)*d),w.setStyles(M.styles,M.easing,t.errors,t.options),w.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(w),t.transformIntoNewTimeline(a+d),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,a=e.options||{},d=a.delay?ec(a.delay):0;d&&(6===t.previousNode.type||0==r&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Ag);let p=r;const w=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!a.optional,t.errors);t.currentQueryTotal=w.length;let M=null;w.forEach((B,Q)=>{t.currentQueryIndex=Q;const de=t.createSubContext(e.options,B);d&&de.delayNextStep(d),B===t.element&&(M=de.currentTimeline),cu(this,e.animation,de),de.currentTimeline.applyStylesToKeyframe(),p=Math.max(p,de.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(p),M&&(t.currentTimeline.mergeTimelineCollectedStyles(M),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,a=t.currentTimeline,d=e.timings,p=Math.abs(d.duration),w=p*(t.currentQueryTotal-1);let M=p*t.currentQueryIndex;switch(d.duration<0?"reverse":d.easing){case"reverse":M=w-M;break;case"full":M=r.currentStaggerTime}const Q=t.currentTimeline;M&&Q.delayNextStep(M);const de=Q.currentTime;cu(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=a.currentTime-de+(a.startTime-r.currentTimeline.startTime)}}const Ag={};class Bf{constructor(e,t,r,a,d,p,w,M){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=a,this._leaveClassName=d,this.errors=p,this.timelines=w,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Ag,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=M||new $f(this._driver,t,0),w.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let a=this.options;null!=r.duration&&(a.duration=ec(r.duration)),null!=r.delay&&(a.delay=ec(r.delay));const d=r.params;if(d){let p=a.params;p||(p=this.options.params={}),Object.keys(d).forEach(w=>{(!t||!p.hasOwnProperty(w))&&(p[w]=Cg(d[w],p,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(a=>{r[a]=t[a]})}}return e}createSubContext(e=null,t,r){const a=t||this.element,d=new Bf(this._driver,a,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(a,r||0));return d.previousNode=this.previousNode,d.currentAnimateTimings=this.currentAnimateTimings,d.options=this._copyOptions(),d.updateOptions(e),d.currentQueryIndex=this.currentQueryIndex,d.currentQueryTotal=this.currentQueryTotal,d.parentContext=this,this.subContextCount++,d}transformIntoNewTimeline(e){return this.previousNode=Ag,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const a={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},d=new tE(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,a,e.stretchStartingKeyframe);return this.timelines.push(d),a}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,a,d,p){let w=[];if(a&&w.push(this.element),e.length>0){e=(e=e.replace(WC,"."+this._enterClassName)).replace(Qw,"."+this._leaveClassName);let B=this._driver.query(this.element,e,1!=r);0!==r&&(B=r<0?B.slice(B.length+r,B.length):B.slice(0,r)),w.push(...B)}return!d&&0==w.length&&p.push(function ly(n){return new $.vHH(3014,!1)}()),w}}class $f{constructor(e,t,r,a){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=a,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new $f(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||Ls.l3),this._currentKeyframe.set(t,Ls.l3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,a){t&&this._previousKeyframe.set("easing",t);const d=a&&a.params||{},p=function rE(n,e){const t=new Map;let r;return n.forEach(a=>{if("*"===a){r=r||e.keys();for(let d of r)t.set(d,Ls.l3)}else Qc(a,t)}),t}(e,this._globalTimelineStyles);for(let[w,M]of p){const B=Cg(M,d,r);this._pendingStyles.set(w,B),this._localTimelineStyles.has(w)||this._backFill.set(w,this._globalTimelineStyles.get(w)??Ls.l3),this._updateStyle(w,B)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{const a=this._styleSummary.get(r);(!a||t.time>a.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let a=[];this._keyframes.forEach((w,M)=>{const B=Qc(w,new Map,this._backFill);B.forEach((Q,de)=>{Q===Ls.k1?e.add(de):Q===Ls.l3&&t.add(de)}),r||B.set("offset",M/this.duration),a.push(B)});const d=e.size?by(e.values()):[],p=t.size?by(t.values()):[];if(r){const w=a[0],M=new Map(w);w.set("offset",0),M.set("offset",1),a=[w,M]}return Wl(this.element,a,d,p,this.duration,this.startTime,this.easing,!1)}}class tE extends $f{constructor(e,t,r,a,d,p,w=!1){super(e,t,p.delay),this.keyframes=r,this.preStyleProps=a,this.postStyleProps=d,this._stretchStartingKeyframe=w,this.timings={duration:p.duration,delay:p.delay,easing:p.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:a}=this.timings;if(this._stretchStartingKeyframe&&t){const d=[],p=r+t,w=t/p,M=Qc(e[0]);M.set("offset",0),d.push(M);const B=Qc(e[0]);B.set("offset",nE(w)),d.push(B);const Q=e.length-1;for(let de=1;de<=Q;de++){let Ue=Qc(e[de]);const tt=Ue.get("offset");Ue.set("offset",nE((t+tt*r)/p)),d.push(Ue)}r=p,t=0,a="",e=d}return Wl(this.element,e,this.preStyleProps,this.postStyleProps,r,t,a,!0)}}function nE(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class My{}const tI=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Py extends My{normalizePropertyName(e,t){return Kv(e)}normalizeStyleValue(e,t,r,a){let d="";const p=r.toString().trim();if(tI.has(t)&&0!==r&&"0"!==r)if("number"==typeof r)d="px";else{const w=r.match(/^[+-]?[\d\.]+([a-z]*)$/);w&&0==w[1].length&&a.push(function Dw(n,e){return new $.vHH(3005,!1)}())}return p+d}}function tc(n,e,t,r,a,d,p,w,M,B,Q,de,Ue){return{type:0,element:n,triggerName:e,isRemovalTransition:a,fromState:t,fromStyles:d,toState:r,toStyles:p,timelines:w,queriedElements:M,preStyleProps:B,postStyleProps:Q,totalTime:de,errors:Ue}}const nc={};class Ny{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,a){return function sE(n,e,t,r,a){return n.some(d=>d(e,t,r,a))}(this.ast.matchers,e,t,r,a)}buildStyles(e,t,r){let a=this._stateStyles.get("*");return void 0!==e&&(a=this._stateStyles.get(e?.toString())||a),a?a.buildStyles(t,r):new Map}build(e,t,r,a,d,p,w,M,B,Q){const de=[],Ue=this.ast.options&&this.ast.options.params||nc,vt=this.buildStyles(r,w&&w.params||nc,de),xt=M&&M.params||nc,Wt=this.buildStyles(a,xt,de),jn=new Set,Er=new Map,pr=new Map,Wi="void"===a,zs={params:nI(xt,Ue),delay:this.ast.options?.delay},Xi=Q?[]:Uf(e,t,this.ast.animation,d,p,vt,Wt,zs,B,de);let Ds=0;if(Xi.forEach(rc=>{Ds=Math.max(rc.duration+rc.delay,Ds)}),de.length)return tc(t,this._triggerName,r,a,Wi,vt,Wt,[],[],Er,pr,Ds,de);Xi.forEach(rc=>{const kd=rc.element,iD=Fa(Er,kd,new Set);rc.preStyleProps.forEach(Gf=>iD.add(Gf));const Gy=Fa(pr,kd,new Set);rc.postStyleProps.forEach(Gf=>Gy.add(Gf)),kd!==t&&jn.add(kd)});const gl=by(jn.values());return tc(t,this._triggerName,r,a,Wi,vt,Wt,Xi,gl,Er,pr,Ds)}}function nI(n,e){const t=Ph(e);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(t[r]=n[r]);return t}class KC{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r=new Map,a=Ph(this.defaultParams);return Object.keys(e).forEach(d=>{const p=e[d];null!==p&&(a[d]=p)}),this.styles.styles.forEach(d=>{"string"!=typeof d&&d.forEach((p,w)=>{p&&(p=Cg(p,a,t));const M=this.normalizer.normalizePropertyName(w,t);p=this.normalizer.normalizeStyleValue(w,M,p,t),r.set(w,p)})}),r}}class iI{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(a=>{this.states.set(a.name,new KC(a.style,a.options&&a.options.params||{},r))}),oE(this.states,"true","1"),oE(this.states,"false","0"),t.transitions.forEach(a=>{this.transitionFactories.push(new Ny(e,a,this.states))}),this.fallbackTransition=function sI(n,e,t){return new Ny(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(p,w)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,a){return this.transitionFactories.find(p=>p.match(e,t,r,a))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function oE(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const aE=new bg;class qC{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const r=[],a=[],d=Xv(this._driver,t,r,a);if(r.length)throw function cy(n){return new $.vHH(3503,!1)}();this._animations.set(e,d)}_buildPlayer(e,t,r){const a=e.element,d=Lw(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(a,d,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const a=[],d=this._animations.get(e);let p;const w=new Map;if(d?(p=Uf(this._driver,t,d,jv,vg,new Map,new Map,r,aE,a),p.forEach(Q=>{const de=Fa(w,Q.element,new Map);Q.postStyleProps.forEach(Ue=>de.set(Ue,null))})):(a.push(function xv(){return new $.vHH(3300,!1)}()),p=[]),a.length)throw function Nw(n){return new $.vHH(3504,!1)}();w.forEach((Q,de)=>{Q.forEach((Ue,tt)=>{Q.set(tt,this._driver.computeStyle(de,tt,Ls.l3))})});const B=Yc(p.map(Q=>{const de=w.get(Q.element);return this._buildPlayer(Q,new Map,de)}));return this._playersById.set(e,B),B.onDestroy(()=>this.destroy(e)),this.players.push(B),B}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function Ov(n){return new $.vHH(3301,!1)}();return t}listen(e,t,r,a){const d=Nf(t,"","","");return Vv(this._getPlayer(e),r,d,a),()=>{}}command(e,t,r,a){if("register"==r)return void this.register(e,a[0]);if("create"==r)return void this.create(e,t,a[0]||{});const d=this._getPlayer(e);switch(r){case"play":d.play();break;case"pause":d.pause();break;case"reset":d.reset();break;case"restart":d.restart();break;case"finish":d.finish();break;case"init":d.init();break;case"setPosition":d.setPosition(parseFloat(a[0]));break;case"destroy":this.destroy(e)}}}const xy="ng-animate-queued",Rg="ng-animate-disabled",uE=[],ky={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},cE={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Kl="__ng_removed";class Nh{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function QC(n){return n??null}(r?e.value:e),r){const d=Ph(e);delete d.value,this.options=d}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(a=>{null==r[a]&&(r[a]=t[a])})}}}const ed="void",Mg=new Nh(ed);class aI{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Nu(t,this._hostClassName)}listen(e,t,r,a){if(!this._triggers.has(t))throw function kv(n,e){return new $.vHH(3302,!1)}();if(null==r||0==r.length)throw function xw(n){return new $.vHH(3303,!1)}();if(!function uI(n){return"start"==n||"done"==n}(r))throw function Fv(n,e){return new $.vHH(3400,!1)}();const d=Fa(this._elementListeners,e,[]),p={name:t,phase:r,callback:a};d.push(p);const w=Fa(this._engine.statesByElement,e,new Map);return w.has(t)||(Nu(e,wy),Nu(e,wy+"-"+t),w.set(t,Mg)),()=>{this._engine.afterFlush(()=>{const M=d.indexOf(p);M>=0&&d.splice(M,1),this._triggers.has(t)||w.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function Lv(n){return new $.vHH(3401,!1)}();return t}trigger(e,t,r,a=!0){const d=this._getTrigger(t),p=new dE(this.id,t,e);let w=this._engine.statesByElement.get(e);w||(Nu(e,wy),Nu(e,wy+"-"+t),this._engine.statesByElement.set(e,w=new Map));let M=w.get(t);const B=new Nh(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&M&&B.absorbOptions(M.options),w.set(t,B),M||(M=Mg),B.value!==ed&&M.value===B.value){if(!function Pg(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let a=0;a<t.length;a++){const d=t[a];if(!e.hasOwnProperty(d)||n[d]!==e[d])return!1}return!0}(M.params,B.params)){const xt=[],Wt=d.matchStyles(M.value,M.params,xt),jn=d.matchStyles(B.value,B.params,xt);xt.length?this._engine.reportError(xt):this._engine.afterFlush(()=>{Xc(e,Wt),Pu(e,jn)})}return}const Ue=Fa(this._engine.playersByElement,e,[]);Ue.forEach(xt=>{xt.namespaceId==this.id&&xt.triggerName==t&&xt.queued&&xt.destroy()});let tt=d.matchTransition(M.value,B.value,e,B.params),vt=!1;if(!tt){if(!a)return;tt=d.fallbackTransition,vt=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:tt,fromState:M,toState:B,player:p,isFallbackTransition:vt}),vt||(Nu(e,xy),p.onStart(()=>{Hf(e,xy)})),p.onDone(()=>{let xt=this.players.indexOf(p);xt>=0&&this.players.splice(xt,1);const Wt=this._engine.playersByElement.get(e);if(Wt){let jn=Wt.indexOf(p);jn>=0&&Wt.splice(jn,1)}}),this.players.push(p),Ue.push(p),p}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(a=>a.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,Eg,!0);r.forEach(a=>{if(a[Kl])return;const d=this._engine.fetchNamespacesByElement(a);d.size?d.forEach(p=>p.triggerLeaveAnimation(a,t,!1,!0)):this.clearElementCache(a)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(a=>this.clearElementCache(a)))}triggerLeaveAnimation(e,t,r,a){const d=this._engine.statesByElement.get(e),p=new Map;if(d){const w=[];if(d.forEach((M,B)=>{if(p.set(B,M.value),this._triggers.has(B)){const Q=this.trigger(e,B,ed,a);Q&&w.push(Q)}}),w.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,p),r&&Yc(w).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const a=new Set;t.forEach(d=>{const p=d.name;if(a.has(p))return;a.add(p);const M=this._triggers.get(p).fallbackTransition,B=r.get(p)||Mg,Q=new Nh(ed),de=new dE(this.id,p,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:p,transition:M,fromState:B,toState:Q,player:de,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let a=!1;if(r.totalAnimations){const d=r.players.length?r.playersByQueriedElement.get(e):[];if(d&&d.length)a=!0;else{let p=e;for(;p=p.parentNode;)if(r.statesByElement.get(p)){a=!0;break}}}if(this.prepareLeaveAnimationListeners(e),a)r.markElementAsRemoved(this.id,e,!1,t);else{const d=e[Kl];(!d||d===ky)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){Nu(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const a=r.player;if(a.destroyed)return;const d=r.element,p=this._elementListeners.get(d);p&&p.forEach(w=>{if(w.name==r.triggerName){const M=Nf(d,r.triggerName,r.fromState.value,r.toState.value);M._data=e,Vv(r.player,w.phase,M,w.callback)}}),a.markedForDestroy?this._engine.afterFlush(()=>{a.destroy()}):t.push(r)}),this._queue=[],t.sort((r,a)=>{const d=r.transition.ast.depCount,p=a.transition.ast.depCount;return 0==d||0==p?d-p:this._engine.driver.containsElement(r.element,a.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class lI{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(a,d)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new aI(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,a=this.namespacesByHostElement;if(r.length-1>=0){let p=!1,w=this.driver.getParentElement(t);for(;w;){const M=a.get(w);if(M){const B=r.indexOf(M);r.splice(B+1,0,e),p=!0;break}w=this.driver.getParentElement(w)}p||r.unshift(e)}else r.push(e);return a.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let a=this._namespaceLookup[e];a&&a.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const a=this._namespaceList.indexOf(r);a>=0&&this._namespaceList.splice(a,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r)for(let a of r.values())if(a.namespaceId){const d=this._fetchNamespace(a.namespaceId);d&&t.add(d)}return t}trigger(e,t,r,a){if(jf(t)){const d=this._fetchNamespace(e);if(d)return d.trigger(t,r,a),!0}return!1}insertNode(e,t,r,a){if(!jf(t))return;const d=t[Kl];if(d&&d.setForRemoval){d.setForRemoval=!1,d.setForMove=!0;const p=this.collectedLeaveElements.indexOf(t);p>=0&&this.collectedLeaveElements.splice(p,1)}if(e){const p=this._fetchNamespace(e);p&&p.insertNode(t,r)}a&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Nu(e,Rg)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Hf(e,Rg))}removeNode(e,t,r,a){if(jf(t)){const d=e?this._fetchNamespace(e):null;if(d?d.removeNode(t,a):this.markElementAsRemoved(e,t,!1,a),r){const p=this.namespacesByHostElement.get(t);p&&p.id!==e&&p.removeNode(t,a)}}else this._onRemovalComplete(t,a)}markElementAsRemoved(e,t,r,a,d){this.collectedLeaveElements.push(t),t[Kl]={namespaceId:e,setForRemoval:a,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:d}}listen(e,t,r,a,d){return jf(t)?this._fetchNamespace(e).listen(t,r,a,d):()=>{}}_buildInstruction(e,t,r,a,d){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,a,e.fromState.options,e.toState.options,t,d)}destroyInnerAnimations(e){let t=this.driver.query(e,Eg,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,Iy,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Yc(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[Kl];if(t&&t.setForRemoval){if(e[Kl]=ky,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(Rg)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,a)=>this._balanceNamespaceList(r,a)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Nu(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let a=0;a<r.length;a++)r[a]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?Yc(t).onDone(()=>{r.forEach(a=>a())}):r.forEach(a=>a())}}reportError(e){throw function Ow(n){return new $.vHH(3402,!1)}()}_flushAnimations(e,t){const r=new bg,a=[],d=new Map,p=[],w=new Map,M=new Map,B=new Map,Q=new Set;this.disabledNodes.forEach(er=>{Q.add(er);const wr=this.driver.query(er,".ng-animate-queued",!0);for(let jr=0;jr<wr.length;jr++)Q.add(wr[jr])});const de=this.bodyNode,Ue=Array.from(this.statesByElement.keys()),tt=cI(Ue,this.collectedEnterElements),vt=new Map;let xt=0;tt.forEach((er,wr)=>{const jr=jv+xt++;vt.set(wr,jr),er.forEach(ss=>Nu(ss,jr))});const Wt=[],jn=new Set,Er=new Set;for(let er=0;er<this.collectedLeaveElements.length;er++){const wr=this.collectedLeaveElements[er],jr=wr[Kl];jr&&jr.setForRemoval&&(Wt.push(wr),jn.add(wr),jr.hasAnimation?this.driver.query(wr,".ng-star-inserted",!0).forEach(ss=>jn.add(ss)):Er.add(wr))}const pr=new Map,Wi=cI(Ue,Array.from(jn));Wi.forEach((er,wr)=>{const jr=vg+xt++;pr.set(wr,jr),er.forEach(ss=>Nu(ss,jr))}),e.push(()=>{tt.forEach((er,wr)=>{const jr=vt.get(wr);er.forEach(ss=>Hf(ss,jr))}),Wi.forEach((er,wr)=>{const jr=pr.get(wr);er.forEach(ss=>Hf(ss,jr))}),Wt.forEach(er=>{this.processLeaveNode(er)})});const zs=[],Xi=[];for(let er=this._namespaceList.length-1;er>=0;er--)this._namespaceList[er].drainQueuedTransitions(t).forEach(jr=>{const ss=jr.player,Ja=jr.element;if(zs.push(ss),this.collectedEnterElements.length){const Pl=Ja[Kl];if(Pl&&Pl.setForMove){if(Pl.previousTriggersValues&&Pl.previousTriggersValues.has(jr.triggerName)){const zf=Pl.previousTriggersValues.get(jr.triggerName),ic=this.statesByElement.get(jr.element);if(ic&&ic.has(jr.triggerName)){const TE=ic.get(jr.triggerName);TE.value=zf,ic.set(jr.triggerName,TE)}}return void ss.destroy()}}const nd=!de||!this.driver.containsElement(de,Ja),xu=pr.get(Ja),xh=vt.get(Ja),$o=this._buildInstruction(jr,r,xh,xu,nd);if($o.errors&&$o.errors.length)return void Xi.push($o);if(nd)return ss.onStart(()=>Xc(Ja,$o.fromStyles)),ss.onDestroy(()=>Pu(Ja,$o.toStyles)),void a.push(ss);if(jr.isFallbackTransition)return ss.onStart(()=>Xc(Ja,$o.fromStyles)),ss.onDestroy(()=>Pu(Ja,$o.toStyles)),void a.push(ss);const aD=[];$o.timelines.forEach(Pl=>{Pl.stretchStartingKeyframe=!0,this.disabledNodes.has(Pl.element)||aD.push(Pl)}),$o.timelines=aD,r.append(Ja,$o.timelines),p.push({instruction:$o,player:ss,element:Ja}),$o.queriedElements.forEach(Pl=>Fa(w,Pl,[]).push(ss)),$o.preStyleProps.forEach((Pl,zf)=>{if(Pl.size){let ic=M.get(zf);ic||M.set(zf,ic=new Set),Pl.forEach((TE,AI)=>ic.add(AI))}}),$o.postStyleProps.forEach((Pl,zf)=>{let ic=B.get(zf);ic||B.set(zf,ic=new Set),Pl.forEach((TE,AI)=>ic.add(AI))})});if(Xi.length){const er=[];Xi.forEach(wr=>{er.push(function Fw(n,e){return new $.vHH(3505,!1)}())}),zs.forEach(wr=>wr.destroy()),this.reportError(er)}const Ds=new Map,gl=new Map;p.forEach(er=>{const wr=er.element;r.has(wr)&&(gl.set(wr,wr),this._beforeAnimationBuild(er.player.namespaceId,er.instruction,Ds))}),a.forEach(er=>{const wr=er.element;this._getPreviousPlayers(wr,!1,er.namespaceId,er.triggerName,null).forEach(ss=>{Fa(Ds,wr,[]).push(ss),ss.destroy()})});const rc=Wt.filter(er=>gE(er,M,B)),kd=new Map;fE(kd,this.driver,Er,B,Ls.l3).forEach(er=>{gE(er,M,B)&&rc.push(er)});const Gy=new Map;tt.forEach((er,wr)=>{fE(Gy,this.driver,new Set(er),M,Ls.k1)}),rc.forEach(er=>{const wr=kd.get(er),jr=Gy.get(er);kd.set(er,new Map([...Array.from(wr?.entries()??[]),...Array.from(jr?.entries()??[])]))});const Gf=[],sD=[],oD={};p.forEach(er=>{const{element:wr,player:jr,instruction:ss}=er;if(r.has(wr)){if(Q.has(wr))return jr.onDestroy(()=>Pu(wr,ss.toStyles)),jr.disabled=!0,jr.overrideTotalTime(ss.totalTime),void a.push(jr);let Ja=oD;if(gl.size>1){let xu=wr;const xh=[];for(;xu=xu.parentNode;){const $o=gl.get(xu);if($o){Ja=$o;break}xh.push(xu)}xh.forEach($o=>gl.set($o,Ja))}const nd=this._buildAnimation(jr.namespaceId,ss,Ds,d,Gy,kd);if(jr.setRealPlayer(nd),Ja===oD)Gf.push(jr);else{const xu=this.playersByElement.get(Ja);xu&&xu.length&&(jr.parentPlayer=Yc(xu)),a.push(jr)}}else Xc(wr,ss.fromStyles),jr.onDestroy(()=>Pu(wr,ss.toStyles)),sD.push(jr),Q.has(wr)&&a.push(jr)}),sD.forEach(er=>{const wr=d.get(er.element);if(wr&&wr.length){const jr=Yc(wr);er.setRealPlayer(jr)}}),a.forEach(er=>{er.parentPlayer?er.syncPlayerEvents(er.parentPlayer):er.destroy()});for(let er=0;er<Wt.length;er++){const wr=Wt[er],jr=wr[Kl];if(Hf(wr,vg),jr&&jr.hasAnimation)continue;let ss=[];if(w.size){let nd=w.get(wr);nd&&nd.length&&ss.push(...nd);let xu=this.driver.query(wr,Iy,!0);for(let xh=0;xh<xu.length;xh++){let $o=w.get(xu[xh]);$o&&$o.length&&ss.push(...$o)}}const Ja=ss.filter(nd=>!nd.destroyed);Ja.length?XC(this,wr,Ja):this.processLeaveNode(wr)}return Wt.length=0,Gf.forEach(er=>{this.players.push(er),er.onDone(()=>{er.destroy();const wr=this.players.indexOf(er);this.players.splice(wr,1)}),er.play()}),Gf}elementContainsData(e,t){let r=!1;const a=t[Kl];return a&&a.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,a,d){let p=[];if(t){const w=this.playersByQueriedElement.get(e);w&&(p=w)}else{const w=this.playersByElement.get(e);if(w){const M=!d||d==ed;w.forEach(B=>{B.queued||!M&&B.triggerName!=a||p.push(B)})}}return(r||a)&&(p=p.filter(w=>!(r&&r!=w.namespaceId||a&&a!=w.triggerName))),p}_beforeAnimationBuild(e,t,r){const d=t.element,p=t.isRemovalTransition?void 0:e,w=t.isRemovalTransition?void 0:t.triggerName;for(const M of t.timelines){const B=M.element,Q=B!==d,de=Fa(r,B,[]);this._getPreviousPlayers(B,Q,p,w,t.toState).forEach(tt=>{const vt=tt.getRealPlayer();vt.beforeDestroy&&vt.beforeDestroy(),tt.destroy(),de.push(tt)})}Xc(d,t.fromStyles)}_buildAnimation(e,t,r,a,d,p){const w=t.triggerName,M=t.element,B=[],Q=new Set,de=new Set,Ue=t.timelines.map(vt=>{const xt=vt.element;Q.add(xt);const Wt=xt[Kl];if(Wt&&Wt.removedBeforeQueried)return new Ls.ZN(vt.duration,vt.delay);const jn=xt!==M,Er=function JC(n){const e=[];return pE(n,e),e}((r.get(xt)||uE).map(Ds=>Ds.getRealPlayer())).filter(Ds=>!!Ds.element&&Ds.element===xt),pr=d.get(xt),Wi=p.get(xt),zs=Lw(0,this._normalizer,0,vt.keyframes,pr,Wi),Xi=this._buildPlayer(vt,zs,Er);if(vt.subTimeline&&a&&de.add(xt),jn){const Ds=new dE(e,w,xt);Ds.setRealPlayer(Xi),B.push(Ds)}return Xi});B.forEach(vt=>{Fa(this.playersByQueriedElement,vt.element,[]).push(vt),vt.onDone(()=>function ZC(n,e,t){let r=n.get(e);if(r){if(r.length){const a=r.indexOf(t);r.splice(a,1)}0==r.length&&n.delete(e)}return r}(this.playersByQueriedElement,vt.element,vt))}),Q.forEach(vt=>Nu(vt,Hv));const tt=Yc(Ue);return tt.onDestroy(()=>{Q.forEach(vt=>Hf(vt,Hv)),Pu(M,t.toStyles)}),de.forEach(vt=>{Fa(a,vt,[]).push(tt)}),tt}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new Ls.ZN(e.duration,e.delay)}}class dE{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new Ls.ZN,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(a=>Vv(e,r,void 0,a))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Fa(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function jf(n){return n&&1===n.nodeType}function hE(n,e){const t=n.style.display;return n.style.display=e??"none",t}function fE(n,e,t,r,a){const d=[];t.forEach(M=>d.push(hE(M)));const p=[];r.forEach((M,B)=>{const Q=new Map;M.forEach(de=>{const Ue=e.computeStyle(B,de,a);Q.set(de,Ue),(!Ue||0==Ue.length)&&(B[Kl]=cE,p.push(B))}),n.set(B,Q)});let w=0;return t.forEach(M=>hE(M,d[w++])),p}function cI(n,e){const t=new Map;if(n.forEach(w=>t.set(w,[])),0==e.length)return t;const r=1,a=new Set(e),d=new Map;function p(w){if(!w)return r;let M=d.get(w);if(M)return M;const B=w.parentNode;return M=t.has(B)?B:a.has(B)?r:p(B),d.set(w,M),M}return e.forEach(w=>{const M=p(w);M!==r&&t.get(M).push(w)}),t}function Nu(n,e){n.classList?.add(e)}function Hf(n,e){n.classList?.remove(e)}function XC(n,e,t){Yc(t).onDone(()=>n.processLeaveNode(e))}function pE(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof Ls.ZE?pE(r.players,e):e.push(r)}}function gE(n,e,t){const r=t.get(n);if(!r)return!1;let a=e.get(n);return a?r.forEach(d=>a.add(d)):e.set(n,r),t.delete(n),!0}class Ng{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(a,d)=>{},this._transitionEngine=new lI(e,t,r),this._timelineEngine=new qC(e,t,r),this._transitionEngine.onRemovalComplete=(a,d)=>this.onRemovalComplete(a,d)}registerTrigger(e,t,r,a,d){const p=e+"-"+a;let w=this._triggerCache[p];if(!w){const M=[],B=[],Q=Xv(this._driver,d,M,B);if(M.length)throw function Pw(n,e){return new $.vHH(3404,!1)}();w=function rI(n,e,t){return new iI(n,e,t)}(a,Q,this._normalizer),this._triggerCache[p]=w}this._transitionEngine.registerTrigger(t,a,w)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,a){this._transitionEngine.insertNode(e,t,r,a)}onRemove(e,t,r,a){this._transitionEngine.removeNode(e,t,a||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,a){if("@"==r.charAt(0)){const[d,p]=Uv(r);this._timelineEngine.command(d,t,p,a)}else this._transitionEngine.trigger(e,t,r,a)}listen(e,t,r,a,d){if("@"==r.charAt(0)){const[p,w]=Uv(r);return this._timelineEngine.listen(p,t,w,d)}return this._transitionEngine.listen(e,t,r,a,d)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let Od=(()=>{class n{constructor(t,r,a){this._element=t,this._startStyles=r,this._endStyles=a,this._state=0;let d=n.initialStylesByElement.get(t);d||n.initialStylesByElement.set(t,d=new Map),this._initialStyles=d}start(){this._state<1&&(this._startStyles&&Pu(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Pu(this._element,this._initialStyles),this._endStyles&&(Pu(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Xc(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Xc(this._element,this._endStyles),this._endStyles=null),Pu(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function xg(n){let e=null;return n.forEach((t,r)=>{(function Fy(n){return"display"===n||"position"===n})(r)&&(e=e||new Map,e.set(r,t))}),e}class Og{constructor(e,t,r,a){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,a)=>{"offset"!==a&&e.set(a,this._finished?r:kf(this.element,a))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class dI{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return Uw(e,t)}getParentElement(e){return fy(e)}query(e,t,r){return yy(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,a,d,p=[]){const M={duration:r,delay:a,fill:0==a?"both":"forwards"};d&&(M.easing=d);const B=new Map,Q=p.filter(tt=>tt instanceof Og);(function $C(n,e){return 0===n||0===e})(r,a)&&Q.forEach(tt=>{tt.currentSnapshot.forEach((vt,xt)=>B.set(xt,vt))});let de=function $w(n){return n.length?n[0]instanceof Map?n:n.map(e=>zv(e)):[]}(t).map(tt=>Qc(tt));de=function jC(n,e,t){if(t.size&&e.length){let r=e[0],a=[];if(t.forEach((d,p)=>{r.has(p)||a.push(p),r.set(p,d)}),a.length)for(let d=1;d<e.length;d++){let p=e[d];a.forEach(w=>p.set(w,kf(n,w)))}}return e}(e,de,B);const Ue=function mE(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=xg(e[0]),e.length>1&&(r=xg(e[e.length-1]))):e instanceof Map&&(t=xg(e)),t||r?new Od(n,t,r):null}(e,de);return new Og(e,de,M,Ue)}}var kg=G(6895);let Ly=(()=>{class n extends Ls._j{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:$.ifc.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const a=Array.isArray(t)?(0,Ls.vP)(t):t;return hI(this._renderer,null,r,"register",[a]),new Fg(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)($.LFG($.FYo),$.LFG(kg.K0))},n.\u0275prov=$.Yz7({token:n,factory:n.\u0275fac}),n})();class Fg extends Ls.LC{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new eD(this._id,e,t||{},this._renderer)}}class eD{constructor(e,t,r,a){this.id=e,this.element=t,this._renderer=a,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return hI(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function hI(n,e,t,r,a){return n.setProperty(e,`@@${t}:${r}`,a)}const fI="@.disabled";let yE=(()=>{class n{constructor(t,r,a){this.delegate=t,this.engine=r,this._zone=a,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(d,p)=>{const w=p?.parentNode(d);w&&p.removeChild(w,d)}}createRenderer(t,r){const d=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let Q=this._rendererCache.get(d);return Q||(Q=new _E("",d,this.engine,()=>this._rendererCache.delete(d)),this._rendererCache.set(d,Q)),Q}const p=r.id,w=r.id+"-"+this._currentId;this._currentId++,this.engine.register(w,t);const M=Q=>{Array.isArray(Q)?Q.forEach(M):this.engine.registerTrigger(p,w,t,Q.name,Q)};return r.data.animation.forEach(M),new pI(this,w,d,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,a){t>=0&&t<this._microtaskId?this._zone.run(()=>r(a)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(d=>{const[p,w]=d;p(w)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,a]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)($.LFG($.FYo),$.LFG(Ng),$.LFG($.R0b))},n.\u0275prov=$.Yz7({token:n,factory:n.\u0275fac}),n})();class _E{constructor(e,t,r,a){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=a,this.destroyNode=this.delegate.destroyNode?d=>t.destroyNode(d):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,a=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,a)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,a){this.delegate.setAttribute(e,t,r,a)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,a){this.delegate.setStyle(e,t,r,a)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==fI?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class pI extends _E{constructor(e,t,r,a,d){super(t,r,a,d),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==fI?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const a=function gI(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let d=t.slice(1),p="";return"@"!=d.charAt(0)&&([d,p]=function mI(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(d)),this.engine.listen(this.namespaceId,a,d,p,w=>{this.factory.scheduleListenerCallback(w._data||-1,r,w)})}return this.delegate.listen(e,t,r)}}let vE=(()=>{class n extends Ng{constructor(t,r,a,d){super(t.body,r,a)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)($.LFG(kg.K0),$.LFG(Zc),$.LFG(My),$.LFG($.z2F))},n.\u0275prov=$.Yz7({token:n,factory:n.\u0275fac}),n})();const IE=[{provide:Ls._j,useClass:Ly},{provide:My,useFactory:function EE(){return new Py}},{provide:Ng,useClass:vE},{provide:$.FYo,useFactory:function wE(n,e,t){return new yE(n,e,t)},deps:[_.se,Ng,$.R0b]}],Uy=[{provide:Zc,useFactory:()=>new dI},{provide:$.QbO,useValue:"BrowserAnimations"},...IE],By=[{provide:Zc,useClass:_y},{provide:$.QbO,useValue:"NoopAnimations"},...IE];let $y=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?By:Uy}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=$.oAB({type:n}),n.\u0275inj=$.cJS({providers:Uy,imports:[_.b2]}),n})();var DE=G(7512),_I=G(9751),vI=G(9646),jy=G(8996),EI=G(4986),wI=G(4482),II=G(5403),nD=G(4004),CI=G(3900),rD=G(3942),fo=G(6961);class Hy{constructor(e,t,r){this._delegate=e,this.task=t,this.ref=r}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class DI{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new Hy(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then(r=>{if(e)return e(new Hy(r,this,this._ref))},t)}on(e,t,r,a){let d;return t&&(d="function"==typeof t?p=>t(new Hy(p,this,this._ref)):{next:t.next?p=>t.next(new Hy(p,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,d,r||void 0,a||void 0)}}class TI{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map(e=>new td(e,this._service))}get items(){return this._delegate.items.map(e=>new td(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class td{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=(0,fo.g6)(this._delegate,e);return new td(t,this.storage)}get root(){return new td(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new td(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new DI((0,fo.B0)(this._delegate,e,t),this)}putString(e,t=fo.bm.RAW,r){this._throwIfRoot("putString");const a=(0,fo.qm)(t,e),d=Object.assign({},r);return null==d.contentType&&null!=a.contentType&&(d.contentType=a.contentType),new DI(new fo.IX(this._delegate,new fo.UJ(a.data,!0),d),this)}listAll(){return(0,fo.aF)(this._delegate).then(e=>new TI(e,this.storage))}list(e){return(0,fo.pb)(this._delegate,e||void 0).then(t=>new TI(t,this.storage))}getMetadata(){return(0,fo.sd)(this._delegate)}updateMetadata(e){return(0,fo.Ym)(this._delegate,e)}getDownloadURL(){return(0,fo.Jt)(this._delegate)}delete(){return this._throwIfRoot("delete"),(0,fo.oq)(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw(0,fo.y4)(e)}}class SI{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(bI(e))throw(0,fo.gH)("ref() expected a child path but got a URL, use refFromURL instead.");return new td((0,fo.iH)(this._delegate,e),this)}refFromURL(e){if(!bI(e))throw(0,fo.gH)("refFromURL() expected a full URL but got a child path, use ref() instead.");try{fo.gE.makeFromUrl(e,this._delegate.host)}catch{throw(0,fo.gH)("refFromUrl() expected a valid full URL but got an invalid one.")}return new td((0,fo.iH)(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t,r={}){(0,fo.a1)(this._delegate,e,t,r)}}function bI(n){return/^[A-Za-z]+:\/\//.test(n)}function l(n,{instanceIdentifier:e}){const t=n.getProvider("app-compat").getImmediate(),r=n.getProvider("storage").getImmediate({identifier:e});return new SI(t,r)}!function f(n){const e={TaskState:fo.$Y,TaskEvent:fo.FN,StringFormat:fo.bm,Storage:SI,Reference:td};n.INTERNAL.registerComponent(new at.wA("storage-compat",l,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.3.2")}(rD.Z);var y=G(9260);function R(n){const e=function I(n){return new _I.y(e=>{const t=p=>e.next(p);t(n.snapshot);const d=n.on("state_changed",t);return n.then(p=>{t(p),e.complete()},p=>{t(n.snapshot),(p=>{e.error(p)})(p)}),function(){d()}}).pipe(function tD(n,e=EI.z){return(0,wI.e)((t,r)=>{let a=null,d=null,p=null;const w=()=>{if(a){a.unsubscribe(),a=null;const B=d;d=null,r.next(B)}};function M(){const B=p+n,Q=e.now();if(Q<B)return a=this.schedule(void 0,B-Q),void r.add(a);w()}t.subscribe((0,II.x)(r,B=>{d=B,p=e.now(),a||(a=e.schedule(M,n),r.add(a))},()=>{w(),r.complete()},void 0,()=>{d=a=null}))})}(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>e,percentageChanges:()=>e.pipe((0,nD.U)(t=>t.bytesTransferred/t.totalBytes*100))}}function V(n){return{getDownloadURL:()=>(0,vI.of)(void 0).pipe(fe.fc,(0,CI.w)(()=>n.getDownloadURL()),fe.iC),getMetadata:()=>(0,vI.of)(void 0).pipe(fe.fc,(0,CI.w)(()=>n.getMetadata()),fe.iC),delete:()=>(0,jy.D)(n.delete()),child:e=>V(n.child(e)),updateMetadata:e=>(0,jy.D)(n.updateMetadata(e)),put:(e,t)=>R(n.put(e,t)),putString:(e,t,r)=>R(n.putString(e,t,r)),list:e=>(0,jy.D)(n.list(e)),listAll:()=>(0,jy.D)(n.listAll())}}const K=new $.OlP("angularfire2.storageBucket"),se=new $.OlP("angularfire2.storage.maxUploadRetryTime"),ve=new $.OlP("angularfire2.storage.maxOperationRetryTime"),je=new $.OlP("angularfire2.storage.use-emulator");let st=(()=>{class n{constructor(t,r,a,d,p,w,M,B,Q,de){const Ue=(0,Rh.on)(t,p,r);this.storage=(0,Rh.cc)(`${Ue.name}.storage.${a}`,"AngularFireStorage",Ue.name,()=>{const tt=p.runOutsideAngular(()=>Ue.storage(a||void 0)),vt=Q;return vt&&tt.useEmulator(...vt),M&&tt.setMaxUploadRetryTime(M),B&&tt.setMaxOperationRetryTime(B),tt},[M,B])}ref(t){return V(this.storage.ref(t))}refFromURL(t){return V(this.storage.refFromURL(t))}upload(t,r,a){return V(this.storage.ref(t)).put(r,a)}}return n.\u0275fac=function(t){return new(t||n)($.LFG(Rh.Dh),$.LFG(Rh.xv,8),$.LFG(K,8),$.LFG($.Lbi),$.LFG($.R0b),$.LFG(fe.HU),$.LFG(se,8),$.LFG(ve,8),$.LFG(je,8),$.LFG(pt.nm,8))},n.\u0275prov=$.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Jt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=$.oAB({type:n}),n.\u0275inj=$.cJS({}),n})(),bn=(()=>{class n{constructor(){y.Z.registerVersion("angularfire",fe.q4.full,"gcs-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=$.oAB({type:n}),n.\u0275inj=$.cJS({providers:[st],imports:[Jt]}),n})();Rh.hO.initializeApp(xd.firebaseConfig);let Wn=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=$.oAB({type:n,bootstrap:[Le]}),n.\u0275inj=$.cJS({providers:[Re.e,{provide:Rh.Dh,useValue:xd.firebaseConfig},be],imports:[_.b2,qe,$y,X.Bz,Qe.u5,(0,pe.hX)(()=>(0,pe.ZF)(xd.firebaseConfig)),(0,Ae.AR)(()=>(0,Ae.v0)()),Q0(()=>uw()),(0,DE.Vq)(()=>(0,DE.cF)()),vw.ww,Ew.JS,bn]}),n})();_.q6().bootstrapModule(Wn).catch(n=>console.error(n))},9751:(rn,it,G)=>{G.d(it,{y:()=>Le});var _=G(930),X=G(727),$=G(8822),Re=G(9635),be=G(2416),Ve=G(576),qe=G(2806);let Le=(()=>{class Ae{constructor(pt){pt&&(this._subscribe=pt)}lift(pt){const At=new Ae;return At.source=this,At.operator=pt,At}subscribe(pt,At,jt){const at=function fe(Ae){return Ae&&Ae instanceof _.Lv||function pe(Ae){return Ae&&(0,Ve.m)(Ae.next)&&(0,Ve.m)(Ae.error)&&(0,Ve.m)(Ae.complete)}(Ae)&&(0,X.Nn)(Ae)}(pt)?pt:new _.Hp(pt,At,jt);return(0,qe.x)(()=>{const{operator:wt,source:Tt}=this;at.add(wt?wt.call(at,Tt):Tt?this._subscribe(at):this._trySubscribe(at))}),at}_trySubscribe(pt){try{return this._subscribe(pt)}catch(At){pt.error(At)}}forEach(pt,At){return new(At=Qe(At))((jt,at)=>{const wt=new _.Hp({next:Tt=>{try{pt(Tt)}catch(Dt){at(Dt),wt.unsubscribe()}},error:at,complete:jt});this.subscribe(wt)})}_subscribe(pt){var At;return null===(At=this.source)||void 0===At?void 0:At.subscribe(pt)}[$.L](){return this}pipe(...pt){return(0,Re.U)(pt)(this)}toPromise(pt){return new(pt=Qe(pt))((At,jt)=>{let at;this.subscribe(wt=>at=wt,wt=>jt(wt),()=>At(at))})}}return Ae.create=ht=>new Ae(ht),Ae})();function Qe(Ae){var ht;return null!==(ht=Ae??be.v.Promise)&&void 0!==ht?ht:Promise}},7579:(rn,it,G)=>{G.d(it,{x:()=>qe});var _=G(9751),X=G(727);const Re=(0,G(3888).d)(Qe=>function(){Qe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var be=G(8737),Ve=G(2806);let qe=(()=>{class Qe extends _.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(fe){const Ae=new Le(this,this);return Ae.operator=fe,Ae}_throwIfClosed(){if(this.closed)throw new Re}next(fe){(0,Ve.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Ae of this.currentObservers)Ae.next(fe)}})}error(fe){(0,Ve.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=fe;const{observers:Ae}=this;for(;Ae.length;)Ae.shift().error(fe)}})}complete(){(0,Ve.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:fe}=this;for(;fe.length;)fe.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var fe;return(null===(fe=this.observers)||void 0===fe?void 0:fe.length)>0}_trySubscribe(fe){return this._throwIfClosed(),super._trySubscribe(fe)}_subscribe(fe){return this._throwIfClosed(),this._checkFinalizedStatuses(fe),this._innerSubscribe(fe)}_innerSubscribe(fe){const{hasError:Ae,isStopped:ht,observers:pt}=this;return Ae||ht?X.Lc:(this.currentObservers=null,pt.push(fe),new X.w0(()=>{this.currentObservers=null,(0,be.P)(pt,fe)}))}_checkFinalizedStatuses(fe){const{hasError:Ae,thrownError:ht,isStopped:pt}=this;Ae?fe.error(ht):pt&&fe.complete()}asObservable(){const fe=new _.y;return fe.source=this,fe}}return Qe.create=(pe,fe)=>new Le(pe,fe),Qe})();class Le extends qe{constructor(pe,fe){super(),this.destination=pe,this.source=fe}next(pe){var fe,Ae;null===(Ae=null===(fe=this.destination)||void 0===fe?void 0:fe.next)||void 0===Ae||Ae.call(fe,pe)}error(pe){var fe,Ae;null===(Ae=null===(fe=this.destination)||void 0===fe?void 0:fe.error)||void 0===Ae||Ae.call(fe,pe)}complete(){var pe,fe;null===(fe=null===(pe=this.destination)||void 0===pe?void 0:pe.complete)||void 0===fe||fe.call(pe)}_subscribe(pe){var fe,Ae;return null!==(Ae=null===(fe=this.source)||void 0===fe?void 0:fe.subscribe(pe))&&void 0!==Ae?Ae:X.Lc}}},930:(rn,it,G)=>{G.d(it,{Hp:()=>jt,Lv:()=>Ae});var _=G(576),X=G(727),$=G(2416),Re=G(7849),be=G(5032);const Ve=Qe("C",void 0,void 0);function Qe(Ge,ge,lt){return{kind:Ge,value:ge,error:lt}}var pe=G(3410),fe=G(2806);class Ae extends X.w0{constructor(ge){super(),this.isStopped=!1,ge?(this.destination=ge,(0,X.Nn)(ge)&&ge.add(this)):this.destination=Dt}static create(ge,lt,et){return new jt(ge,lt,et)}next(ge){this.isStopped?Tt(function Le(Ge){return Qe("N",Ge,void 0)}(ge),this):this._next(ge)}error(ge){this.isStopped?Tt(function qe(Ge){return Qe("E",void 0,Ge)}(ge),this):(this.isStopped=!0,this._error(ge))}complete(){this.isStopped?Tt(Ve,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ge){this.destination.next(ge)}_error(ge){try{this.destination.error(ge)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ht=Function.prototype.bind;function pt(Ge,ge){return ht.call(Ge,ge)}class At{constructor(ge){this.partialObserver=ge}next(ge){const{partialObserver:lt}=this;if(lt.next)try{lt.next(ge)}catch(et){at(et)}}error(ge){const{partialObserver:lt}=this;if(lt.error)try{lt.error(ge)}catch(et){at(et)}else at(ge)}complete(){const{partialObserver:ge}=this;if(ge.complete)try{ge.complete()}catch(lt){at(lt)}}}class jt extends Ae{constructor(ge,lt,et){let ot;if(super(),(0,_.m)(ge)||!ge)ot={next:ge??void 0,error:lt??void 0,complete:et??void 0};else{let Be;this&&$.v.useDeprecatedNextContext?(Be=Object.create(ge),Be.unsubscribe=()=>this.unsubscribe(),ot={next:ge.next&&pt(ge.next,Be),error:ge.error&&pt(ge.error,Be),complete:ge.complete&&pt(ge.complete,Be)}):ot=ge}this.destination=new At(ot)}}function at(Ge){$.v.useDeprecatedSynchronousErrorHandling?(0,fe.O)(Ge):(0,Re.h)(Ge)}function Tt(Ge,ge){const{onStoppedNotification:lt}=$.v;lt&&pe.z.setTimeout(()=>lt(Ge,ge))}const Dt={closed:!0,next:be.Z,error:function wt(Ge){throw Ge},complete:be.Z}},727:(rn,it,G)=>{G.d(it,{Lc:()=>Ve,w0:()=>be,Nn:()=>qe});var _=G(576);const $=(0,G(3888).d)(Qe=>function(fe){Qe(this),this.message=fe?`${fe.length} errors occurred during unsubscription:\n${fe.map((Ae,ht)=>`${ht+1}) ${Ae.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=fe});var Re=G(8737);class be{constructor(pe){this.initialTeardown=pe,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let pe;if(!this.closed){this.closed=!0;const{_parentage:fe}=this;if(fe)if(this._parentage=null,Array.isArray(fe))for(const pt of fe)pt.remove(this);else fe.remove(this);const{initialTeardown:Ae}=this;if((0,_.m)(Ae))try{Ae()}catch(pt){pe=pt instanceof $?pt.errors:[pt]}const{_finalizers:ht}=this;if(ht){this._finalizers=null;for(const pt of ht)try{Le(pt)}catch(At){pe=pe??[],At instanceof $?pe=[...pe,...At.errors]:pe.push(At)}}if(pe)throw new $(pe)}}add(pe){var fe;if(pe&&pe!==this)if(this.closed)Le(pe);else{if(pe instanceof be){if(pe.closed||pe._hasParent(this))return;pe._addParent(this)}(this._finalizers=null!==(fe=this._finalizers)&&void 0!==fe?fe:[]).push(pe)}}_hasParent(pe){const{_parentage:fe}=this;return fe===pe||Array.isArray(fe)&&fe.includes(pe)}_addParent(pe){const{_parentage:fe}=this;this._parentage=Array.isArray(fe)?(fe.push(pe),fe):fe?[fe,pe]:pe}_removeParent(pe){const{_parentage:fe}=this;fe===pe?this._parentage=null:Array.isArray(fe)&&(0,Re.P)(fe,pe)}remove(pe){const{_finalizers:fe}=this;fe&&(0,Re.P)(fe,pe),pe instanceof be&&pe._removeParent(this)}}be.EMPTY=(()=>{const Qe=new be;return Qe.closed=!0,Qe})();const Ve=be.EMPTY;function qe(Qe){return Qe instanceof be||Qe&&"closed"in Qe&&(0,_.m)(Qe.remove)&&(0,_.m)(Qe.add)&&(0,_.m)(Qe.unsubscribe)}function Le(Qe){(0,_.m)(Qe)?Qe():Qe.unsubscribe()}},2416:(rn,it,G)=>{G.d(it,{v:()=>_});const _={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(rn,it,G)=>{G.d(it,{E:()=>X});const X=new(G(9751).y)(be=>be.complete())},8996:(rn,it,G)=>{G.d(it,{D:()=>ge});var _=G(8421),X=G(5363),$=G(9468),Ve=G(9751),Le=G(2202),Qe=G(576),pe=G(9672);function Ae(lt,et){if(!lt)throw new Error("Iterable cannot be null");return new Ve.y(ot=>{(0,pe.f)(ot,et,()=>{const Be=lt[Symbol.asyncIterator]();(0,pe.f)(ot,et,()=>{Be.next().then(re=>{re.done?ot.complete():ot.next(re.value)})},0,!0)})})}var ht=G(3670),pt=G(8239),At=G(1144),jt=G(6495),at=G(2206),wt=G(4532),Tt=G(3260);function ge(lt,et){return et?function Ge(lt,et){if(null!=lt){if((0,ht.c)(lt))return function Re(lt,et){return(0,_.Xf)(lt).pipe((0,$.R)(et),(0,X.Q)(et))}(lt,et);if((0,At.z)(lt))return function qe(lt,et){return new Ve.y(ot=>{let Be=0;return et.schedule(function(){Be===lt.length?ot.complete():(ot.next(lt[Be++]),ot.closed||this.schedule())})})}(lt,et);if((0,pt.t)(lt))return function be(lt,et){return(0,_.Xf)(lt).pipe((0,$.R)(et),(0,X.Q)(et))}(lt,et);if((0,at.D)(lt))return Ae(lt,et);if((0,jt.T)(lt))return function fe(lt,et){return new Ve.y(ot=>{let Be;return(0,pe.f)(ot,et,()=>{Be=lt[Le.h](),(0,pe.f)(ot,et,()=>{let re,en;try{({value:re,done:en}=Be.next())}catch(Gt){return void ot.error(Gt)}en?ot.complete():ot.next(re)},0,!0)}),()=>(0,Qe.m)(Be?.return)&&Be.return()})}(lt,et);if((0,Tt.L)(lt))return function Dt(lt,et){return Ae((0,Tt.Q)(lt),et)}(lt,et)}throw(0,wt.z)(lt)}(lt,et):(0,_.Xf)(lt)}},8421:(rn,it,G)=>{G.d(it,{Xf:()=>ht});var _=G(7582),X=G(1144),$=G(8239),Re=G(9751),be=G(3670),Ve=G(2206),qe=G(4532),Le=G(6495),Qe=G(3260),pe=G(576),fe=G(7849),Ae=G(8822);function ht(Ge){if(Ge instanceof Re.y)return Ge;if(null!=Ge){if((0,be.c)(Ge))return function pt(Ge){return new Re.y(ge=>{const lt=Ge[Ae.L]();if((0,pe.m)(lt.subscribe))return lt.subscribe(ge);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ge);if((0,X.z)(Ge))return function At(Ge){return new Re.y(ge=>{for(let lt=0;lt<Ge.length&&!ge.closed;lt++)ge.next(Ge[lt]);ge.complete()})}(Ge);if((0,$.t)(Ge))return function jt(Ge){return new Re.y(ge=>{Ge.then(lt=>{ge.closed||(ge.next(lt),ge.complete())},lt=>ge.error(lt)).then(null,fe.h)})}(Ge);if((0,Ve.D)(Ge))return wt(Ge);if((0,Le.T)(Ge))return function at(Ge){return new Re.y(ge=>{for(const lt of Ge)if(ge.next(lt),ge.closed)return;ge.complete()})}(Ge);if((0,Qe.L)(Ge))return function Tt(Ge){return wt((0,Qe.Q)(Ge))}(Ge)}throw(0,qe.z)(Ge)}function wt(Ge){return new Re.y(ge=>{(function Dt(Ge,ge){var lt,et,ot,Be;return(0,_.mG)(this,void 0,void 0,function*(){try{for(lt=(0,_.KL)(Ge);!(et=yield lt.next()).done;)if(ge.next(et.value),ge.closed)return}catch(re){ot={error:re}}finally{try{et&&!et.done&&(Be=lt.return)&&(yield Be.call(lt))}finally{if(ot)throw ot.error}}ge.complete()})})(Ge,ge).catch(lt=>ge.error(lt))})}},6451:(rn,it,G)=>{G.d(it,{T:()=>Ve});var _=G(8189),X=G(8421),$=G(515),Re=G(7669),be=G(8996);function Ve(...qe){const Le=(0,Re.yG)(qe),Qe=(0,Re._6)(qe,1/0),pe=qe;return pe.length?1===pe.length?(0,X.Xf)(pe[0]):(0,_.J)(Qe)((0,be.D)(pe,Le)):$.E}},9646:(rn,it,G)=>{G.d(it,{of:()=>$});var _=G(7669),X=G(8996);function $(...Re){const be=(0,_.yG)(Re);return(0,X.D)(Re,be)}},5403:(rn,it,G)=>{G.d(it,{Q:()=>$,x:()=>X});var _=G(930);function X(Re,be,Ve,qe,Le){return new $(Re,be,Ve,qe,Le)}class $ extends _.Lv{constructor(be,Ve,qe,Le,Qe,pe){super(be),this.onFinalize=Qe,this.shouldUnsubscribe=pe,this._next=Ve?function(fe){try{Ve(fe)}catch(Ae){be.error(Ae)}}:super._next,this._error=Le?function(fe){try{Le(fe)}catch(Ae){be.error(Ae)}finally{this.unsubscribe()}}:super._error,this._complete=qe?function(){try{qe()}catch(fe){be.error(fe)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var be;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Ve}=this;super.unsubscribe(),!Ve&&(null===(be=this.onFinalize)||void 0===be||be.call(this))}}}},6590:(rn,it,G)=>{G.d(it,{d:()=>$});var _=G(4482),X=G(5403);function $(Re){return(0,_.e)((be,Ve)=>{let qe=!1;be.subscribe((0,X.x)(Ve,Le=>{qe=!0,Ve.next(Le)},()=>{qe||Ve.next(Re),Ve.complete()}))})}},9300:(rn,it,G)=>{G.d(it,{h:()=>$});var _=G(4482),X=G(5403);function $(Re,be){return(0,_.e)((Ve,qe)=>{let Le=0;Ve.subscribe((0,X.x)(qe,Qe=>Re.call(be,Qe,Le++)&&qe.next(Qe)))})}},590:(rn,it,G)=>{G.d(it,{P:()=>qe});var _=G(6805),X=G(9300),$=G(5698),Re=G(6590),be=G(8068),Ve=G(4671);function qe(Le,Qe){const pe=arguments.length>=2;return fe=>fe.pipe(Le?(0,X.h)((Ae,ht)=>Le(Ae,ht,fe)):Ve.y,(0,$.q)(1),pe?(0,Re.d)(Qe):(0,be.T)(()=>new _.K))}},4004:(rn,it,G)=>{G.d(it,{U:()=>$});var _=G(4482),X=G(5403);function $(Re,be){return(0,_.e)((Ve,qe)=>{let Le=0;Ve.subscribe((0,X.x)(qe,Qe=>{qe.next(Re.call(be,Qe,Le++))}))})}},8189:(rn,it,G)=>{G.d(it,{J:()=>$});var _=G(5577),X=G(4671);function $(Re=1/0){return(0,_.z)(X.y,Re)}},5577:(rn,it,G)=>{G.d(it,{z:()=>Le});var _=G(4004),X=G(8421),$=G(4482),Re=G(9672),be=G(5403),qe=G(576);function Le(Qe,pe,fe=1/0){return(0,qe.m)(pe)?Le((Ae,ht)=>(0,_.U)((pt,At)=>pe(Ae,pt,ht,At))((0,X.Xf)(Qe(Ae,ht))),fe):("number"==typeof pe&&(fe=pe),(0,$.e)((Ae,ht)=>function Ve(Qe,pe,fe,Ae,ht,pt,At,jt){const at=[];let wt=0,Tt=0,Dt=!1;const Ge=()=>{Dt&&!at.length&&!wt&&pe.complete()},ge=et=>wt<Ae?lt(et):at.push(et),lt=et=>{pt&&pe.next(et),wt++;let ot=!1;(0,X.Xf)(fe(et,Tt++)).subscribe((0,be.x)(pe,Be=>{ht?.(Be),pt?ge(Be):pe.next(Be)},()=>{ot=!0},void 0,()=>{if(ot)try{for(wt--;at.length&&wt<Ae;){const Be=at.shift();At?(0,Re.f)(pe,At,()=>lt(Be)):lt(Be)}Ge()}catch(Be){pe.error(Be)}}))};return Qe.subscribe((0,be.x)(pe,ge,()=>{Dt=!0,Ge()})),()=>{jt?.()}}(Ae,ht,Qe,fe)))}},5363:(rn,it,G)=>{G.d(it,{Q:()=>Re});var _=G(9672),X=G(4482),$=G(5403);function Re(be,Ve=0){return(0,X.e)((qe,Le)=>{qe.subscribe((0,$.x)(Le,Qe=>(0,_.f)(Le,be,()=>Le.next(Qe),Ve),()=>(0,_.f)(Le,be,()=>Le.complete(),Ve),Qe=>(0,_.f)(Le,be,()=>Le.error(Qe),Ve)))})}},2940:(rn,it,G)=>{G.d(it,{R:()=>$});var _=G(4482),X=G(7359);function $(Re,be){return(0,_.e)((0,X.U)(Re,be,arguments.length>=2,!0))}},7359:(rn,it,G)=>{G.d(it,{U:()=>X});var _=G(5403);function X($,Re,be,Ve,qe){return(Le,Qe)=>{let pe=be,fe=Re,Ae=0;Le.subscribe((0,_.x)(Qe,ht=>{const pt=Ae++;fe=pe?$(fe,ht,pt):(pe=!0,ht),Ve&&Qe.next(fe)},qe&&(()=>{pe&&Qe.next(fe),Qe.complete()})))}}},3099:(rn,it,G)=>{G.d(it,{B:()=>be});var _=G(8421),X=G(7579),$=G(930),Re=G(4482);function be(qe={}){const{connector:Le=(()=>new X.x),resetOnError:Qe=!0,resetOnComplete:pe=!0,resetOnRefCountZero:fe=!0}=qe;return Ae=>{let ht,pt,At,jt=0,at=!1,wt=!1;const Tt=()=>{pt?.unsubscribe(),pt=void 0},Dt=()=>{Tt(),ht=At=void 0,at=wt=!1},Ge=()=>{const ge=ht;Dt(),ge?.unsubscribe()};return(0,Re.e)((ge,lt)=>{jt++,!wt&&!at&&Tt();const et=At=At??Le();lt.add(()=>{jt--,0===jt&&!wt&&!at&&(pt=Ve(Ge,fe))}),et.subscribe(lt),!ht&&jt>0&&(ht=new $.Hp({next:ot=>et.next(ot),error:ot=>{wt=!0,Tt(),pt=Ve(Dt,Qe,ot),et.error(ot)},complete:()=>{at=!0,Tt(),pt=Ve(Dt,pe),et.complete()}}),(0,_.Xf)(ge).subscribe(ht))})(Ae)}}function Ve(qe,Le,...Qe){if(!0===Le)return void qe();if(!1===Le)return;const pe=new $.Hp({next:()=>{pe.unsubscribe(),qe()}});return(0,_.Xf)(Le(...Qe)).subscribe(pe)}},9468:(rn,it,G)=>{G.d(it,{R:()=>X});var _=G(4482);function X($,Re=0){return(0,_.e)((be,Ve)=>{Ve.add($.schedule(()=>be.subscribe(Ve),Re))})}},3900:(rn,it,G)=>{G.d(it,{w:()=>Re});var _=G(8421),X=G(4482),$=G(5403);function Re(be,Ve){return(0,X.e)((qe,Le)=>{let Qe=null,pe=0,fe=!1;const Ae=()=>fe&&!Qe&&Le.complete();qe.subscribe((0,$.x)(Le,ht=>{Qe?.unsubscribe();let pt=0;const At=pe++;(0,_.Xf)(be(ht,At)).subscribe(Qe=(0,$.x)(Le,jt=>Le.next(Ve?Ve(ht,jt,At,pt++):jt),()=>{Qe=null,Ae()}))},()=>{fe=!0,Ae()}))})}},5698:(rn,it,G)=>{G.d(it,{q:()=>Re});var _=G(515),X=G(4482),$=G(5403);function Re(be){return be<=0?()=>_.E:(0,X.e)((Ve,qe)=>{let Le=0;Ve.subscribe((0,$.x)(qe,Qe=>{++Le<=be&&(qe.next(Qe),be<=Le&&qe.complete())}))})}},8505:(rn,it,G)=>{G.d(it,{b:()=>be});var _=G(576),X=G(4482),$=G(5403),Re=G(4671);function be(Ve,qe,Le){const Qe=(0,_.m)(Ve)||qe||Le?{next:Ve,error:qe,complete:Le}:Ve;return Qe?(0,X.e)((pe,fe)=>{var Ae;null===(Ae=Qe.subscribe)||void 0===Ae||Ae.call(Qe);let ht=!0;pe.subscribe((0,$.x)(fe,pt=>{var At;null===(At=Qe.next)||void 0===At||At.call(Qe,pt),fe.next(pt)},()=>{var pt;ht=!1,null===(pt=Qe.complete)||void 0===pt||pt.call(Qe),fe.complete()},pt=>{var At;ht=!1,null===(At=Qe.error)||void 0===At||At.call(Qe,pt),fe.error(pt)},()=>{var pt,At;ht&&(null===(pt=Qe.unsubscribe)||void 0===pt||pt.call(Qe)),null===(At=Qe.finalize)||void 0===At||At.call(Qe)}))}):Re.y}},8068:(rn,it,G)=>{G.d(it,{T:()=>Re});var _=G(6805),X=G(4482),$=G(5403);function Re(Ve=be){return(0,X.e)((qe,Le)=>{let Qe=!1;qe.subscribe((0,$.x)(Le,pe=>{Qe=!0,Le.next(pe)},()=>Qe?Le.complete():Le.error(Ve())))})}function be(){return new _.K}},4408:(rn,it,G)=>{G.d(it,{o:()=>be});var _=G(727);class X extends _.w0{constructor(qe,Le){super()}schedule(qe,Le=0){return this}}const $={setInterval(Ve,qe,...Le){const{delegate:Qe}=$;return Qe?.setInterval?Qe.setInterval(Ve,qe,...Le):setInterval(Ve,qe,...Le)},clearInterval(Ve){const{delegate:qe}=$;return(qe?.clearInterval||clearInterval)(Ve)},delegate:void 0};var Re=G(8737);class be extends X{constructor(qe,Le){super(qe,Le),this.scheduler=qe,this.work=Le,this.pending=!1}schedule(qe,Le=0){var Qe;if(this.closed)return this;this.state=qe;const pe=this.id,fe=this.scheduler;return null!=pe&&(this.id=this.recycleAsyncId(fe,pe,Le)),this.pending=!0,this.delay=Le,this.id=null!==(Qe=this.id)&&void 0!==Qe?Qe:this.requestAsyncId(fe,this.id,Le),this}requestAsyncId(qe,Le,Qe=0){return $.setInterval(qe.flush.bind(qe,this),Qe)}recycleAsyncId(qe,Le,Qe=0){if(null!=Qe&&this.delay===Qe&&!1===this.pending)return Le;null!=Le&&$.clearInterval(Le)}execute(qe,Le){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Qe=this._execute(qe,Le);if(Qe)return Qe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(qe,Le){let pe,Qe=!1;try{this.work(qe)}catch(fe){Qe=!0,pe=fe||new Error("Scheduled action threw falsy error")}if(Qe)return this.unsubscribe(),pe}unsubscribe(){if(!this.closed){const{id:qe,scheduler:Le}=this,{actions:Qe}=Le;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Re.P)(Qe,this),null!=qe&&(this.id=this.recycleAsyncId(Le,qe,null)),this.delay=null,super.unsubscribe()}}}},7565:(rn,it,G)=>{G.d(it,{v:()=>$});var _=G(6063);class X{constructor(be,Ve=X.now){this.schedulerActionCtor=be,this.now=Ve}schedule(be,Ve=0,qe){return new this.schedulerActionCtor(this,be).schedule(qe,Ve)}}X.now=_.l.now;class $ extends X{constructor(be,Ve=X.now){super(be,Ve),this.actions=[],this._active=!1}flush(be){const{actions:Ve}=this;if(this._active)return void Ve.push(be);let qe;this._active=!0;do{if(qe=be.execute(be.state,be.delay))break}while(be=Ve.shift());if(this._active=!1,qe){for(;be=Ve.shift();)be.unsubscribe();throw qe}}}},4986:(rn,it,G)=>{G.d(it,{z:()=>$});var _=G(4408);const $=new(G(7565).v)(_.o)},6063:(rn,it,G)=>{G.d(it,{l:()=>_});const _={now:()=>(_.delegate||Date).now(),delegate:void 0}},3410:(rn,it,G)=>{G.d(it,{z:()=>_});const _={setTimeout(X,$,...Re){const{delegate:be}=_;return be?.setTimeout?be.setTimeout(X,$,...Re):setTimeout(X,$,...Re)},clearTimeout(X){const{delegate:$}=_;return($?.clearTimeout||clearTimeout)(X)},delegate:void 0}},2202:(rn,it,G)=>{G.d(it,{h:()=>X});const X=function _(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(rn,it,G)=>{G.d(it,{L:()=>_});const _="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(rn,it,G)=>{G.d(it,{K:()=>X});const X=(0,G(3888).d)($=>function(){$(this),this.name="EmptyError",this.message="no elements in sequence"})},7669:(rn,it,G)=>{G.d(it,{_6:()=>Ve,jO:()=>Re,yG:()=>be});var _=G(576);function $(qe){return qe[qe.length-1]}function Re(qe){return(0,_.m)($(qe))?qe.pop():void 0}function be(qe){return function X(qe){return qe&&(0,_.m)(qe.schedule)}($(qe))?qe.pop():void 0}function Ve(qe,Le){return"number"==typeof $(qe)?qe.pop():Le}},4742:(rn,it,G)=>{G.d(it,{D:()=>be});const{isArray:_}=Array,{getPrototypeOf:X,prototype:$,keys:Re}=Object;function be(qe){if(1===qe.length){const Le=qe[0];if(_(Le))return{args:Le,keys:null};if(function Ve(qe){return qe&&"object"==typeof qe&&X(qe)===$}(Le)){const Qe=Re(Le);return{args:Qe.map(pe=>Le[pe]),keys:Qe}}}return{args:qe,keys:null}}},8737:(rn,it,G)=>{function _(X,$){if(X){const Re=X.indexOf($);0<=Re&&X.splice(Re,1)}}G.d(it,{P:()=>_})},3888:(rn,it,G)=>{function _(X){const Re=X(be=>{Error.call(be),be.stack=(new Error).stack});return Re.prototype=Object.create(Error.prototype),Re.prototype.constructor=Re,Re}G.d(it,{d:()=>_})},1810:(rn,it,G)=>{function _(X,$){return X.reduce((Re,be,Ve)=>(Re[be]=$[Ve],Re),{})}G.d(it,{n:()=>_})},2806:(rn,it,G)=>{G.d(it,{O:()=>Re,x:()=>$});var _=G(2416);let X=null;function $(be){if(_.v.useDeprecatedSynchronousErrorHandling){const Ve=!X;if(Ve&&(X={errorThrown:!1,error:null}),be(),Ve){const{errorThrown:qe,error:Le}=X;if(X=null,qe)throw Le}}else be()}function Re(be){_.v.useDeprecatedSynchronousErrorHandling&&X&&(X.errorThrown=!0,X.error=be)}},9672:(rn,it,G)=>{function _(X,$,Re,be=0,Ve=!1){const qe=$.schedule(function(){Re(),Ve?X.add(this.schedule(null,be)):this.unsubscribe()},be);if(X.add(qe),!Ve)return qe}G.d(it,{f:()=>_})},4671:(rn,it,G)=>{function _(X){return X}G.d(it,{y:()=>_})},1144:(rn,it,G)=>{G.d(it,{z:()=>_});const _=X=>X&&"number"==typeof X.length&&"function"!=typeof X},2206:(rn,it,G)=>{G.d(it,{D:()=>X});var _=G(576);function X($){return Symbol.asyncIterator&&(0,_.m)($?.[Symbol.asyncIterator])}},576:(rn,it,G)=>{function _(X){return"function"==typeof X}G.d(it,{m:()=>_})},3670:(rn,it,G)=>{G.d(it,{c:()=>$});var _=G(8822),X=G(576);function $(Re){return(0,X.m)(Re[_.L])}},6495:(rn,it,G)=>{G.d(it,{T:()=>$});var _=G(2202),X=G(576);function $(Re){return(0,X.m)(Re?.[_.h])}},8239:(rn,it,G)=>{G.d(it,{t:()=>X});var _=G(576);function X($){return(0,_.m)($?.then)}},3260:(rn,it,G)=>{G.d(it,{L:()=>Re,Q:()=>$});var _=G(7582),X=G(576);function $(be){return(0,_.FC)(this,arguments,function*(){const qe=be.getReader();try{for(;;){const{value:Le,done:Qe}=yield(0,_.qq)(qe.read());if(Qe)return yield(0,_.qq)(void 0);yield yield(0,_.qq)(Le)}}finally{qe.releaseLock()}})}function Re(be){return(0,X.m)(be?.getReader)}},4482:(rn,it,G)=>{G.d(it,{A:()=>X,e:()=>$});var _=G(576);function X(Re){return(0,_.m)(Re?.lift)}function $(Re){return be=>{if(X(be))return be.lift(function(Ve){try{return Re(Ve,this)}catch(qe){this.error(qe)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(rn,it,G)=>{G.d(it,{Z:()=>Re});var _=G(4004);const{isArray:X}=Array;function Re(be){return(0,_.U)(Ve=>function $(be,Ve){return X(Ve)?be(...Ve):be(Ve)}(be,Ve))}},5032:(rn,it,G)=>{function _(){}G.d(it,{Z:()=>_})},9635:(rn,it,G)=>{G.d(it,{U:()=>$,z:()=>X});var _=G(4671);function X(...Re){return $(Re)}function $(Re){return 0===Re.length?_.y:1===Re.length?Re[0]:function(Ve){return Re.reduce((qe,Le)=>Le(qe),Ve)}}},7849:(rn,it,G)=>{G.d(it,{h:()=>$});var _=G(2416),X=G(3410);function $(Re){X.z.setTimeout(()=>{const{onUnhandledError:be}=_.v;if(!be)throw Re;be(Re)})}},4532:(rn,it,G)=>{function _(X){return new TypeError(`You provided ${null!==X&&"object"==typeof X?"an invalid object":`'${X}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}G.d(it,{z:()=>_})},7340:(rn,it,G)=>{G.d(it,{F4:()=>pe,IO:()=>At,LC:()=>X,X$:()=>Re,ZE:()=>Tt,ZN:()=>wt,_7:()=>pt,_j:()=>_,eR:()=>fe,jt:()=>be,k1:()=>Dt,l3:()=>$,oB:()=>Le,oQ:()=>Ae,pV:()=>ht,ru:()=>Ve,vP:()=>qe});class _{}class X{}const $="*";function Re(Ge,ge){return{type:7,name:Ge,definitions:ge,options:{}}}function be(Ge,ge=null){return{type:4,styles:ge,timings:Ge}}function Ve(Ge,ge=null){return{type:3,steps:Ge,options:ge}}function qe(Ge,ge=null){return{type:2,steps:Ge,options:ge}}function Le(Ge){return{type:6,styles:Ge,offset:null}}function pe(Ge){return{type:5,steps:Ge}}function fe(Ge,ge,lt=null){return{type:1,expr:Ge,animation:ge,options:lt}}function Ae(Ge,ge=null){return{type:8,animation:Ge,options:ge}}function ht(Ge=null){return{type:9,options:Ge}}function pt(Ge,ge=null){return{type:10,animation:Ge,options:ge}}function At(Ge,ge,lt=null){return{type:11,selector:Ge,animation:ge,options:lt}}function at(Ge){Promise.resolve().then(Ge)}class wt{constructor(ge=0,lt=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=ge+lt}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(ge=>ge()),this._onDoneFns=[])}onStart(ge){this._originalOnStartFns.push(ge),this._onStartFns.push(ge)}onDone(ge){this._originalOnDoneFns.push(ge),this._onDoneFns.push(ge)}onDestroy(ge){this._onDestroyFns.push(ge)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){at(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(ge=>ge()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(ge=>ge()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(ge){this._position=this.totalTime?ge*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(ge){const lt="start"==ge?this._onStartFns:this._onDoneFns;lt.forEach(et=>et()),lt.length=0}}class Tt{constructor(ge){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=ge;let lt=0,et=0,ot=0;const Be=this.players.length;0==Be?at(()=>this._onFinish()):this.players.forEach(re=>{re.onDone(()=>{++lt==Be&&this._onFinish()}),re.onDestroy(()=>{++et==Be&&this._onDestroy()}),re.onStart(()=>{++ot==Be&&this._onStart()})}),this.totalTime=this.players.reduce((re,en)=>Math.max(re,en.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(ge=>ge()),this._onDoneFns=[])}init(){this.players.forEach(ge=>ge.init())}onStart(ge){this._onStartFns.push(ge)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(ge=>ge()),this._onStartFns=[])}onDone(ge){this._onDoneFns.push(ge)}onDestroy(ge){this._onDestroyFns.push(ge)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(ge=>ge.play())}pause(){this.players.forEach(ge=>ge.pause())}restart(){this.players.forEach(ge=>ge.restart())}finish(){this._onFinish(),this.players.forEach(ge=>ge.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(ge=>ge.destroy()),this._onDestroyFns.forEach(ge=>ge()),this._onDestroyFns=[])}reset(){this.players.forEach(ge=>ge.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(ge){const lt=ge*this.totalTime;this.players.forEach(et=>{const ot=et.totalTime?Math.min(1,lt/et.totalTime):1;et.setPosition(ot)})}getPosition(){const ge=this.players.reduce((lt,et)=>null===lt||et.totalTime>lt.totalTime?et:lt,null);return null!=ge?ge.getPosition():0}beforeDestroy(){this.players.forEach(ge=>{ge.beforeDestroy&&ge.beforeDestroy()})}triggerCallback(ge){const lt="start"==ge?this._onStartFns:this._onDoneFns;lt.forEach(et=>et()),lt.length=0}}const Dt="!"},6895:(rn,it,G)=>{G.d(it,{Do:()=>Tt,EM:()=>tn,HT:()=>Re,JF:()=>zr,K0:()=>Ve,Mx:()=>Ti,O5:()=>xe,Ov:()=>zn,PM:()=>Te,S$:()=>jt,V_:()=>Qe,Ye:()=>Dt,b0:()=>wt,bD:()=>So,ez:()=>Xr,q:()=>$,sg:()=>to,w_:()=>be});var _=G(4650);let X=null;function $(){return X}function Re(N){X||(X=N)}class be{}const Ve=new _.OlP("DocumentToken");let qe=(()=>{class N{historyGo(F){throw new Error("Not implemented")}}return N.\u0275fac=function(F){return new(F||N)},N.\u0275prov=_.Yz7({token:N,factory:function(){return function Le(){return(0,_.LFG)(pe)}()},providedIn:"platform"}),N})();const Qe=new _.OlP("Location Initialized");let pe=(()=>{class N extends qe{constructor(F){super(),this._doc=F,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return $().getBaseHref(this._doc)}onPopState(F){const ee=$().getGlobalEventTarget(this._doc,"window");return ee.addEventListener("popstate",F,!1),()=>ee.removeEventListener("popstate",F)}onHashChange(F){const ee=$().getGlobalEventTarget(this._doc,"window");return ee.addEventListener("hashchange",F,!1),()=>ee.removeEventListener("hashchange",F)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(F){this._location.pathname=F}pushState(F,ee,Ie){fe()?this._history.pushState(F,ee,Ie):this._location.hash=Ie}replaceState(F,ee,Ie){fe()?this._history.replaceState(F,ee,Ie):this._location.hash=Ie}forward(){this._history.forward()}back(){this._history.back()}historyGo(F=0){this._history.go(F)}getState(){return this._history.state}}return N.\u0275fac=function(F){return new(F||N)(_.LFG(Ve))},N.\u0275prov=_.Yz7({token:N,factory:function(){return function Ae(){return new pe((0,_.LFG)(Ve))}()},providedIn:"platform"}),N})();function fe(){return!!window.history.pushState}function ht(N,W){if(0==N.length)return W;if(0==W.length)return N;let F=0;return N.endsWith("/")&&F++,W.startsWith("/")&&F++,2==F?N+W.substring(1):1==F?N+W:N+"/"+W}function pt(N){const W=N.match(/#|\?|$/),F=W&&W.index||N.length;return N.slice(0,F-("/"===N[F-1]?1:0))+N.slice(F)}function At(N){return N&&"?"!==N[0]?"?"+N:N}let jt=(()=>{class N{historyGo(F){throw new Error("Not implemented")}}return N.\u0275fac=function(F){return new(F||N)},N.\u0275prov=_.Yz7({token:N,factory:function(){return(0,_.f3M)(wt)},providedIn:"root"}),N})();const at=new _.OlP("appBaseHref");let wt=(()=>{class N extends jt{constructor(F,ee){super(),this._platformLocation=F,this._removeListenerFns=[],this._baseHref=ee??this._platformLocation.getBaseHrefFromDOM()??(0,_.f3M)(Ve).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(F){this._removeListenerFns.push(this._platformLocation.onPopState(F),this._platformLocation.onHashChange(F))}getBaseHref(){return this._baseHref}prepareExternalUrl(F){return ht(this._baseHref,F)}path(F=!1){const ee=this._platformLocation.pathname+At(this._platformLocation.search),Ie=this._platformLocation.hash;return Ie&&F?`${ee}${Ie}`:ee}pushState(F,ee,Ie,dt){const St=this.prepareExternalUrl(Ie+At(dt));this._platformLocation.pushState(F,ee,St)}replaceState(F,ee,Ie,dt){const St=this.prepareExternalUrl(Ie+At(dt));this._platformLocation.replaceState(F,ee,St)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(F=0){this._platformLocation.historyGo?.(F)}}return N.\u0275fac=function(F){return new(F||N)(_.LFG(qe),_.LFG(at,8))},N.\u0275prov=_.Yz7({token:N,factory:N.\u0275fac,providedIn:"root"}),N})(),Tt=(()=>{class N extends jt{constructor(F,ee){super(),this._platformLocation=F,this._baseHref="",this._removeListenerFns=[],null!=ee&&(this._baseHref=ee)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(F){this._removeListenerFns.push(this._platformLocation.onPopState(F),this._platformLocation.onHashChange(F))}getBaseHref(){return this._baseHref}path(F=!1){let ee=this._platformLocation.hash;return null==ee&&(ee="#"),ee.length>0?ee.substring(1):ee}prepareExternalUrl(F){const ee=ht(this._baseHref,F);return ee.length>0?"#"+ee:ee}pushState(F,ee,Ie,dt){let St=this.prepareExternalUrl(Ie+At(dt));0==St.length&&(St=this._platformLocation.pathname),this._platformLocation.pushState(F,ee,St)}replaceState(F,ee,Ie,dt){let St=this.prepareExternalUrl(Ie+At(dt));0==St.length&&(St=this._platformLocation.pathname),this._platformLocation.replaceState(F,ee,St)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(F=0){this._platformLocation.historyGo?.(F)}}return N.\u0275fac=function(F){return new(F||N)(_.LFG(qe),_.LFG(at,8))},N.\u0275prov=_.Yz7({token:N,factory:N.\u0275fac}),N})(),Dt=(()=>{class N{constructor(F){this._subject=new _.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=F;const ee=this._locationStrategy.getBaseHref();this._basePath=function et(N){if(new RegExp("^(https?:)?//").test(N)){const[,F]=N.split(/\/\/[^\/]+/);return F}return N}(pt(lt(ee))),this._locationStrategy.onPopState(Ie=>{this._subject.emit({url:this.path(!0),pop:!0,state:Ie.state,type:Ie.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(F=!1){return this.normalize(this._locationStrategy.path(F))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(F,ee=""){return this.path()==this.normalize(F+At(ee))}normalize(F){return N.stripTrailingSlash(function ge(N,W){if(!N||!W.startsWith(N))return W;const F=W.substring(N.length);return""===F||["/",";","?","#"].includes(F[0])?F:W}(this._basePath,lt(F)))}prepareExternalUrl(F){return F&&"/"!==F[0]&&(F="/"+F),this._locationStrategy.prepareExternalUrl(F)}go(F,ee="",Ie=null){this._locationStrategy.pushState(Ie,"",F,ee),this._notifyUrlChangeListeners(this.prepareExternalUrl(F+At(ee)),Ie)}replaceState(F,ee="",Ie=null){this._locationStrategy.replaceState(Ie,"",F,ee),this._notifyUrlChangeListeners(this.prepareExternalUrl(F+At(ee)),Ie)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(F=0){this._locationStrategy.historyGo?.(F)}onUrlChange(F){return this._urlChangeListeners.push(F),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(ee=>{this._notifyUrlChangeListeners(ee.url,ee.state)})),()=>{const ee=this._urlChangeListeners.indexOf(F);this._urlChangeListeners.splice(ee,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(F="",ee){this._urlChangeListeners.forEach(Ie=>Ie(F,ee))}subscribe(F,ee,Ie){return this._subject.subscribe({next:F,error:ee,complete:Ie})}}return N.normalizeQueryParams=At,N.joinWithSlash=ht,N.stripTrailingSlash=pt,N.\u0275fac=function(F){return new(F||N)(_.LFG(jt))},N.\u0275prov=_.Yz7({token:N,factory:function(){return function Ge(){return new Dt((0,_.LFG)(jt))}()},providedIn:"root"}),N})();function lt(N){return N.replace(/\/index.html$/,"")}function Ti(N,W){W=encodeURIComponent(W);for(const F of N.split(";")){const ee=F.indexOf("="),[Ie,dt]=-1==ee?[F,""]:[F.slice(0,ee),F.slice(ee+1)];if(Ie.trim()===W)return decodeURIComponent(dt)}return null}class hi{constructor(W,F,ee,Ie){this.$implicit=W,this.ngForOf=F,this.index=ee,this.count=Ie}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let to=(()=>{class N{set ngForOf(F){this._ngForOf=F,this._ngForOfDirty=!0}set ngForTrackBy(F){this._trackByFn=F}get ngForTrackBy(){return this._trackByFn}constructor(F,ee,Ie){this._viewContainer=F,this._template=ee,this._differs=Ie,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(F){F&&(this._template=F)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const F=this._ngForOf;!this._differ&&F&&(this._differ=this._differs.find(F).create(this.ngForTrackBy))}if(this._differ){const F=this._differ.diff(this._ngForOf);F&&this._applyChanges(F)}}_applyChanges(F){const ee=this._viewContainer;F.forEachOperation((Ie,dt,St)=>{if(null==Ie.previousIndex)ee.createEmbeddedView(this._template,new hi(Ie.item,this._ngForOf,-1,-1),null===St?void 0:St);else if(null==St)ee.remove(null===dt?void 0:dt);else if(null!==dt){const In=ee.get(dt);ee.move(In,St),Qr(In,Ie)}});for(let Ie=0,dt=ee.length;Ie<dt;Ie++){const In=ee.get(Ie).context;In.index=Ie,In.count=dt,In.ngForOf=this._ngForOf}F.forEachIdentityChange(Ie=>{Qr(ee.get(Ie.currentIndex),Ie)})}static ngTemplateContextGuard(F,ee){return!0}}return N.\u0275fac=function(F){return new(F||N)(_.Y36(_.s_b),_.Y36(_.Rgc),_.Y36(_.ZZ4))},N.\u0275dir=_.lG2({type:N,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),N})();function Qr(N,W){N.context.$implicit=W.item}let xe=(()=>{class N{constructor(F,ee){this._viewContainer=F,this._context=new Pe,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=ee}set ngIf(F){this._context.$implicit=this._context.ngIf=F,this._updateView()}set ngIfThen(F){ft("ngIfThen",F),this._thenTemplateRef=F,this._thenViewRef=null,this._updateView()}set ngIfElse(F){ft("ngIfElse",F),this._elseTemplateRef=F,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(F,ee){return!0}}return N.\u0275fac=function(F){return new(F||N)(_.Y36(_.s_b),_.Y36(_.Rgc))},N.\u0275dir=_.lG2({type:N,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),N})();class Pe{constructor(){this.$implicit=null,this.ngIf=null}}function ft(N,W){if(W&&!W.createEmbeddedView)throw new Error(`${N} must be a TemplateRef, but received '${(0,_.AaK)(W)}'.`)}class Co{createSubscription(W,F){return W.subscribe({next:F,error:ee=>{throw ee}})}dispose(W){W.unsubscribe()}}class Ps{createSubscription(W,F){return W.then(F,ee=>{throw ee})}dispose(W){}}const Tr=new Ps,ur=new Co;let zn=(()=>{class N{constructor(F){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=F}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(F){return this._obj?F!==this._obj?(this._dispose(),this.transform(F)):this._latestValue:(F&&this._subscribe(F),this._latestValue)}_subscribe(F){this._obj=F,this._strategy=this._selectStrategy(F),this._subscription=this._strategy.createSubscription(F,ee=>this._updateLatestValue(F,ee))}_selectStrategy(F){if((0,_.QGY)(F))return Tr;if((0,_.F4k)(F))return ur;throw function os(N,W){return new _.vHH(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(F,ee){F===this._obj&&(this._latestValue=ee,this._ref.markForCheck())}}return N.\u0275fac=function(F){return new(F||N)(_.Y36(_.sBO,16))},N.\u0275pipe=_.Yjl({name:"async",type:N,pure:!1,standalone:!0}),N})(),Xr=(()=>{class N{}return N.\u0275fac=function(F){return new(F||N)},N.\u0275mod=_.oAB({type:N}),N.\u0275inj=_.cJS({}),N})();const So="browser",Ns="server";function Te(N){return N===Ns}let tn=(()=>{class N{}return N.\u0275prov=(0,_.Yz7)({token:N,providedIn:"root",factory:()=>new hn((0,_.LFG)(Ve),window)}),N})();class hn{constructor(W,F){this.document=W,this.window=F,this.offset=()=>[0,0]}setOffset(W){this.offset=Array.isArray(W)?()=>W:W}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(W){this.supportsScrolling()&&this.window.scrollTo(W[0],W[1])}scrollToAnchor(W){if(!this.supportsScrolling())return;const F=function ir(N,W){const F=N.getElementById(W)||N.getElementsByName(W)[0];if(F)return F;if("function"==typeof N.createTreeWalker&&N.body&&(N.body.createShadowRoot||N.body.attachShadow)){const ee=N.createTreeWalker(N.body,NodeFilter.SHOW_ELEMENT);let Ie=ee.currentNode;for(;Ie;){const dt=Ie.shadowRoot;if(dt){const St=dt.getElementById(W)||dt.querySelector(`[name="${W}"]`);if(St)return St}Ie=ee.nextNode()}}return null}(this.document,W);F&&(this.scrollToElement(F),F.focus())}setHistoryScrollRestoration(W){if(this.supportScrollRestoration()){const F=this.window.history;F&&F.scrollRestoration&&(F.scrollRestoration=W)}}scrollToElement(W){const F=W.getBoundingClientRect(),ee=F.left+this.window.pageXOffset,Ie=F.top+this.window.pageYOffset,dt=this.offset();this.window.scrollTo(ee-dt[0],Ie-dt[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const W=Sn(this.window.history)||Sn(Object.getPrototypeOf(this.window.history));return!(!W||!W.writable&&!W.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Sn(N){return Object.getOwnPropertyDescriptor(N,"scrollRestoration")}class zr{}},4650:(rn,it,G)=>{G.d(it,{$8M:()=>Mn,$WT:()=>Pi,$Z:()=>Ip,AFp:()=>qv,ALo:()=>yw,AaK:()=>Le,Akn:()=>zl,CHM:()=>L,CRH:()=>kv,CZH:()=>Dg,CqO:()=>jp,D6c:()=>II,DdM:()=>cw,EJc:()=>Qv,EpF:()=>O_,F4k:()=>k_,FYo:()=>Bi,FiY:()=>fr,GfV:()=>Gl,Gpc:()=>fe,JOm:()=>Gs,KtG:()=>ie,LFG:()=>Ot,LSH:()=>jh,Lbi:()=>Hw,Lck:()=>yC,MMx:()=>Sv,NdJ:()=>bm,O4$:()=>oi,OlP:()=>Gi,Oqu:()=>Bm,P3R:()=>sp,PXZ:()=>iI,Q6J:()=>mf,QGY:()=>yf,QbO:()=>Gw,Qsj:()=>Vo,R0b:()=>du,RDi:()=>Lg,Rgc:()=>Pf,SBq:()=>_n,Sil:()=>Kw,Suo:()=>Ov,TTD:()=>$t,TgZ:()=>lu,VKq:()=>dw,X6Q:()=>lI,XFs:()=>Ht,Xpm:()=>En,Xts:()=>iu,Y36:()=>Cd,YKP:()=>ew,YNc:()=>Bp,Yjl:()=>Ln,Yz7:()=>qt,Z0I:()=>_r,ZZ4:()=>$y,_Bn:()=>J0,_UZ:()=>Cm,_Vd:()=>yt,_c5:()=>EI,_uU:()=>g0,aQg:()=>CE,c2e:()=>Tg,cJS:()=>zt,cg1:()=>bh,dDg:()=>My,dqk:()=>Zn,eFA:()=>xy,eJc:()=>Nf,ekj:()=>Xp,eoX:()=>eI,f3M:()=>ni,g9A:()=>Lf,h0i:()=>Mf,hGG:()=>wI,hij:()=>ho,iGM:()=>xv,ifc:()=>ue,ip1:()=>Ff,jDz:()=>nw,kL8:()=>Zm,kcU:()=>Va,lG2:()=>On,lcZ:()=>_w,lqb:()=>fc,lri:()=>rE,n5z:()=>nr,oAB:()=>Je,oxw:()=>V_,q4F:()=>Yu,qLn:()=>Yh,qOj:()=>gf,qZA:()=>wh,rWj:()=>Jw,sBO:()=>uI,s_b:()=>yg,soG:()=>Vf,tb:()=>sE,tp0:()=>_o,uIk:()=>ym,vHH:()=>at,vpe:()=>Mu,wAp:()=>or,xp6:()=>e_,z2F:()=>Nh,zSh:()=>Qd,zs3:()=>Lc});var _=G(7579),X=G(727),$=G(9751),Re=G(6451),be=G(3099);function Ve(i){for(let s in i)if(i[s]===Ve)return s;throw Error("Could not find renamed property on target object.")}function qe(i,s){for(const o in s)s.hasOwnProperty(o)&&!i.hasOwnProperty(o)&&(i[o]=s[o])}function Le(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(Le).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const s=i.toString();if(null==s)return""+s;const o=s.indexOf("\n");return-1===o?s:s.substring(0,o)}function Qe(i,s){return null==i||""===i?null===s?"":s:null==s||""===s?i:i+" "+s}const pe=Ve({__forward_ref__:Ve});function fe(i){return i.__forward_ref__=fe,i.toString=function(){return Le(this())},i}function Ae(i){return ht(i)?i():i}function ht(i){return"function"==typeof i&&i.hasOwnProperty(pe)&&i.__forward_ref__===fe}function pt(i){return i&&!!i.\u0275providers}const jt="https://g.co/ng/security#xss";class at extends Error{constructor(s,o){super(wt(s,o)),this.code=s}}function wt(i,s){return`NG0${Math.abs(i)}${s?": "+s.trim():""}`}function Tt(i){return"string"==typeof i?i:null==i?"":String(i)}function et(i,s){throw new at(-201,!1)}function Ze(i,s){null==i&&function Me(i,s,o,l){throw new Error(`ASSERTION ERROR: ${i}`+(null==l?"":` [Expected=> ${o} ${l} ${s} <=Actual]`))}(s,i,null,"!=")}function qt(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function zt(i){return{providers:i.providers||[],imports:i.imports||[]}}function Pn(i){return xn(i,Zt)||xn(i,Or)}function _r(i){return null!==Pn(i)}function xn(i,s){return i.hasOwnProperty(s)?i[s]:null}function rr(i){return i&&(i.hasOwnProperty(cr)||i.hasOwnProperty(Tn))?i[cr]:null}const Zt=Ve({\u0275prov:Ve}),cr=Ve({\u0275inj:Ve}),Or=Ve({ngInjectableDef:Ve}),Tn=Ve({ngInjectorDef:Ve});var Ht=(()=>((Ht=Ht||{})[Ht.Default=0]="Default",Ht[Ht.Host=1]="Host",Ht[Ht.Self=2]="Self",Ht[Ht.SkipSelf=4]="SkipSelf",Ht[Ht.Optional=8]="Optional",Ht))();let Bn;function kr(i){const s=Bn;return Bn=i,s}function xr(i,s,o){const l=Pn(i);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:o&Ht.Optional?null:void 0!==s?s:void et(Le(i))}const Zn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),ei={},Zr="__NG_DI_FLAG__",Rr="ngTempTokenPath",Mi="ngTokenPath",sr=/\n/gm,ci="\u0275",Fn="__source";let Ir;function Nn(i){const s=Ir;return Ir=i,s}function Cr(i,s=Ht.Default){if(void 0===Ir)throw new at(-203,!1);return null===Ir?xr(i,void 0,s):Ir.get(i,s&Ht.Optional?null:void 0,s)}function Ot(i,s=Ht.Default){return(function ar(){return Bn}()||Cr)(Ae(i),s)}function ni(i,s=Ht.Default){return Ot(i,Fr(s))}function Fr(i){return typeof i>"u"||"number"==typeof i?i:0|(i.optional&&8)|(i.host&&1)|(i.self&&2)|(i.skipSelf&&4)}function yi(i){const s=[];for(let o=0;o<i.length;o++){const l=Ae(i[o]);if(Array.isArray(l)){if(0===l.length)throw new at(900,!1);let f,y=Ht.Default;for(let I=0;I<l.length;I++){const R=l[I],V=ri(R);"number"==typeof V?-1===V?f=R.token:y|=V:f=R}s.push(Ot(f,y))}else s.push(Ot(l))}return s}function di(i,s){return i[Zr]=s,i.prototype[Zr]=s,i}function ri(i){return i[Zr]}function Ee(i){return{toString:i}.toString()}var oe=(()=>((oe=oe||{})[oe.OnPush=0]="OnPush",oe[oe.Default=1]="Default",oe))(),ue=(()=>{return(i=ue||(ue={}))[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",ue;var i})();const te={},De=[],he=Ve({\u0275cmp:Ve}),_e=Ve({\u0275dir:Ve}),ce=Ve({\u0275pipe:Ve}),Ne=Ve({\u0275mod:Ve}),nt=Ve({\u0275fac:Ve}),bt=Ve({__NG_ELEMENT_ID__:Ve});let un=0;function En(i){return Ee(()=>{const s=Vs(i),o={...s,decls:i.decls,vars:i.vars,template:i.template,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,onPush:i.changeDetection===oe.OnPush,directiveDefs:null,pipeDefs:null,dependencies:s.standalone&&i.dependencies||null,getStandaloneInjector:null,data:i.data||{},encapsulation:i.encapsulation||ue.Emulated,id:"c"+un++,styles:i.styles||De,_:null,schemas:i.schemas||null,tView:null};ki(o);const l=i.dependencies;return o.directiveDefs=Ti(l,!1),o.pipeDefs=Ti(l,!0),o})}function Oi(i){return dn(i)||gr(i)}function ct(i){return null!==i}function Je(i){return Ee(()=>({type:i.type,bootstrap:i.bootstrap||De,declarations:i.declarations||De,imports:i.imports||De,exports:i.exports||De,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null}))}function cn(i,s){if(null==i)return te;const o={};for(const l in i)if(i.hasOwnProperty(l)){let f=i[l],y=f;Array.isArray(f)&&(y=f[1],f=f[0]),o[f]=l,s&&(s[f]=y)}return o}function On(i){return Ee(()=>{const s=Vs(i);return ki(s),s})}function Ln(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,standalone:!0===i.standalone,onDestroy:i.type.prototype.ngOnDestroy||null}}function dn(i){return i[he]||null}function gr(i){return i[_e]||null}function lr(i){return i[ce]||null}function Pi(i){const s=dn(i)||gr(i)||lr(i);return null!==s&&s.standalone}function Di(i,s){const o=i[Ne]||null;if(!o&&!0===s)throw new Error(`Type ${Le(i)} does not have '\u0275mod' property.`);return o}function Vs(i){const s={};return{type:i.type,providersResolver:null,factory:null,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:s,exportAs:i.exportAs||null,standalone:!0===i.standalone,selectors:i.selectors||De,viewQuery:i.viewQuery||null,features:i.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:cn(i.inputs,s),outputs:cn(i.outputs)}}function ki(i){i.features?.forEach(s=>s(i))}function Ti(i,s){if(!i)return null;const o=s?lr:Oi;return()=>("function"==typeof i?i():i).map(l=>o(l)).filter(ct)}const _i=0,Qt=1,Qn=2,mr=3,Dr=4,Fi=5,hi=6,to=7,Qr=8,$e=9,xe=10,Pe=11,ft=12,Nt=13,An=14,Kn=15,wn=16,hr=17,Li=18,Vi=19,vi=20,Ki=21,ti=22,Co=1,Ps=2,Tr=7,ur=8,zn=9,ii=10;function Ji(i){return Array.isArray(i)&&"object"==typeof i[Co]}function _s(i){return Array.isArray(i)&&!0===i[Co]}function Ts(i){return 0!=(4&i.flags)}function Do(i){return i.componentOffset>-1}function Lr(i){return 1==(1&i.flags)}function $n(i){return!!i.template}function Si(i){return 0!=(256&i[Qn])}function We(i,s){return i.hasOwnProperty(nt)?i[nt]:null}class _t{constructor(s,o,l){this.previousValue=s,this.currentValue=o,this.firstChange=l}isFirstChange(){return this.firstChange}}function $t(){return tn}function tn(i){return i.type.prototype.ngOnChanges&&(i.setInput=Sn),hn}function hn(){const i=fi(this),s=i?.current;if(s){const o=i.previous;if(o===te)i.previous=s;else for(let l in s)o[l]=s[l];i.current=null,this.ngOnChanges(s)}}function Sn(i,s,o,l){const f=this.declaredInputs[o],y=fi(i)||function zr(i,s){return i[ir]=s}(i,{previous:te,current:null}),I=y.current||(y.current={}),R=y.previous,V=R[f];I[f]=new _t(V&&V.currentValue,s,R===te),i[l]=s}$t.ngInherit=!0;const ir="__ngSimpleChanges__";function fi(i){return i[ir]||null}const Sr=function(i,s,o){},wi="svg";function Wr(i){for(;Array.isArray(i);)i=i[_i];return i}function Ii(i,s){return Wr(s[i])}function Ui(i,s){return Wr(s[i.index])}function Vr(i,s){return i.data[s]}function Yi(i,s){const o=s[i];return Ji(o)?o:o[_i]}function xs(i){return 64==(64&i[Qn])}function ts(i,s){return null==s?null:i[s]}function vs(i){i[Li]=0}function qn(i,s){i[Fi]+=s;let o=i,l=i[mr];for(;null!==l&&(1===s&&1===o[Fi]||-1===s&&0===o[Fi]);)l[Fi]+=s,o=l,l=l[mr]}const Yn={lFrame:fa(null),bindingsEnabled:!0};function ra(){return Yn.bindingsEnabled}function x(){return Yn.lFrame.lView}function U(){return Yn.lFrame.tView}function L(i){return Yn.lFrame.contextLView=i,i[Qr]}function ie(i){return Yn.lFrame.contextLView=null,i}function Ye(){let i=pn();for(;null!==i&&64===i.type;)i=i.parent;return i}function pn(){return Yn.lFrame.currentTNode}function xi(i,s){const o=Yn.lFrame;o.currentTNode=i,o.isParent=s}function io(){return Yn.lFrame.isParent}function ws(){const i=Yn.lFrame;let s=i.bindingRootIndex;return-1===s&&(s=i.bindingRootIndex=i.tView.bindingStartIndex),s}function Ro(){return Yn.lFrame.bindingIndex++}function As(i){const s=Yn.lFrame,o=s.bindingIndex;return s.bindingIndex=s.bindingIndex+i,o}function sa(i,s){const o=Yn.lFrame;o.bindingIndex=o.bindingRootIndex=i,ji(s)}function ji(i){Yn.lFrame.currentDirectiveIndex=i}function ha(){return Yn.lFrame.currentQueryIndex}function tl(i){Yn.lFrame.currentQueryIndex=i}function go(i){const s=i[Qt];return 2===s.type?s.declTNode:1===s.type?i[hi]:null}function La(i,s,o){if(o&Ht.SkipSelf){let f=s,y=i;for(;!(f=f.parent,null!==f||o&Ht.Host||(f=go(y),null===f||(y=y[Kn],10&f.type))););if(null===f)return!1;s=f,i=y}const l=Yn.lFrame=Bs();return l.currentTNode=s,l.lView=i,!0}function ba(i){const s=Bs(),o=i[Qt];Yn.lFrame=s,s.currentTNode=o.firstChild,s.lView=i,s.tView=o,s.contextLView=i,s.bindingIndex=o.bindingStartIndex,s.inI18n=!1}function Bs(){const i=Yn.lFrame,s=null===i?null:i.child;return null===s?fa(i):s}function fa(i){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=s),s}function pa(){const i=Yn.lFrame;return Yn.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const rs=pa;function Aa(){const i=pa();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function Zi(){return Yn.lFrame.selectedIndex}function Ai(i){Yn.lFrame.selectedIndex=i}function gi(){const i=Yn.lFrame;return Vr(i.tView,i.selectedIndex)}function oi(){Yn.lFrame.currentNamespace=wi}function Va(){!function aa(){Yn.lFrame.currentNamespace=null}()}function Po(i,s){for(let o=s.directiveStart,l=s.directiveEnd;o<l;o++){const y=i.data[o].type.prototype,{ngAfterContentInit:I,ngAfterContentChecked:R,ngAfterViewInit:V,ngAfterViewChecked:K,ngOnDestroy:se}=y;I&&(i.contentHooks??(i.contentHooks=[])).push(-o,I),R&&((i.contentHooks??(i.contentHooks=[])).push(o,R),(i.contentCheckHooks??(i.contentCheckHooks=[])).push(o,R)),V&&(i.viewHooks??(i.viewHooks=[])).push(-o,V),K&&((i.viewHooks??(i.viewHooks=[])).push(o,K),(i.viewCheckHooks??(i.viewCheckHooks=[])).push(o,K)),null!=se&&(i.destroyHooks??(i.destroyHooks=[])).push(o,se)}}function ga(i,s,o){W(i,s,3,o)}function la(i,s,o,l){(3&i[Qn])===o&&W(i,s,o,l)}function N(i,s){let o=i[Qn];(3&o)===s&&(o&=2047,o+=1,i[Qn]=o)}function W(i,s,o,l){const y=l??-1,I=s.length-1;let R=0;for(let V=void 0!==l?65535&i[Li]:0;V<I;V++)if("number"==typeof s[V+1]){if(R=s[V],null!=l&&R>=l)break}else s[V]<0&&(i[Li]+=65536),(R<y||-1==y)&&(F(i,o,s,V),i[Li]=(4294901760&i[Li])+V+2),V++}function F(i,s,o,l){const f=o[l]<0,y=o[l+1],R=i[f?-o[l]:o[l]];if(f){if(i[Qn]>>11<i[Li]>>16&&(3&i[Qn])===s){i[Qn]+=2048,Sr(4,R,y);try{y.call(R)}finally{Sr(5,R,y)}}}else{Sr(4,R,y);try{y.call(R)}finally{Sr(5,R,y)}}}const ee=-1;class Ie{constructor(s,o,l){this.factory=s,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=l}}function mi(i,s,o){let l=0;for(;l<o.length;){const f=o[l];if("number"==typeof f){if(0!==f)break;l++;const y=o[l++],I=o[l++],R=o[l++];i.setAttribute(s,I,R,y)}else{const y=f,I=o[++l];Go(y)?i.setProperty(s,y,I):i.setAttribute(s,y,I),l++}}return l}function ls(i){return 3===i||4===i||6===i}function Go(i){return 64===i.charCodeAt(0)}function mo(i,s){if(null!==s&&0!==s.length)if(null===i||0===i.length)i=s.slice();else{let o=-1;for(let l=0;l<s.length;l++){const f=s[l];"number"==typeof f?o=f:0===o||ma(i,o,f,null,-1===o||2===o?s[++l]:null)}}return i}function ma(i,s,o,l,f){let y=0,I=i.length;if(-1===s)I=-1;else for(;y<i.length;){const R=i[y++];if("number"==typeof R){if(R===s){I=-1;break}if(R>s){I=y-1;break}}}for(;y<i.length;){const R=i[y];if("number"==typeof R)break;if(R===o){if(null===l)return void(null!==f&&(i[y+1]=f));if(l===i[y+1])return void(i[y+2]=f)}y++,null!==l&&y++,null!==f&&y++}-1!==I&&(i.splice(I,0,s),y=I+1),i.splice(y++,0,o),null!==l&&i.splice(y++,0,l),null!==f&&i.splice(y++,0,f)}function ks(i){return i!==ee}function oo(i){return 32767&i}function ai(i,s){let o=function ao(i){return i>>16}(i),l=s;for(;o>0;)l=l[Kn],o--;return l}let ya=!0;function zo(i){const s=ya;return ya=i,s}const xl=255,Lt=5;let is=0;const us={};function yn(i,s){const o=sc(i,s);if(-1!==o)return o;const l=s[Qt];l.firstCreatePass&&(i.injectorIndex=s.length,Cn(l.data,i),Cn(s,null),Cn(l.blueprint,null));const f=Bt(i,s),y=i.injectorIndex;if(ks(f)){const I=oo(f),R=ai(f,s),V=R[Qt].data;for(let K=0;K<8;K++)s[y+K]=R[I+K]|V[I+K]}return s[y+8]=f,y}function Cn(i,s){i.push(0,0,0,0,0,0,0,0,s)}function sc(i,s){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===s[i.injectorIndex+8]?-1:i.injectorIndex}function Bt(i,s){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let o=0,l=null,f=s;for(;null!==f;){if(l=Ci(f),null===l)return ee;if(o++,f=f[Kn],-1!==l.injectorIndex)return l.injectorIndex|o<<16}return ee}function ut(i,s,o){!function Ou(i,s,o){let l;"string"==typeof o?l=o.charCodeAt(0)||0:o.hasOwnProperty(bt)&&(l=o[bt]),null==l&&(l=o[bt]=is++);const f=l&xl;s.data[i+(f>>Lt)]|=1<<f}(i,s,o)}function ps(i,s,o){if(o&Ht.Optional||void 0!==i)return i;et()}function $a(i,s,o,l){if(o&Ht.Optional&&void 0===l&&(l=null),!(o&(Ht.Self|Ht.Host))){const f=i[$e],y=kr(void 0);try{return f?f.get(s,l,o&Ht.Optional):xr(s,l,o&Ht.Optional)}finally{kr(y)}}return ps(l,0,o)}function ku(i,s,o,l=Ht.Default,f){if(null!==i){if(1024&s[Qn]){const I=function Fu(i,s,o,l,f){let y=i,I=s;for(;null!==y&&null!==I&&1024&I[Qn]&&!(256&I[Qn]);){const R=Yl(y,I,o,l|Ht.Self,us);if(R!==us)return R;let V=y.parent;if(!V){const K=I[Ki];if(K){const se=K.get(o,us,l);if(se!==us)return se}V=Ci(I),I=I[Kn]}y=V}return f}(i,s,o,l,us);if(I!==us)return I}const y=Yl(i,s,o,l,us);if(y!==us)return y}return $a(s,o,l,f)}function Yl(i,s,o,l,f){const y=function hu(i){if("string"==typeof i)return i.charCodeAt(0)||0;const s=i.hasOwnProperty(bt)?i[bt]:void 0;return"number"==typeof s?s>=0?s&xl:ja:s}(o);if("function"==typeof y){if(!La(s,i,l))return l&Ht.Host?ps(f,0,l):$a(s,o,l,f);try{const I=y(l);if(null!=I||l&Ht.Optional)return I;et()}finally{rs()}}else if("number"==typeof y){let I=null,R=sc(i,s),V=ee,K=l&Ht.Host?s[wn][hi]:null;for((-1===R||l&Ht.SkipSelf)&&(V=-1===R?Bt(i,s):s[R+8],V!==ee&&Ol(l,!1)?(I=s[Qt],R=oo(V),s=ai(V,s)):R=-1);-1!==R;){const se=s[Qt];if(_a(y,R,se.data)){const ve=Is(R,s,o,I,l,K);if(ve!==us)return ve}V=s[R+8],V!==ee&&Ol(l,s[Qt].data[R+8]===K)&&_a(y,R,s)?(I=se,R=oo(V),s=ai(V,s)):R=-1}}return f}function Is(i,s,o,l,f,y){const I=s[Qt],R=I.data[i+8],se=yl(R,I,o,null==l?Do(R)&&ya:l!=I&&0!=(3&R.type),f&Ht.Host&&y===R);return null!==se?qr(s,I,se,R):us}function yl(i,s,o,l,f){const y=i.providerIndexes,I=s.data,R=1048575&y,V=i.directiveStart,se=y>>20,je=f?R+se:i.directiveEnd;for(let st=l?R:R+se;st<je;st++){const Mt=I[st];if(st<V&&o===Mt||st>=V&&Mt.type===o)return st}if(f){const st=I[V];if(st&&$n(st)&&st.type===o)return V}return null}function qr(i,s,o,l){let f=i[o];const y=s.data;if(function dt(i){return i instanceof Ie}(f)){const I=f;I.resolving&&function Ge(i,s){const o=s?`. Dependency path: ${s.join(" > ")} > ${i}`:"";throw new at(-200,`Circular dependency in DI detected for ${i}${o}`)}(function Dt(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():Tt(i)}(y[o]));const R=zo(I.canSeeViewProviders);I.resolving=!0;const V=I.injectImpl?kr(I.injectImpl):null;La(i,l,Ht.Default);try{f=i[o]=I.factory(void 0,y,i,l),s.firstCreatePass&&o>=l.directiveStart&&function Ba(i,s,o){const{ngOnChanges:l,ngOnInit:f,ngDoCheck:y}=s.type.prototype;if(l){const I=tn(s);(o.preOrderHooks??(o.preOrderHooks=[])).push(i,I),(o.preOrderCheckHooks??(o.preOrderCheckHooks=[])).push(i,I)}f&&(o.preOrderHooks??(o.preOrderHooks=[])).push(0-i,f),y&&((o.preOrderHooks??(o.preOrderHooks=[])).push(i,y),(o.preOrderCheckHooks??(o.preOrderCheckHooks=[])).push(i,y))}(o,y[o],s)}finally{null!==V&&kr(V),zo(R),I.resolving=!1,rs()}}return f}function _a(i,s,o){return!!(o[s+(i>>Lt)]&1<<i)}function Ol(i,s){return!(i&Ht.Self||i&Ht.Host&&s)}class nl{constructor(s,o){this._tNode=s,this._lView=o}get(s,o,l){return ku(this._tNode,this._lView,s,Fr(l),o)}}function ja(){return new nl(Ye(),x())}function nr(i){return Ee(()=>{const s=i.prototype.constructor,o=s[nt]||Wo(s),l=Object.prototype;let f=Object.getPrototypeOf(i.prototype).constructor;for(;f&&f!==l;){const y=f[nt]||Wo(f);if(y&&y!==o)return y;f=Object.getPrototypeOf(f)}return y=>new y})}function Wo(i){return ht(i)?()=>{const s=Wo(Ae(i));return s&&s()}:We(i)}function Ci(i){const s=i[Qt],o=s.type;return 2===o?s.declTNode:1===o?i[hi]:null}function Mn(i){return function kt(i,s){if("class"===s)return i.classes;if("style"===s)return i.styles;const o=i.attrs;if(o){const l=o.length;let f=0;for(;f<l;){const y=o[f];if(ls(y))break;if(0===y)f+=2;else if("number"==typeof y)for(f++;f<l&&"string"==typeof o[f];)f++;else{if(y===s)return o[f+1];f+=2}}}return null}(Ye(),i)}const Ur="__parameters__";function $s(i,s,o){return Ee(()=>{const l=function nn(i){return function(...o){if(i){const l=i(...o);for(const f in l)this[f]=l[f]}}}(s);function f(...y){if(this instanceof f)return l.apply(this,y),this;const I=new f(...y);return R.annotation=I,R;function R(V,K,se){const ve=V.hasOwnProperty(Ur)?V[Ur]:Object.defineProperty(V,Ur,{value:[]})[Ur];for(;ve.length<=se;)ve.push(null);return(ve[se]=ve[se]||[]).push(I),V}}return o&&(f.prototype=Object.create(o.prototype)),f.prototype.ngMetadataName=i,f.annotationCls=f,f})}class Gi{constructor(s,o){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=qt({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function yo(i,s){i.forEach(o=>Array.isArray(o)?yo(o,s):s(o))}function qo(i,s,o){s>=i.length?i.push(o):i.splice(s,0,o)}function Oo(i,s){return s>=i.length-1?i.pop():i.splice(s,1)[0]}function zi(i,s,o){let l=Ma(i,s);return l>=0?i[1|l]=o:(l=~l,function kl(i,s,o,l){let f=i.length;if(f==s)i.push(o,l);else if(1===f)i.push(l,i[0]),i[0]=o;else{for(f--,i.push(i[f-1],i[f]);f>s;)i[f]=i[f-2],f--;i[s]=o,i[s+1]=l}}(i,l,s,o)),l}function ko(i,s){const o=Ma(i,s);if(o>=0)return i[1|o]}function Ma(i,s){return function T(i,s,o){let l=0,f=i.length>>o;for(;f!==l;){const y=l+(f-l>>1),I=i[y<<o];if(s===I)return y<<o;I>s?f=y:l=y+1}return~(f<<o)}(i,s,1)}const fr=di($s("Optional"),8),_o=di($s("SkipSelf"),4);var Gs=(()=>((Gs=Gs||{})[Gs.Important=1]="Important",Gs[Gs.DashCase=2]="DashCase",Gs))();const _u=new Map;let Xo=0;const Oe="__ngContext__";function ze(i,s){Ji(s)?(i[Oe]=s[vi],function oc(i){_u.set(i[vi],i)}(s)):i[Oe]=s}let Br;function Hr(i,s){return Br(i,s)}function Bu(i){const s=i[mr];return _s(s)?s[mr]:s}function Tl(i){return Cc(i[Nt])}function $u(i){return Cc(i[Dr])}function Cc(i){for(;null!==i&&!_s(i);)i=i[Dr];return i}function za(i,s,o,l,f){if(null!=l){let y,I=!1;_s(l)?y=l:Ji(l)&&(I=!0,l=l[_i]);const R=Wr(l);0===i&&null!==o?null==f?Lo(s,o,R):yr(s,o,R,f||null,!0):1===i&&null!==o?yr(s,o,R,f||null,!0):2===i?function Bl(i,s,o){const l=ys(i,s);l&&function Ul(i,s,o,l){i.removeChild(s,o,l)}(i,l,s,o)}(s,R,I):3===i&&s.destroyNode(R),null!=y&&function Kf(i,s,o,l,f){const y=o[Tr];y!==Wr(o)&&za(s,i,l,y,f);for(let R=ii;R<o.length;R++){const V=o[R];Jo(V[Qt],V,i,s,l,y)}}(s,i,y,o,f)}}function Iu(i,s,o){return i.createElement(s,o)}function A(i,s){const o=i[zn],l=o.indexOf(s),f=s[mr];512&s[Qn]&&(s[Qn]&=-513,qn(f,-1)),o.splice(l,1)}function Y(i,s){if(i.length<=ii)return;const o=ii+s,l=i[o];if(l){const f=l[hr];null!==f&&f!==i&&A(f,l),s>0&&(i[o-1][Dr]=l[Dr]);const y=Oo(i,ii+s);!function Ld(i,s){Jo(i,s,s[Pe],2,null,null),s[_i]=null,s[hi]=null}(l[Qt],l);const I=y[Vi];null!==I&&I.detachView(y[Qt]),l[mr]=null,l[Dr]=null,l[Qn]&=-65}return l}function le(i,s){if(!(128&s[Qn])){const o=s[Pe];o.destroyNode&&Jo(i,s,o,3,null,null),function S(i){let s=i[Nt];if(!s)return He(i[Qt],i);for(;s;){let o=null;if(Ji(s))o=s[Nt];else{const l=s[ii];l&&(o=l)}if(!o){for(;s&&!s[Dr]&&s!==i;)Ji(s)&&He(s[Qt],s),s=s[mr];null===s&&(s=i),Ji(s)&&He(s[Qt],s),o=s&&s[Dr]}s=o}}(s)}}function He(i,s){if(!(128&s[Qn])){s[Qn]&=-65,s[Qn]|=128,function Yt(i,s){let o;if(null!=i&&null!=(o=i.destroyHooks))for(let l=0;l<o.length;l+=2){const f=s[o[l]];if(!(f instanceof Ie)){const y=o[l+1];if(Array.isArray(y))for(let I=0;I<y.length;I+=2){const R=f[y[I]],V=y[I+1];Sr(4,R,V);try{V.call(R)}finally{Sr(5,R,V)}}else{Sr(4,f,y);try{y.call(f)}finally{Sr(5,f,y)}}}}}(i,s),function gt(i,s){const o=i.cleanup,l=s[to];let f=-1;if(null!==o)for(let y=0;y<o.length-1;y+=2)if("string"==typeof o[y]){const I=o[y+3];I>=0?l[f=I]():l[f=-I].unsubscribe(),y+=2}else{const I=l[f=o[y+1]];o[y].call(I)}if(null!==l){for(let y=f+1;y<l.length;y++)(0,l[y])();s[to]=null}}(i,s),1===s[Qt].type&&s[Pe].destroy();const o=s[hr];if(null!==o&&_s(s[mr])){o!==s[mr]&&A(o,s);const l=s[Vi];null!==l&&l.detachView(i)}!function vu(i){_u.delete(i[vi])}(s)}}function an(i,s,o){return function Hn(i,s,o){let l=s;for(;null!==l&&40&l.type;)l=(s=l).parent;if(null===l)return o[_i];{const{componentOffset:f}=l;if(f>-1){const{encapsulation:y}=i.data[l.directiveStart+f];if(y===ue.None||y===ue.Emulated)return null}return Ui(l,o)}}(i,s.parent,o)}function yr(i,s,o,l,f){i.insertBefore(s,o,l,f)}function Lo(i,s,o){i.appendChild(s,o)}function Wa(i,s,o,l,f){null!==l?yr(i,s,o,l,f):Lo(i,s,o)}function ys(i,s){return i.parentNode(s)}let ul,qf,bc,wo=function bl(i,s,o){return 40&i.type?Ui(i,o):null};function Al(i,s,o,l){const f=an(i,l,s),y=s[Pe],R=function Ka(i,s,o){return wo(i,s,o)}(l.parent||s[hi],l,s);if(null!=f)if(Array.isArray(o))for(let V=0;V<o.length;V++)Wa(y,f,o[V],R,!1);else Wa(y,f,o,R,!1);void 0!==ul&&ul(y,l,s,o,f)}function cl(i,s){if(null!==s){const o=s.type;if(3&o)return Ui(s,i);if(4&o)return ld(-1,i[s.index]);if(8&o){const l=s.child;if(null!==l)return cl(i,l);{const f=i[s.index];return _s(f)?ld(-1,f):Wr(f)}}if(32&o)return Hr(s,i)()||Wr(i[s.index]);{const l=Tc(i,s);return null!==l?Array.isArray(l)?l[0]:cl(Bu(i[wn]),l):cl(i,s.next)}}return null}function Tc(i,s){return null!==s?i[wn][hi].projection[s.projection]:null}function ld(i,s){const o=ii+i+1;if(o<s.length){const l=s[o],f=l[Qt].firstChild;if(null!==f)return cl(l,f)}return s[Tr]}function ud(i,s,o,l,f,y,I){for(;null!=o;){const R=l[o.index],V=o.type;if(I&&0===s&&(R&&ze(Wr(R),l),o.flags|=2),32!=(32&o.flags))if(8&V)ud(i,s,o.child,l,f,y,!1),za(s,i,f,R,y);else if(32&V){const K=Hr(o,l);let se;for(;se=K();)za(s,i,f,se,y);za(s,i,f,R,y)}else 16&V?Sc(i,s,l,o,f,y):za(s,i,f,R,y);o=I?o.projectionNext:o.next}}function Jo(i,s,o,l,f,y){ud(o,l,i.firstChild,s,f,y,!1)}function Sc(i,s,o,l,f,y){const I=o[wn],V=I[hi].projection[l.projection];if(Array.isArray(V))for(let K=0;K<V.length;K++)za(s,i,f,V[K],y);else ud(i,s,V,I[mr],f,y,!0)}function tu(i,s,o){""===o?i.removeAttribute(s,"class"):i.setAttribute(s,"class",o)}function Vd(i,s,o){const{mergedAttrs:l,classes:f,styles:y}=o;null!==l&&mi(i,s,l),null!==f&&tu(i,s,f),null!==y&&function cd(i,s,o){i.setAttribute(s,"style",o)}(i,s,y)}function Lg(i){qf=i}function Gu(i){return function ju(){if(void 0===bc&&(bc=null,Zn.trustedTypes))try{bc=Zn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch{}return bc}()?.createScriptURL(i)||i}class Vh{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${jt})`}}function zu(i){return i instanceof Vh?i.changingThisBreaksApplicationSecurity:i}function fs(i,s){const o=function Bd(i){return i instanceof Vh&&i.getTypeName()||null}(i);if(null!=o&&o!==s){if("ResourceURL"===o&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${o} (see ${jt})`)}return o===s}const Bh=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var Js=(()=>((Js=Js||{})[Js.NONE=0]="NONE",Js[Js.HTML=1]="HTML",Js[Js.STYLE=2]="STYLE",Js[Js.SCRIPT=3]="SCRIPT",Js[Js.URL=4]="URL",Js[Js.RESOURCE_URL=5]="RESOURCE_URL",Js))();function jh(i){const s=Rc();return s?s.sanitize(Js.URL,i)||"":fs(i,"URL")?zu(i):function jd(i){return(i=String(i)).match(Bh)?i:"unsafe:"+i}(Tt(i))}function Hh(i){const s=Rc();if(s)return Gu(s.sanitize(Js.RESOURCE_URL,i)||"");if(fs(i,"ResourceURL"))return Gu(zu(i));throw new at(904,!1)}function sp(i,s,o){return function md(i,s){return"src"===s&&("embed"===i||"frame"===i||"iframe"===i||"media"===i||"script"===i)||"href"===s&&("base"===i||"link"===i)?Hh:jh}(s,o)(i)}function Rc(){const i=x();return i&&i[ft]}const iu=new Gi("ENVIRONMENT_INITIALIZER"),eo=new Gi("INJECTOR",-1),Kd=new Gi("INJECTOR_DEF_TYPES");class Gh{get(s,o=ei){if(o===ei){const l=new Error(`NullInjectorError: No provider for ${Le(s)}!`);throw l.name="NullInjectorError",l}return o}}function jl(...i){return{\u0275providers:_d(0,i),\u0275fromNgModule:!0}}function _d(i,...s){const o=[],l=new Set;let f;return yo(s,y=>{const I=y;Ku(I,o,[],l)&&(f||(f=[]),f.push(I))}),void 0!==f&&Yd(f,o),o}function Yd(i,s){for(let o=0;o<i.length;o++){const{providers:f}=i[o];Zd(f,y=>{s.push(y)})}}function Ku(i,s,o,l){if(!(i=Ae(i)))return!1;let f=null,y=rr(i);const I=!y&&dn(i);if(y||I){if(I&&!I.standalone)return!1;f=i}else{const V=i.ngModule;if(y=rr(V),!y)return!1;f=V}const R=l.has(f);if(I){if(R)return!1;if(l.add(f),I.dependencies){const V="function"==typeof I.dependencies?I.dependencies():I.dependencies;for(const K of V)Ku(K,s,o,l)}}else{if(!y)return!1;{if(null!=y.imports&&!R){let K;l.add(f);try{yo(y.imports,se=>{Ku(se,s,o,l)&&(K||(K=[]),K.push(se))})}finally{}void 0!==K&&Yd(K,s)}if(!R){const K=We(f)||(()=>new f);s.push({provide:f,useFactory:K,deps:De},{provide:Kd,useValue:f,multi:!0},{provide:iu,useValue:()=>Ot(f),multi:!0})}const V=y.providers;null==V||R||Zd(V,se=>{s.push(se)})}}return f!==i&&void 0!==i.providers}function Zd(i,s){for(let o of i)pt(o)&&(o=o.\u0275providers),Array.isArray(o)?Zd(o,s):s(o)}const zh=Ve({provide:String,useValue:Ve});function Wh(i){return null!==i&&"object"==typeof i&&zh in i}function su(i){return"function"==typeof i}const Qd=new Gi("Set Injector scope."),Mc={},up={};let Xd;function Ed(){return void 0===Xd&&(Xd=new Gh),Xd}class fc{}class Kh extends fc{get destroyed(){return this._destroyed}constructor(s,o,l,f){super(),this.parent=o,this.source=l,this.scopes=f,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,m(s,I=>this.processProvider(I)),this.records.set(eo,Nc(void 0,this)),f.has("environment")&&this.records.set(fc,Nc(void 0,this));const y=this.records.get(Qd);null!=y&&"string"==typeof y.value&&this.scopes.add(y.value),this.injectorDefTypes=new Set(this.get(Kd.multi,De,Ht.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const s of this._ngOnDestroyHooks)s.ngOnDestroy();for(const s of this._onDestroyHooks)s()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(s){this._onDestroyHooks.push(s)}runInContext(s){this.assertNotDestroyed();const o=Nn(this),l=kr(void 0);try{return s()}finally{Nn(o),kr(l)}}get(s,o=ei,l=Ht.Default){this.assertNotDestroyed(),l=Fr(l);const f=Nn(this),y=kr(void 0);try{if(!(l&Ht.SkipSelf)){let R=this.records.get(s);if(void 0===R){const V=function c(i){return"function"==typeof i||"object"==typeof i&&i instanceof Gi}(s)&&Pn(s);R=V&&this.injectableDefInScope(V)?Nc(qh(s),Mc):null,this.records.set(s,R)}if(null!=R)return this.hydrate(s,R)}return(l&Ht.Self?Ed():this.parent).get(s,o=l&Ht.Optional&&o===ei?null:o)}catch(I){if("NullInjectorError"===I.name){if((I[Rr]=I[Rr]||[]).unshift(Le(s)),f)throw I;return function li(i,s,o,l){const f=i[Rr];throw s[Fn]&&f.unshift(s[Fn]),i.message=function Ce(i,s,o,l=null){i=i&&"\n"===i.charAt(0)&&i.charAt(1)==ci?i.slice(2):i;let f=Le(s);if(Array.isArray(s))f=s.map(Le).join(" -> ");else if("object"==typeof s){let y=[];for(let I in s)if(s.hasOwnProperty(I)){let R=s[I];y.push(I+":"+("string"==typeof R?JSON.stringify(R):Le(R)))}f=`{${y.join(", ")}}`}return`${o}${l?"("+l+")":""}[${f}]: ${i.replace(sr,"\n  ")}`}("\n"+i.message,f,o,l),i[Mi]=f,i[Rr]=null,i}(I,s,"R3InjectorError",this.source)}throw I}finally{kr(y),Nn(f)}}resolveInjectorInitializers(){const s=Nn(this),o=kr(void 0);try{const l=this.get(iu.multi,De,Ht.Self);for(const f of l)f()}finally{Nn(s),kr(o)}}toString(){const s=[],o=this.records;for(const l of o.keys())s.push(Le(l));return`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new at(205,!1)}processProvider(s){let o=su(s=Ae(s))?s:Ae(s&&s.provide);const l=function Pc(i){return Wh(i)?Nc(void 0,i.useValue):Nc(Jd(i),Mc)}(s);if(su(s)||!0!==s.multi)this.records.get(o);else{let f=this.records.get(o);f||(f=Nc(void 0,Mc,!0),f.factory=()=>yi(f.multi),this.records.set(o,f)),o=s,f.multi.push(s)}this.records.set(o,l)}hydrate(s,o){return o.value===Mc&&(o.value=up,o.value=o.factory()),"object"==typeof o.value&&o.value&&function u(i){return null!==i&&"object"==typeof i&&"function"==typeof i.ngOnDestroy}(o.value)&&this._ngOnDestroyHooks.add(o.value),o.value}injectableDefInScope(s){if(!s.providedIn)return!1;const o=Ae(s.providedIn);return"string"==typeof o?"any"===o||this.scopes.has(o):this.injectorDefTypes.has(o)}}function qh(i){const s=Pn(i),o=null!==s?s.factory:We(i);if(null!==o)return o;if(i instanceof Gi)throw new at(204,!1);if(i instanceof Function)return function qu(i){const s=i.length;if(s>0)throw function Zs(i,s){const o=[];for(let l=0;l<i;l++)o.push(s);return o}(s,"?"),new at(204,!1);const o=function Un(i){return i&&(i[Zt]||i[Or])||null}(i);return null!==o?()=>o.factory(i):()=>new i}(i);throw new at(204,!1)}function Jd(i,s,o){let l;if(su(i)){const f=Ae(i);return We(f)||qh(f)}if(Wh(i))l=()=>Ae(i.useValue);else if(function hc(i){return!(!i||!i.useFactory)}(i))l=()=>i.useFactory(...yi(i.deps||[]));else if(function ap(i){return!(!i||!i.useExisting)}(i))l=()=>Ot(Ae(i.useExisting));else{const f=Ae(i&&(i.useClass||i.provide));if(!function h(i){return!!i.deps}(i))return We(f)||qh(f);l=()=>new f(...yi(i.deps))}return l}function Nc(i,s,o=!1){return{factory:i,value:s,multi:o?[]:void 0}}function m(i,s){for(const o of i)Array.isArray(o)?m(o,s):o&&pt(o)?m(o.\u0275providers,s):s(o)}class D{}class O{}class Se{resolveComponentFactory(s){throw function H(i){const s=Error(`No component factory found for ${Le(i)}. Did you add it to @NgModule.entryComponents?`);return s.ngComponent=i,s}(s)}}let yt=(()=>{class i{}return i.NULL=new Se,i})();function Ct(){return Rt(Ye(),x())}function Rt(i,s){return new _n(Ui(i,s))}let _n=(()=>{class i{constructor(o){this.nativeElement=o}}return i.__NG_ELEMENT_ID__=Ct,i})();function Jn(i){return i instanceof _n?i.nativeElement:i}class Bi{}let Vo=(()=>{class i{}return i.__NG_ELEMENT_ID__=()=>function Hl(){const i=x(),o=Yi(Ye().index,i);return(Ji(o)?o:i)[Pe]}(),i})(),Rl=(()=>{class i{}return i.\u0275prov=qt({token:i,providedIn:"root",factory:()=>null}),i})();class Gl{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const Yu=new Gl("15.2.9"),jg={},cp="ngOriginalError";function Hg(i){return i[cp]}class Yh{constructor(){this._console=console}handleError(s){const o=this._findOriginalError(s);this._console.error("ERROR",s),o&&this._console.error("ORIGINAL ERROR",o)}_findOriginalError(s){let o=s&&Hg(s);for(;o&&Hg(o);)o=Hg(o);return o||null}}function Su(i){return i instanceof Function?i():i}function dp(i,s,o){let l=i.length;for(;;){const f=i.indexOf(s,o);if(-1===f)return f;if(0===f||i.charCodeAt(f-1)<=32){const y=s.length;if(f+y===l||i.charCodeAt(f+y)<=32)return f}o=f+1}}const Xh="ng-template";function NE(i,s,o){let l=0,f=!0;for(;l<i.length;){let y=i[l++];if("string"==typeof y&&f){const I=i[l++];if(o&&"class"===y&&-1!==dp(I.toLowerCase(),s,0))return!0}else{if(1===y){for(;l<i.length&&"string"==typeof(y=i[l++]);)if(y.toLowerCase()===s)return!0;return!1}"number"==typeof y&&(f=!1)}}return!1}function zg(i){return 4===i.type&&i.value!==Xh}function Jh(i,s,o){return s===(4!==i.type||o?i.value:Xh)}function hp(i,s,o){let l=4;const f=i.attrs||[],y=function Xy(i){for(let s=0;s<i.length;s++)if(ls(i[s]))return s;return i.length}(f);let I=!1;for(let R=0;R<s.length;R++){const V=s[R];if("number"!=typeof V){if(!I)if(4&l){if(l=2|1&l,""!==V&&!Jh(i,V,o)||""===V&&1===s.length){if(hl(l))return!1;I=!0}}else{const K=8&l?V:s[++R];if(8&l&&null!==i.attrs){if(!NE(i.attrs,K,o)){if(hl(l))return!1;I=!0}continue}const ve=Qy(8&l?"class":V,f,zg(i),o);if(-1===ve){if(hl(l))return!1;I=!0;continue}if(""!==K){let je;je=ve>y?"":f[ve+1].toLowerCase();const st=8&l?je:null;if(st&&-1!==dp(st,K,0)||2&l&&K!==je){if(hl(l))return!1;I=!0}}}}else{if(!I&&!hl(l)&&!hl(V))return!1;if(I&&hl(V))continue;I=!1,l=V|1&l}}return hl(l)||I}function hl(i){return 0==(1&i)}function Qy(i,s,o,l){if(null===s)return-1;let f=0;if(l||!o){let y=!1;for(;f<s.length;){const I=s[f];if(I===i)return f;if(3===I||6===I)y=!0;else{if(1===I||2===I){let R=s[++f];for(;"string"==typeof R;)R=s[++f];continue}if(4===I)break;if(0===I){f+=4;continue}}f+=y?1:2}return-1}return function fp(i,s){let o=i.indexOf(4);if(o>-1)for(o++;o<i.length;){const l=i[o];if("number"==typeof l)return-1;if(l===s)return o;o++}return-1}(s,i)}function Wg(i,s,o=!1){for(let l=0;l<s.length;l++)if(hp(i,s[l],o))return!0;return!1}function Kg(i,s){return i?":not("+s.trim()+")":s}function kc(i){let s=i[0],o=1,l=2,f="",y=!1;for(;o<i.length;){let I=i[o];if("string"==typeof I)if(2&l){const R=i[++o];f+="["+I+(R.length>0?'="'+R+'"':"")+"]"}else 8&l?f+="."+I:4&l&&(f+=" "+I);else""!==f&&!hl(I)&&(s+=Kg(y,f),f=""),l=I,y=y||!hl(l);o++}return""!==f&&(s+=Kg(y,f)),s}const Ar={};function e_(i){Id(U(),x(),Zi()+i,!1)}function Id(i,s,o,l){if(!l)if(3==(3&s[Qn])){const y=i.preOrderCheckHooks;null!==y&&ga(s,y,o)}else{const y=i.preOrderHooks;null!==y&&la(s,y,0,o)}Ai(o)}function OE(i,s=null,o=null,l){const f=o_(i,s,o,l);return f.resolveInjectorInitializers(),f}function o_(i,s=null,o=null,l,f=new Set){const y=[o||De,jl(i)];return l=l||("object"==typeof i?void 0:Le(i)),new Kh(y,s||Ed(),l||null,f)}let Lc=(()=>{class i{static create(o,l){if(Array.isArray(o))return OE({name:""},l,o,"");{const f=o.name??"";return OE({name:f},o.parent,o.providers,f)}}}return i.THROW_IF_NOT_FOUND=ei,i.NULL=new Gh,i.\u0275prov=qt({token:i,providedIn:"any",factory:()=>Ot(eo)}),i.__NG_ELEMENT_ID__=-1,i})();function Cd(i,s=Ht.Default){const o=x();return null===o?Ot(i,s):ku(Ye(),o,Ae(i),s)}function Ip(){throw new Error("invalid")}function Xg(i,s){const o=i.contentQueries;if(null!==o)for(let l=0;l<o.length;l+=2){const y=o[l+1];if(-1!==y){const I=i.data[y];tl(o[l]),I.contentQueries(2,s[y],y)}}}function Cp(i,s,o,l,f,y,I,R,V,K,se){const ve=s.blueprint.slice();return ve[_i]=f,ve[Qn]=76|l,(null!==se||i&&1024&i[Qn])&&(ve[Qn]|=1024),vs(ve),ve[mr]=ve[Kn]=i,ve[Qr]=o,ve[xe]=I||i&&i[xe],ve[Pe]=R||i&&i[Pe],ve[ft]=V||i&&i[ft]||null,ve[$e]=K||i&&i[$e]||null,ve[hi]=y,ve[vi]=function al(){return Xo++}(),ve[Ki]=se,ve[wn]=2==s.type?i[wn]:ve,ve}function bu(i,s,o,l,f){let y=i.data[s];if(null===y)y=function Vc(i,s,o,l,f){const y=pn(),I=io(),V=i.data[s]=function Sp(i,s,o,l,f,y){return{type:o,index:l,insertBeforeIndex:null,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:f,attrs:y,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,I?y:y&&y.parent,o,s,l,f);return null===i.firstChild&&(i.firstChild=V),null!==y&&(I?null==y.child&&null!==V.parent&&(y.child=V):null===y.next&&(y.next=V,V.prev=y)),V}(i,s,o,l,f),function Nl(){return Yn.lFrame.inI18n}()&&(y.flags|=32);else if(64&y.type){y.type=o,y.value=l,y.attrs=f;const I=function Kr(){const i=Yn.lFrame,s=i.currentTNode;return i.isParent?s:s.parent}();y.injectorIndex=null===I?-1:I.injectorIndex}return xi(y,!0),y}function Dd(i,s,o,l){if(0===o)return-1;const f=s.length;for(let y=0;y<o;y++)s.push(l),i.blueprint.push(l),i.data.push(null);return f}function nh(i,s,o){ba(s);try{const l=i.viewQuery;null!==l&&Ap(1,l,o);const f=i.template;null!==f&&Jg(i,s,f,1,o),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&Xg(i,s),i.staticViewQueries&&Ap(2,i.viewQuery,o);const y=i.components;null!==y&&function h_(i,s){for(let o=0;o<s.length;o++)cf(i,s[o])}(s,y)}catch(l){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),l}finally{s[Qn]&=-5,Aa()}}function rf(i,s,o,l){const f=s[Qn];if(128!=(128&f)){ba(s);try{vs(s),function ia(i){return Yn.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==o&&Jg(i,s,o,2,l);const I=3==(3&f);if(I){const K=i.preOrderCheckHooks;null!==K&&ga(s,K,null)}else{const K=i.preOrderHooks;null!==K&&la(s,K,0,null),N(s,0)}if(function oh(i){for(let s=Tl(i);null!==s;s=$u(s)){if(!s[Ps])continue;const o=s[zn];for(let l=0;l<o.length;l++){const f=o[l];512&f[Qn]||qn(f[mr],1),f[Qn]|=512}}}(s),function sm(i){for(let s=Tl(i);null!==s;s=$u(s))for(let o=ii;o<s.length;o++){const l=s[o],f=l[Qt];xs(l)&&rf(f,l,f.template,l[Qr])}}(s),null!==i.contentQueries&&Xg(i,s),I){const K=i.contentCheckHooks;null!==K&&ga(s,K)}else{const K=i.contentHooks;null!==K&&la(s,K,1),N(s,1)}!function GE(i,s){const o=i.hostBindingOpCodes;if(null!==o)try{for(let l=0;l<o.length;l++){const f=o[l];if(f<0)Ai(~f);else{const y=f,I=o[++l],R=o[++l];sa(I,y),R(2,s[y])}}}finally{Ai(-1)}}(i,s);const R=i.components;null!==R&&function zE(i,s){for(let o=0;o<s.length;o++)om(i,s[o])}(s,R);const V=i.viewQuery;if(null!==V&&Ap(2,V,l),I){const K=i.viewCheckHooks;null!==K&&ga(s,K)}else{const K=i.viewHooks;null!==K&&la(s,K,2),N(s,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),s[Qn]&=-41,512&s[Qn]&&(s[Qn]&=-513,qn(s[mr],-1))}finally{Aa()}}}function Jg(i,s,o,l,f){const y=Zi(),I=2&l;try{Ai(-1),I&&s.length>ti&&Id(i,s,ti,!1),Sr(I?2:0,f),o(l,f)}finally{Ai(y),Sr(I?3:1,f)}}function Dp(i,s,o){if(Ts(s)){const f=s.directiveEnd;for(let y=s.directiveStart;y<f;y++){const I=i.data[y];I.contentQueries&&I.contentQueries(1,o[y],y)}}}function em(i,s,o){ra()&&(function Qa(i,s,o,l){const f=o.directiveStart,y=o.directiveEnd;Do(o)&&function QE(i,s,o){const l=Ui(s,i),f=f_(o),y=i[xe],I=df(i,Cp(i,f,null,o.onPush?32:16,l,s,y,y.createRenderer(l,o),null,null,null));i[s.index]=I}(s,o,i.data[f+o.componentOffset]),i.firstCreatePass||yn(o,s),ze(l,s);const I=o.initialInputs;for(let R=f;R<y;R++){const V=i.data[R],K=qr(s,i,R,o);ze(K,s),null!==I&&XE(0,R-f,K,V,0,I),$n(V)&&(Yi(o.index,s)[Qr]=qr(s,i,R,o))}}(i,s,o,Ui(o,s)),64==(64&o.flags)&&y_(i,s,o))}function sf(i,s,o=Ui){const l=s.localNames;if(null!==l){let f=s.index+1;for(let y=0;y<l.length;y+=2){const I=l[y+1],R=-1===I?o(s,i):i[I];i[f++]=R}}}function f_(i){const s=i.tView;return null===s||s.incompleteFirstPass?i.tView=af(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts):s}function af(i,s,o,l,f,y,I,R,V,K){const se=ti+l,ve=se+f,je=function p_(i,s){const o=[];for(let l=0;l<s;l++)o.push(l<i?null:Ar);return o}(se,ve),st="function"==typeof K?K():K;return je[Qt]={type:i,blueprint:je,template:o,queries:null,viewQuery:R,declTNode:s,data:je.slice().fill(null,se),bindingStartIndex:se,expandoStartIndex:ve,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof y?y():y,pipeRegistry:"function"==typeof I?I():I,firstChild:null,schemas:V,consts:st,incompleteFirstPass:!1}}function Tp(i,s,o,l){const f=Rp(s);null===o?f.push(l):(f.push(o),i.firstCreatePass&&v_(i).push(l,f.length-1))}function rh(i,s,o,l){for(let f in i)if(i.hasOwnProperty(f)){o=null===o?{}:o;const y=i[f];null===l?lf(o,s,f,y):l.hasOwnProperty(f)&&lf(o,s,l[f],y)}return o}function lf(i,s,o,l){i.hasOwnProperty(o)?i[o].push(s,l):i[o]=[s,l]}function ih(i,s,o,l){if(ra()){const f=null===l?null:{"":-1},y=function bp(i,s){const o=i.directiveRegistry;let l=null,f=null;if(o)for(let y=0;y<o.length;y++){const I=o[y];if(Wg(s,I.selectors,!1))if(l||(l=[]),$n(I))if(null!==I.findHostDirectiveDefs){const R=[];f=f||new Map,I.findHostDirectiveDefs(I,R,f),l.unshift(...R,I),Td(i,s,R.length)}else l.unshift(I),Td(i,s,0);else f=f||new Map,I.findHostDirectiveDefs?.(I,l,f),l.push(I)}return null===l?null:[l,f]}(i,o);let I,R;null===y?I=R=null:[I,R]=y,null!==I&&rm(i,s,o,I,f,R),f&&function im(i,s,o){if(s){const l=i.localNames=[];for(let f=0;f<s.length;f+=2){const y=o[s[f+1]];if(null==y)throw new at(-301,!1);l.push(s[f],y)}}}(o,l,f)}o.mergedAttrs=mo(o.mergedAttrs,o.attrs)}function rm(i,s,o,l,f,y){for(let K=0;K<l.length;K++)ut(yn(o,s),i,l[K].type);!function YE(i,s,o){i.flags|=1,i.directiveStart=s,i.directiveEnd=s+o,i.providerIndexes=s}(o,i.data.length,l.length);for(let K=0;K<l.length;K++){const se=l[K];se.providersResolver&&se.providersResolver(se)}let I=!1,R=!1,V=Dd(i,s,l.length,null);for(let K=0;K<l.length;K++){const se=l[K];o.mergedAttrs=mo(o.mergedAttrs,se.hostAttrs),ZE(i,o,s,V,se),xI(V,se,f),null!==se.contentQueries&&(o.flags|=4),(null!==se.hostBindings||null!==se.hostAttrs||0!==se.hostVars)&&(o.flags|=64);const ve=se.type.prototype;!I&&(ve.ngOnChanges||ve.ngOnInit||ve.ngDoCheck)&&((i.preOrderHooks??(i.preOrderHooks=[])).push(o.index),I=!0),!R&&(ve.ngOnChanges||ve.ngDoCheck)&&((i.preOrderCheckHooks??(i.preOrderCheckHooks=[])).push(o.index),R=!0),V++}!function tm(i,s,o){const f=s.directiveEnd,y=i.data,I=s.attrs,R=[];let V=null,K=null;for(let se=s.directiveStart;se<f;se++){const ve=y[se],je=o?o.get(ve):null,Mt=je?je.outputs:null;V=rh(ve.inputs,se,V,je?je.inputs:null),K=rh(ve.outputs,se,K,Mt);const Jt=null===V||null===I||zg(s)?null:JE(V,se,I);R.push(Jt)}null!==V&&(V.hasOwnProperty("class")&&(s.flags|=8),V.hasOwnProperty("style")&&(s.flags|=16)),s.initialInputs=R,s.inputs=V,s.outputs=K}(i,o,y)}function y_(i,s,o){const l=o.directiveStart,f=o.directiveEnd,y=o.index,I=function ml(){return Yn.lFrame.currentDirectiveIndex}();try{Ai(y);for(let R=l;R<f;R++){const V=i.data[R],K=s[R];ji(R),(null!==V.hostBindings||0!==V.hostVars||null!==V.hostAttrs)&&__(V,K)}}finally{Ai(-1),ji(I)}}function __(i,s){null!==i.hostBindings&&i.hostBindings(1,s)}function Td(i,s,o){s.componentOffset=o,(i.components??(i.components=[])).push(s.index)}function xI(i,s,o){if(o){if(s.exportAs)for(let l=0;l<s.exportAs.length;l++)o[s.exportAs[l]]=i;$n(s)&&(o[""]=i)}}function ZE(i,s,o,l,f){i.data[l]=f;const y=f.factory||(f.factory=We(f.type)),I=new Ie(y,$n(f),Cd);i.blueprint[l]=I,o[l]=I,function NI(i,s,o,l,f){const y=f.hostBindings;if(y){let I=i.hostBindingOpCodes;null===I&&(I=i.hostBindingOpCodes=[]);const R=~s.index;(function qE(i){let s=i.length;for(;s>0;){const o=i[--s];if("number"==typeof o&&o<0)return o}return 0})(I)!=R&&I.push(R),I.push(o,l,y)}}(i,s,l,Dd(i,o,f.hostVars,Ar),f)}function Zu(i,s,o,l,f,y){const I=Ui(i,s);!function uf(i,s,o,l,f,y,I){if(null==y)i.removeAttribute(s,f,o);else{const R=null==I?Tt(y):I(y,l||"",f);i.setAttribute(s,f,R,o)}}(s[Pe],I,y,i.value,o,l,f)}function XE(i,s,o,l,f,y){const I=y[s];if(null!==I){const R=l.setInput;for(let V=0;V<I.length;){const K=I[V++],se=I[V++],ve=I[V++];null!==R?l.setInput(o,ve,K,se):o[se]=ve}}}function JE(i,s,o){let l=null,f=0;for(;f<o.length;){const y=o[f];if(0!==y)if(5!==y){if("number"==typeof y)break;if(i.hasOwnProperty(y)){null===l&&(l=[]);const I=i[y];for(let R=0;R<I.length;R+=2)if(I[R]===s){l.push(y,I[R+1],o[f+1]);break}}f+=2}else f+=2;else f+=4}return l}function sh(i,s,o,l){return[i,!0,!1,s,null,0,l,o,null,null]}function om(i,s){const o=Yi(s,i);if(xs(o)){const l=o[Qt];48&o[Qn]?rf(l,o,l.template,o[Qr]):o[Fi]>0&&ah(o)}}function ah(i){for(let l=Tl(i);null!==l;l=$u(l))for(let f=ii;f<l.length;f++){const y=l[f];if(xs(y))if(512&y[Qn]){const I=y[Qt];rf(I,y,I.template,y[Qr])}else y[Fi]>0&&ah(y)}const o=i[Qt].components;if(null!==o)for(let l=0;l<o.length;l++){const f=Yi(o[l],i);xs(f)&&f[Fi]>0&&ah(f)}}function cf(i,s){const o=Yi(s,i),l=o[Qt];(function am(i,s){for(let o=s.length;o<i.blueprint.length;o++)s.push(i.blueprint[o])})(l,o),nh(l,o,o[Qr])}function df(i,s){return i[Nt]?i[An][Dr]=s:i[Nt]=s,i[An]=s,s}function lh(i){for(;i;){i[Qn]|=32;const s=Bu(i);if(Si(i)&&!s)return i;i=s}return null}function uh(i,s,o,l=!0){const f=s[xe];f.begin&&f.begin();try{rf(i,s,i.template,o)}catch(I){throw l&&E_(s,I),I}finally{f.end&&f.end()}}function Ap(i,s,o){tl(0),s(i,o)}function Rp(i){return i[to]||(i[to]=[])}function v_(i){return i.cleanup||(i.cleanup=[])}function E_(i,s){const o=i[$e],l=o?o.get(Yh,null):null;l&&l.handleError(s)}function hf(i,s,o,l,f){for(let y=0;y<o.length;){const I=o[y++],R=o[y++],V=s[I],K=i.data[I];null!==K.setInput?K.setInput(V,f,l,R):V[R]=f}}function ch(i,s,o){let l=o?i.styles:null,f=o?i.classes:null,y=0;if(null!==s)for(let I=0;I<s.length;I++){const R=s[I];"number"==typeof R?y=R:1==y?f=Qe(f,R):2==y&&(l=Qe(l,R+": "+s[++I]+";"))}o?i.styles=l:i.stylesWithoutHost=l,o?i.classes=f:i.classesWithoutHost=f}function ff(i,s,o,l,f=!1){for(;null!==o;){const y=s[o.index];if(null!==y&&l.push(Wr(y)),_s(y))for(let R=ii;R<y.length;R++){const V=y[R],K=V[Qt].firstChild;null!==K&&ff(V[Qt],V,K,l)}const I=o.type;if(8&I)ff(i,s,o.child,l);else if(32&I){const R=Hr(o,s);let V;for(;V=R();)l.push(V)}else if(16&I){const R=Tc(s,o);if(Array.isArray(R))l.push(...R);else{const V=Bu(s[wn]);ff(V[Qt],V,R,l,!0)}}o=f?o.projectionNext:o.next}return l}class Qu{get rootNodes(){const s=this._lView,o=s[Qt];return ff(o,s,o.firstChild,[])}constructor(s,o){this._lView=s,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Qr]}set context(s){this._lView[Qr]=s}get destroyed(){return 128==(128&this._lView[Qn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[mr];if(_s(s)){const o=s[ur],l=o?o.indexOf(this):-1;l>-1&&(Y(s,l),Oo(o,l))}this._attachedToViewContainer=!1}le(this._lView[Qt],this._lView)}onDestroy(s){Tp(this._lView[Qt],this._lView,null,s)}markForCheck(){lh(this._cdRefInjectingView||this._lView)}detach(){this._lView[Qn]&=-65}reattach(){this._lView[Qn]|=64}detectChanges(){uh(this._lView[Qt],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new at(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Oh(i,s){Jo(i,s,s[Pe],2,null,null)}(this._lView[Qt],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new at(902,!1);this._appRef=s}}class lm extends Qu{constructor(s){super(s),this._view=s}detectChanges(){const s=this._view;uh(s[Qt],s,s[Qr],!1)}checkNoChanges(){}get context(){return null}}class w_ extends yt{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const o=dn(s);return new pf(o,this.ngModule)}}function I_(i){const s=[];for(let o in i)i.hasOwnProperty(o)&&s.push({propName:i[o],templateName:o});return s}class D_{constructor(s,o){this.injector=s,this.parentInjector=o}get(s,o,l){l=Fr(l);const f=this.injector.get(s,jg,l);return f!==jg||o===jg?f:this.parentInjector.get(s,o,l)}}class pf extends O{get inputs(){return I_(this.componentDef.inputs)}get outputs(){return I_(this.componentDef.outputs)}constructor(s,o){super(),this.componentDef=s,this.ngModule=o,this.componentType=s.type,this.selector=function eh(i){return i.map(kc).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!o}create(s,o,l,f){let y=(f=f||this.ngModule)instanceof fc?f:f?.injector;y&&null!==this.componentDef.getStandaloneInjector&&(y=this.componentDef.getStandaloneInjector(y)||y);const I=y?new D_(s,y):s,R=I.get(Bi,null);if(null===R)throw new at(407,!1);const V=I.get(Rl,null),K=R.createRenderer(null,this.componentDef),se=this.componentDef.selectors[0][0]||"div",ve=l?function g_(i,s,o){return i.selectRootElement(s,o===ue.ShadowDom)}(K,l,this.componentDef.encapsulation):Iu(K,se,function C_(i){const s=i.toLowerCase();return"svg"===s?wi:"math"===s?"math":null}(se)),je=this.componentDef.onPush?288:272,st=af(0,null,null,1,0,null,null,null,null,null),Mt=Cp(null,st,null,je,null,null,R,K,V,I,null);let Jt,bn;ba(Mt);try{const Wn=this.componentDef;let n,e=null;Wn.findHostDirectiveDefs?(n=[],e=new Map,Wn.findHostDirectiveDefs(Wn,n,e),n.push(Wn)):n=[Wn];const t=function cm(i,s){const o=i[Qt],l=ti;return i[l]=s,bu(o,l,2,"#host",null)}(Mt,ve),r=function e0(i,s,o,l,f,y,I,R){const V=f[Qt];!function dm(i,s,o,l){for(const f of i)s.mergedAttrs=mo(s.mergedAttrs,f.hostAttrs);null!==s.mergedAttrs&&(ch(s,s.mergedAttrs,!0),null!==o&&Vd(l,o,s))}(l,i,s,I);const K=y.createRenderer(s,o),se=Cp(f,f_(o),null,o.onPush?32:16,f[i.index],i,y,K,R||null,null,null);return V.firstCreatePass&&Td(V,i,l.length-1),df(f,se),f[i.index]=se}(t,ve,Wn,n,Mt,R,K);bn=Vr(st,ti),ve&&function hm(i,s,o,l){if(l)mi(i,o,["ng-version",Yu.full]);else{const{attrs:f,classes:y}=function Jy(i){const s=[],o=[];let l=1,f=2;for(;l<i.length;){let y=i[l];if("string"==typeof y)2===f?""!==y&&s.push(y,i[++l]):8===f&&o.push(y);else{if(!hl(f))break;f=y}l++}return{attrs:s,classes:o}}(s.selectors[0]);f&&mi(i,o,f),y&&y.length>0&&tu(i,o,y.join(" "))}}(K,Wn,ve,l),void 0!==o&&function T_(i,s,o){const l=i.projection=[];for(let f=0;f<s.length;f++){const y=o[f];l.push(null!=y?Array.from(y):null)}}(bn,this.ngContentSelectors,o),Jt=function t0(i,s,o,l,f,y){const I=Ye(),R=f[Qt],V=Ui(I,f);rm(R,f,I,o,null,l);for(let se=0;se<o.length;se++)ze(qr(f,R,I.directiveStart+se,I),f);y_(R,f,I),V&&ze(V,f);const K=qr(f,R,I.directiveStart+I.componentOffset,I);if(i[Qr]=f[Qr]=K,null!==y)for(const se of y)se(K,s);return Dp(R,I,i),K}(r,Wn,n,e,Mt,[fm]),nh(st,Mt,null)}finally{Aa()}return new um(this.componentType,Jt,Rt(bn,Mt),Mt,bn)}}class um extends D{constructor(s,o,l,f,y){super(),this.location=l,this._rootLView=f,this._tNode=y,this.instance=o,this.hostView=this.changeDetectorRef=new lm(f),this.componentType=s}setInput(s,o){const l=this._tNode.inputs;let f;if(null!==l&&(f=l[s])){const y=this._rootLView;hf(y[Qt],y,f,s,o),lh(Yi(this._tNode.index,y))}}get injector(){return new nl(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}function fm(){const i=Ye();Po(x()[Qt],i)}function gf(i){let s=function Pp(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),o=!0;const l=[i];for(;s;){let f;if($n(i))f=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new at(903,!1);f=s.\u0275dir}if(f){if(o){l.push(f);const I=i;I.inputs=Xu(i.inputs),I.declaredInputs=Xu(i.declaredInputs),I.outputs=Xu(i.outputs);const R=f.hostBindings;R&&fh(i,R);const V=f.viewQuery,K=f.contentQueries;if(V&&pm(i,V),K&&hh(i,K),qe(i.inputs,f.inputs),qe(i.declaredInputs,f.declaredInputs),qe(i.outputs,f.outputs),$n(f)&&f.data.animation){const se=i.data;se.animation=(se.animation||[]).concat(f.data.animation)}}const y=f.features;if(y)for(let I=0;I<y.length;I++){const R=y[I];R&&R.ngInherit&&R(i),R===gf&&(o=!1)}}s=Object.getPrototypeOf(s)}!function dh(i){let s=0,o=null;for(let l=i.length-1;l>=0;l--){const f=i[l];f.hostVars=s+=f.hostVars,f.hostAttrs=mo(f.hostAttrs,o=mo(o,f.hostAttrs))}}(l)}function Xu(i){return i===te?{}:i===De?[]:i}function pm(i,s){const o=i.viewQuery;i.viewQuery=o?(l,f)=>{s(l,f),o(l,f)}:s}function hh(i,s){const o=i.contentQueries;i.contentQueries=o?(l,f,y)=>{s(l,f,y),o(l,f,y)}:s}function fh(i,s){const o=i.hostBindings;i.hostBindings=o?(l,f)=>{s(l,f),o(l,f)}:s}function gh(i){return!!Op(i)&&(Array.isArray(i)||!(i instanceof Map)&&Symbol.iterator in i)}function Op(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function Au(i,s,o){return i[s]=o}function ka(i,s,o){return!Object.is(i[s],o)&&(i[s]=o,!0)}function ym(i,s,o,l){const f=x();return ka(f,Ro(),s)&&(U(),Zu(gi(),f,i,s,o,l)),ym}function Bp(i,s,o,l,f,y,I,R){const V=x(),K=U(),se=i+ti,ve=K.firstCreatePass?function Em(i,s,o,l,f,y,I,R,V){const K=s.consts,se=bu(s,i,4,I||null,ts(K,R));ih(s,o,se,ts(K,V)),Po(s,se);const ve=se.tView=af(2,se,l,f,y,s.directiveRegistry,s.pipeRegistry,null,s.schemas,K);return null!==s.queries&&(s.queries.template(s,se),ve.queries=s.queries.embeddedTView(se)),se}(se,K,V,s,o,l,f,y,I):K.data[se];xi(ve,!1);const je=V[Pe].createComment("");Al(K,V,je,ve),ze(je,V),df(V,V[se]=sh(je,V,je,ve)),Lr(ve)&&em(K,V,ve),null!=I&&sf(V,ve,R)}function mf(i,s,o){const l=x();return ka(l,Ro(),s)&&function fl(i,s,o,l,f,y,I,R){const V=Ui(s,o);let se,K=s.inputs;!R&&null!=K&&(se=K[l])?(hf(i,o,se,l,f),Do(s)&&function m_(i,s){const o=Yi(s,i);16&o[Qn]||(o[Qn]|=32)}(o,s.index)):3&s.type&&(l=function nm(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(l),f=null!=I?I(f,s.value||"",l):f,y.setProperty(V,l,f))}(U(),gi(),l,i,s,l[Pe],o,!1),mf}function wm(i,s,o,l,f){const I=f?"class":"style";hf(i,o,s.inputs[I],I,l)}function lu(i,s,o,l){const f=x(),y=U(),I=ti+i,R=f[Pe],V=y.firstCreatePass?function Im(i,s,o,l,f,y){const I=s.consts,V=bu(s,i,2,l,ts(I,f));return ih(s,o,V,ts(I,y)),null!==V.attrs&&ch(V,V.attrs,!1),null!==V.mergedAttrs&&ch(V,V.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,V),V}(I,y,f,s,o,l):y.data[I],K=f[I]=Iu(R,s,function Ua(){return Yn.lFrame.currentNamespace}()),se=Lr(V);return xi(V,!0),Vd(R,K,V),32!=(32&V.flags)&&Al(y,f,K,V),0===function tr(){return Yn.lFrame.elementDepthCount}()&&ze(K,f),function Ta(){Yn.lFrame.elementDepthCount++}(),se&&(em(y,f,V),Dp(y,V,f)),null!==l&&sf(f,V),lu}function wh(){let i=Ye();io()?function so(){Yn.lFrame.isParent=!1}():(i=i.parent,xi(i,!1));const s=i;!function na(){Yn.lFrame.elementDepthCount--}();const o=U();return o.firstCreatePass&&(Po(o,i),Ts(i)&&o.queries.elementEnd(i)),null!=s.classesWithoutHost&&function Jr(i){return 0!=(8&i.flags)}(s)&&wm(o,s,x(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function Nr(i){return 0!=(16&i.flags)}(s)&&wm(o,s,x(),s.stylesWithoutHost,!1),wh}function Cm(i,s,o,l){return lu(i,s,o,l),wh(),Cm}function O_(){return x()}function yf(i){return!!i&&"function"==typeof i.then}function k_(i){return!!i&&"function"==typeof i.subscribe}const jp=k_;function bm(i,s,o,l){const f=x(),y=U(),I=Ye();return function Gp(i,s,o,l,f,y,I){const R=Lr(l),K=i.firstCreatePass&&v_(i),se=s[Qr],ve=Rp(s);let je=!0;if(3&l.type||I){const Jt=Ui(l,s),bn=I?I(Jt):Jt,Wn=ve.length,n=I?t=>I(Wr(t[l.index])):l.index;let e=null;if(!I&&R&&(e=function F_(i,s,o,l){const f=i.cleanup;if(null!=f)for(let y=0;y<f.length-1;y+=2){const I=f[y];if(I===o&&f[y+1]===l){const R=s[to],V=f[y+2];return R.length>V?R[V]:null}"string"==typeof I&&(y+=2)}return null}(i,s,f,l.index)),null!==e)(e.__ngLastListenerFn__||e).__ngNextListenerFn__=y,e.__ngLastListenerFn__=y,je=!1;else{y=L_(l,s,se,y,!1);const t=o.listen(bn,f,y);ve.push(y,t),K&&K.push(f,n,Wn,Wn+1)}}else y=L_(l,s,se,y,!1);const st=l.outputs;let Mt;if(je&&null!==st&&(Mt=st[f])){const Jt=Mt.length;if(Jt)for(let bn=0;bn<Jt;bn+=2){const r=s[Mt[bn]][Mt[bn+1]].subscribe(y),a=ve.length;ve.push(y,r),K&&K.push(f,l.index,a,-(a+1))}}}(y,f,f[Pe],I,i,s,l),bm}function Am(i,s,o,l){try{return Sr(6,s,o),!1!==o(l)}catch(f){return E_(i,f),!1}finally{Sr(7,s,o)}}function L_(i,s,o,l,f){return function y(I){if(I===Function)return l;lh(i.componentOffset>-1?Yi(i.index,s):s);let V=Am(s,o,l,I),K=y.__ngNextListenerFn__;for(;K;)V=Am(s,o,K,I)&&V,K=K.__ngNextListenerFn__;return f&&!1===V&&(I.preventDefault(),I.returnValue=!1),V}}function V_(i=1){return function oa(i){return(Yn.lFrame.contextLView=function Os(i,s){for(;i>0;)s=s[Kn],i--;return s}(i,Yn.lFrame.contextLView))[Qr]}(i)}function Wp(i,s){return i<<17|s<<2}function zc(i){return i>>17&32767}function Ih(i){return 2|i}function gc(i){return(131068&i)>>2}function wf(i,s){return-131069&i|s<<2}function Kp(i){return 1|i}function Fm(i,s,o,l,f){const y=i[o+1],I=null===s;let R=l?zc(y):gc(y),V=!1;for(;0!==R&&(!1===V||I);){const se=i[R+1];Yp(i[R],s)&&(V=!0,i[R+1]=l?Kp(se):Ih(se)),R=l?zc(se):gc(se)}V&&(i[o+1]=l?Ih(y):Kp(y))}function Yp(i,s){return null===i||null==s||(Array.isArray(i)?i[1]:i)===s||!(!Array.isArray(i)||"string"!=typeof s)&&Ma(i,s)>=0}const ea={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Zp(i){return i.substring(ea.key,ea.keyEnd)}function H_(i){return i.substring(ea.value,ea.valueEnd)}function G_(i,s){const o=ea.textEnd;let l=ea.key=Rd(i,s,o);return o===l?-1:(l=ea.keyEnd=function W_(i,s,o){let l;for(;s<o&&(45===(l=i.charCodeAt(s))||95===l||(-33&l)>=65&&(-33&l)<=90||l>=48&&l<=57);)s++;return s}(i,l,o),l=K_(i,l,o),l=ea.value=Rd(i,l,o),l=ea.valueEnd=function h0(i,s,o){let l=-1,f=-1,y=-1,I=s,R=I;for(;I<o;){const V=i.charCodeAt(I++);if(59===V)return R;34===V||39===V?R=I=q_(i,V,I,o):s===I-4&&85===y&&82===f&&76===l&&40===V?R=I=q_(i,41,I,o):V>32&&(R=I),y=f,f=l,l=-33&V}return R}(i,l,o),K_(i,l,o))}function Rd(i,s,o){for(;s<o&&i.charCodeAt(s)<=32;)s++;return s}function K_(i,s,o,l){return(s=Rd(i,s,o))<o&&s++,s}function q_(i,s,o,l){let f=-1,y=o;for(;y<l;){const I=i.charCodeAt(y++);if(I==s&&92!==f)return y;f=92==I&&92===f?0:I}throw new Error}function Xp(i,s){return function Ml(i,s,o,l){const f=x(),y=U(),I=As(2);y.firstUpdatePass&&Um(y,i,I,l),s!==Ar&&ka(f,I,s)&&X_(y,y.data[Zi()],f,f[Pe],i,f[I+1]=function BI(i,s){return null==i||""===i||("string"==typeof s?i+=s:"object"==typeof i&&(i=Le(zu(i)))),i}(s,o),l,I)}(i,s,null,!0),Xp}function zl(i){!function Yr(i,s,o,l){const f=U(),y=As(2);f.firstUpdatePass&&Um(f,null,y,l);const I=x();if(o!==Ar&&ka(I,y,o)){const R=f.data[Zi()];if(Fs(R,l)&&!Vm(f,y)){let V=l?R.classesWithoutHost:R.stylesWithoutHost;null!==V&&(o=Qe(V,o||"")),wm(f,R,I,o,l)}else!function Q_(i,s,o,l,f,y,I,R){f===Ar&&(f=De);let V=0,K=0,se=0<f.length?f[0]:null,ve=0<y.length?y[0]:null;for(;null!==se||null!==ve;){const je=V<f.length?f[V+1]:void 0,st=K<y.length?y[K+1]:void 0;let Jt,Mt=null;se===ve?(V+=2,K+=2,je!==st&&(Mt=ve,Jt=st)):null===ve||null!==se&&se<ve?(V+=2,Mt=se):(K+=2,Mt=ve,Jt=st),null!==Mt&&X_(i,s,o,l,Mt,Jt,I,R),se=V<f.length?f[V]:null,ve=K<y.length?y[K]:null}}(f,R,I,I[Pe],I[y+1],I[y+1]=function VI(i,s,o){if(null==o||""===o)return De;const l=[],f=zu(o);if(Array.isArray(f))for(let y=0;y<f.length;y++)i(l,f[y],!0);else if("object"==typeof f)for(const y in f)f.hasOwnProperty(y)&&i(l,y,f[y]);else"string"==typeof f&&s(l,f);return l}(i,s,o),l,y)}}(Z_,f0,i,!1)}function f0(i,s){for(let o=function c0(i){return function z_(i){ea.key=0,ea.keyEnd=0,ea.value=0,ea.valueEnd=0,ea.textEnd=i.length}(i),G_(i,Rd(i,0,ea.textEnd))}(s);o>=0;o=G_(s,o))Z_(i,Zp(s),H_(s))}function Vm(i,s){return s>=i.expandoStartIndex}function Um(i,s,o,l){const f=i.data;if(null===f[o+1]){const y=f[Zi()],I=Vm(i,o);Fs(y,l)&&null===s&&!I&&(s=!1),s=function If(i,s,o,l){const f=function Sa(i){const s=Yn.lFrame.currentDirectiveIndex;return-1===s?null:i[s]}(i);let y=l?s.residualClasses:s.residualStyles;if(null===f)0===(l?s.classBindings:s.styleBindings)&&(o=Jp(o=uu(null,i,s,o,l),s.attrs,l),y=null);else{const I=s.directiveStylingLast;if(-1===I||i[I]!==f)if(o=uu(f,i,s,o,l),null===y){let V=function p0(i,s,o){const l=o?s.classBindings:s.styleBindings;if(0!==gc(l))return i[zc(l)]}(i,s,l);void 0!==V&&Array.isArray(V)&&(V=uu(null,i,s,V[1],l),V=Jp(V,s.attrs,l),function Uo(i,s,o,l){i[zc(o?s.classBindings:s.styleBindings)]=l}(i,s,l,V))}else y=function Xa(i,s,o){let l;const f=s.directiveEnd;for(let y=1+s.directiveStylingLast;y<f;y++)l=Jp(l,i[y].hostAttrs,o);return Jp(l,s.attrs,o)}(i,s,l)}return void 0!==y&&(l?s.residualClasses=y:s.residualStyles=y),o}(f,y,s,l),function qp(i,s,o,l,f,y){let I=y?s.classBindings:s.styleBindings,R=zc(I),V=gc(I);i[l]=o;let se,K=!1;if(Array.isArray(o)?(se=o[1],(null===se||Ma(o,se)>0)&&(K=!0)):se=o,f)if(0!==V){const je=zc(i[R+1]);i[l+1]=Wp(je,R),0!==je&&(i[je+1]=wf(i[je+1],l)),i[R+1]=function u0(i,s){return 131071&i|s<<17}(i[R+1],l)}else i[l+1]=Wp(R,0),0!==R&&(i[R+1]=wf(i[R+1],l)),R=l;else i[l+1]=Wp(V,0),0===R?R=l:i[V+1]=wf(i[V+1],l),V=l;K&&(i[l+1]=Ih(i[l+1])),Fm(i,se,l,!0),Fm(i,se,l,!1),function km(i,s,o,l,f){const y=f?i.residualClasses:i.residualStyles;null!=y&&"string"==typeof s&&Ma(y,s)>=0&&(o[l+1]=Kp(o[l+1]))}(s,se,i,l,y),I=Wp(R,V),y?s.classBindings=I:s.styleBindings=I}(f,y,s,o,I,l)}}function uu(i,s,o,l,f){let y=null;const I=o.directiveEnd;let R=o.directiveStylingLast;for(-1===R?R=o.directiveStart:R++;R<I&&(y=s[R],l=Jp(l,y.hostAttrs,f),y!==i);)R++;return null!==i&&(o.directiveStylingLast=R),l}function Jp(i,s,o){const l=o?1:2;let f=-1;if(null!==s)for(let y=0;y<s.length;y++){const I=s[y];"number"==typeof I?f=I:f===l&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),zi(i,I,!!o||s[++y]))}return void 0===i?null:i}function Z_(i,s,o){zi(i,s,zu(o))}function X_(i,s,o,l,f,y,I,R){if(!(3&s.type))return;const V=i.data,K=V[R+1],se=function Om(i){return 1==(1&i)}(K)?eg(V,s,o,f,gc(K),I):void 0;tg(se)||(tg(y)||function l0(i){return 2==(2&i)}(K)&&(y=eg(V,null,o,f,R,I)),function qa(i,s,o,l,f){if(s)f?i.addClass(o,l):i.removeClass(o,l);else{let y=-1===l.indexOf("-")?void 0:Gs.DashCase;null==f?i.removeStyle(o,l,y):("string"==typeof f&&f.endsWith("!important")&&(f=f.slice(0,-10),y|=Gs.Important),i.setStyle(o,l,f,y))}}(l,I,Ii(Zi(),o),f,y))}function eg(i,s,o,l,f,y){const I=null===s;let R;for(;f>0;){const V=i[f],K=Array.isArray(V),se=K?V[1]:V,ve=null===se;let je=o[f+1];je===Ar&&(je=ve?De:void 0);let st=ve?ko(je,l):se===l?je:void 0;if(K&&!tg(st)&&(st=ko(V,l)),tg(st)&&(R=st,I))return R;const Mt=i[f+1];f=I?zc(Mt):gc(Mt)}if(null!==s){let V=y?s.residualClasses:s.residualStyles;null!=V&&(R=ko(V,l))}return R}function tg(i){return void 0!==i}function Fs(i,s){return 0!=(i.flags&(s?8:16))}function g0(i,s=""){const o=x(),l=U(),f=i+ti,y=l.firstCreatePass?bu(l,f,1,s,null):l.data[f],I=o[f]=function Sl(i,s){return i.createText(s)}(o[Pe],s);Al(l,o,I,y),xi(y,!1)}function Bm(i){return ho("",i,""),Bm}function ho(i,s,o){const l=x(),f=function Bc(i,s,o,l){return ka(i,Ro(),o)?s+Tt(o)+l:Ar}(l,i,s,o);return f!==Ar&&function ou(i,s,o){const l=Ii(s,i);!function Fd(i,s,o){i.setValue(s,o)}(i[Pe],l,o)}(l,Zi(),f),ho}const Kc=void 0;var qm=["en",[["a","p"],["AM","PM"],Kc],[["AM","PM"],Kc,Kc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Kc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Kc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Kc,"{1} 'at' {0}",Kc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function ov(i){const o=Math.floor(Math.abs(i)),l=i.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===l?1:5}];let Ju={};function bh(i){const s=function lv(i){return i.toLowerCase().replace(/_/g,"-")}(i);let o=av(s);if(o)return o;const l=s.split("-")[0];if(o=av(l),o)return o;if("en"===l)return qm;throw new at(701,!1)}function Zm(i){return bh(i)[or.PluralCase]}function av(i){return i in Ju||(Ju[i]=Zn.ng&&Zn.ng.common&&Zn.ng.common.locales&&Zn.ng.common.locales[i]),Ju[i]}var or=(()=>((or=or||{})[or.LocaleId=0]="LocaleId",or[or.DayPeriodsFormat=1]="DayPeriodsFormat",or[or.DayPeriodsStandalone=2]="DayPeriodsStandalone",or[or.DaysFormat=3]="DaysFormat",or[or.DaysStandalone=4]="DaysStandalone",or[or.MonthsFormat=5]="MonthsFormat",or[or.MonthsStandalone=6]="MonthsStandalone",or[or.Eras=7]="Eras",or[or.FirstDayOfWeek=8]="FirstDayOfWeek",or[or.WeekendRange=9]="WeekendRange",or[or.DateFormat=10]="DateFormat",or[or.TimeFormat=11]="TimeFormat",or[or.DateTimeFormat=12]="DateTimeFormat",or[or.NumberSymbols=13]="NumberSymbols",or[or.NumberFormats=14]="NumberFormats",or[or.CurrencyCode=15]="CurrencyCode",or[or.CurrencySymbol=16]="CurrencySymbol",or[or.CurrencyName=17]="CurrencyName",or[or.Currencies=18]="Currencies",or[or.Directionality=19]="Directionality",or[or.PluralCase=20]="PluralCase",or[or.ExtraData=21]="ExtraData",or))();const Df="en-US";let sg=Df;function wv(i,s,o,l,f){if(i=Ae(i),Array.isArray(i))for(let y=0;y<i.length;y++)wv(i[y],s,o,l,f);else{const y=U(),I=x();let R=su(i)?i:Ae(i.provide),V=Jd(i);const K=Ye(),se=1048575&K.providerIndexes,ve=K.directiveStart,je=K.providerIndexes>>20;if(su(i)||!i.multi){const st=new Ie(V,f,Cd),Mt=Cv(R,s,f?se:se+je,ve);-1===Mt?(ut(yn(K,I),y,R),Iv(y,i,s.length),s.push(R),K.directiveStart++,K.directiveEnd++,f&&(K.providerIndexes+=1048576),o.push(st),I.push(st)):(o[Mt]=st,I[Mt]=st)}else{const st=Cv(R,s,se+je,ve),Mt=Cv(R,s,se,se+je),bn=Mt>=0&&o[Mt];if(f&&!bn||!f&&!(st>=0&&o[st])){ut(yn(K,I),y,R);const Wn=function mC(i,s,o,l,f){const y=new Ie(i,o,Cd);return y.multi=[],y.index=s,y.componentProviders=0,X0(y,f,l&&!o),y}(f?gC:pC,o.length,f,l,V);!f&&bn&&(o[Mt].providerFactory=Wn),Iv(y,i,s.length,0),s.push(R),K.directiveStart++,K.directiveEnd++,f&&(K.providerIndexes+=1048576),o.push(Wn),I.push(Wn)}else Iv(y,i,st>-1?st:Mt,X0(o[f?Mt:st],V,!f&&l));!f&&l&&bn&&o[Mt].componentProviders++}}}function Iv(i,s,o,l){const f=su(s),y=function lp(i){return!!i.useClass}(s);if(f||y){const V=(y?Ae(s.useClass):s).prototype.ngOnDestroy;if(V){const K=i.destroyHooks||(i.destroyHooks=[]);if(!f&&s.multi){const se=K.indexOf(o);-1===se?K.push(o,[l,V]):K[se+1].push(l,V)}else K.push(o,V)}}}function X0(i,s,o){return o&&i.componentProviders++,i.multi.push(s)-1}function Cv(i,s,o,l){for(let f=o;f<l;f++)if(s[f]===i)return f;return-1}function pC(i,s,o,l){return Dv(this.multi,[])}function gC(i,s,o,l){const f=this.multi;let y;if(this.providerFactory){const I=this.providerFactory.componentProviders,R=qr(o,o[Qt],this.providerFactory.index,l);y=R.slice(0,I),Dv(f,y);for(let V=I;V<R.length;V++)y.push(R[V])}else y=[],Dv(f,y);return y}function Dv(i,s){for(let o=0;o<i.length;o++)s.push((0,i[o])());return s}function J0(i,s=[]){return o=>{o.providersResolver=(l,f)=>function Q0(i,s,o){const l=U();if(l.firstCreatePass){const f=$n(i);wv(o,l.data,l.blueprint,f,!0),wv(s,l.data,l.blueprint,f,!1)}}(l,f?f(i):i,s)}}class Mf{}class ew{}function yC(i,s){return new tw(i,s??null)}class tw extends Mf{constructor(s,o){super(),this._parent=o,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new w_(this);const l=Di(s);this._bootstrapComponents=Su(l.bootstrap),this._r3Injector=o_(s,o,[{provide:Mf,useValue:this},{provide:yt,useValue:this.componentFactoryResolver}],Le(s),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(s)}get injector(){return this._r3Injector}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class Tv extends ew{constructor(s){super(),this.moduleType=s}create(s){return new tw(this.moduleType,s)}}class _C extends Mf{constructor(s,o,l){super(),this.componentFactoryResolver=new w_(this),this.instance=null;const f=new Kh([...s,{provide:Mf,useValue:this},{provide:yt,useValue:this.componentFactoryResolver}],o||Ed(),l,new Set(["environment"]));this.injector=f,f.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(s){this.injector.onDestroy(s)}}function Sv(i,s,o=null){return new _C(i,s,o).injector}let vC=(()=>{class i{constructor(o){this._injector=o,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(o){if(!o.standalone)return null;if(!this.cachedInjectors.has(o.id)){const l=_d(0,o.type),f=l.length>0?Sv([l],this._injector,`Standalone[${o.type.name}]`):null;this.cachedInjectors.set(o.id,f)}return this.cachedInjectors.get(o.id)}ngOnDestroy(){try{for(const o of this.cachedInjectors.values())null!==o&&o.destroy()}finally{this.cachedInjectors.clear()}}}return i.\u0275prov=qt({token:i,providedIn:"environment",factory:()=>new i(Ot(fc))}),i})();function nw(i){i.getStandaloneInjector=s=>s.get(vC).getOrCreateStandaloneInjector(i)}function cw(i,s,o){const l=ws()+i,f=x();return f[l]===Ar?Au(f,l,o?s.call(o):s()):function mh(i,s){return i[s]}(f,l)}function dw(i,s,o,l){return hw(x(),ws(),i,s,o,l)}function hw(i,s,o,l,f,y){const I=s+o;return ka(i,I,f)?Au(i,I+1,y?l.call(y,f):l(f)):function gg(i,s){const o=i[s];return o===Ar?void 0:o}(i,I+1)}function yw(i,s){const o=U();let l;const f=i+ti;o.firstCreatePass?(l=function kC(i,s){if(s)for(let o=s.length-1;o>=0;o--){const l=s[o];if(i===l.name)return l}}(s,o.pipeRegistry),o.data[f]=l,l.onDestroy&&(o.destroyHooks??(o.destroyHooks=[])).push(f,l.onDestroy)):l=o.data[f];const y=l.factory||(l.factory=We(l.type)),I=kr(Cd);try{const R=zo(!1),V=y();return zo(R),function Eh(i,s,o,l){o>=i.data.length&&(i.data[o]=null,i.blueprint[o]=null),s[o]=l}(o,x(),f,V),V}finally{kr(I)}}function _w(i,s,o){const l=i+ti,f=x(),y=function qi(i,s){return i[s]}(f,l);return function xd(i,s){return i[Qt].data[s].pure}(f,l)?hw(f,ws(),s,y.transform,o,y):y.transform(o)}function Av(i){return s=>{setTimeout(i,void 0,s)}}const Mu=class Ls extends _.x{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,o,l){let f=s,y=o||(()=>null),I=l;if(s&&"object"==typeof s){const V=s;f=V.next?.bind(V),y=V.error?.bind(V),I=V.complete?.bind(V)}this.__isAsync&&(y=Av(y),f&&(f=Av(f)),I&&(I=Av(I)));const R=super.subscribe({next:f,error:y,complete:I});return s instanceof X.w0&&s.add(R),R}};function ww(){return this._results[Symbol.iterator]()}class iy{get changes(){return this._changes||(this._changes=new Mu)}constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=iy.prototype;o[Symbol.iterator]||(o[Symbol.iterator]=ww)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,o){return this._results.reduce(s,o)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,o){const l=this;l.dirty=!1;const f=function hs(i){return i.flat(Number.POSITIVE_INFINITY)}(s);(this._changesDetected=!function xo(i,s,o){if(i.length!==s.length)return!1;for(let l=0;l<i.length;l++){let f=i[l],y=s[l];if(o&&(f=o(f),y=o(y)),y!==f)return!1}return!0}(l._results,f,o))&&(l._results=f,l.length=f.length,l.last=f[this.length-1],l.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Pf=(()=>{class i{}return i.__NG_ELEMENT_ID__=Dw,i})();const Iw=Pf,Cw=class extends Iw{constructor(s,o,l){super(),this._declarationLView=s,this._declarationTContainer=o,this.elementRef=l}createEmbeddedView(s,o){const l=this._declarationTContainer.tView,f=Cp(this._declarationLView,l,s,16,null,l.declTNode,null,null,null,null,o||null);f[hr]=this._declarationLView[this._declarationTContainer.index];const I=this._declarationLView[Vi];return null!==I&&(f[Vi]=I.createEmbeddedView(l)),nh(l,f,s),new Qu(f)}};function Dw(){return mg(Ye(),x())}function mg(i,s){return 4&i.type?new Cw(s,i,Rt(i,s)):null}let yg=(()=>{class i{}return i.__NG_ELEMENT_ID__=Tw,i})();function Tw(){return Mv(Ye(),x())}const Sw=yg,bw=class extends Sw{constructor(s,o,l){super(),this._lContainer=s,this._hostTNode=o,this._hostLView=l}get element(){return Rt(this._hostTNode,this._hostLView)}get injector(){return new nl(this._hostTNode,this._hostLView)}get parentInjector(){const s=Bt(this._hostTNode,this._hostLView);if(ks(s)){const o=ai(s,this._hostLView),l=oo(s);return new nl(o[Qt].data[l+8],o)}return new nl(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const o=Rv(this._lContainer);return null!==o&&o[s]||null}get length(){return this._lContainer.length-ii}createEmbeddedView(s,o,l){let f,y;"number"==typeof l?f=l:null!=l&&(f=l.index,y=l.injector);const I=s.createEmbeddedView(o||{},y);return this.insert(I,f),I}createComponent(s,o,l,f,y){const I=s&&!function Ko(i){return"function"==typeof i}(s);let R;if(I)R=o;else{const ve=o||{};R=ve.index,l=ve.injector,f=ve.projectableNodes,y=ve.environmentInjector||ve.ngModuleRef}const V=I?s:new pf(dn(s)),K=l||this.parentInjector;if(!y&&null==V.ngModule){const je=(I?K:this.parentInjector).get(fc,null);je&&(y=je)}const se=V.create(K,f,void 0,y);return this.insert(se.hostView,R),se}insert(s,o){const l=s._lView,f=l[Qt];if(function es(i){return _s(i[mr])}(l)){const se=this.indexOf(s);if(-1!==se)this.detach(se);else{const ve=l[mr],je=new bw(ve,ve[hi],ve[mr]);je.detach(je.indexOf(s))}}const y=this._adjustIndex(o),I=this._lContainer;!function g(i,s,o,l){const f=ii+l,y=o.length;l>0&&(o[f-1][Dr]=s),l<y-ii?(s[Dr]=o[f],qo(o,ii+l,s)):(o.push(s),s[Dr]=null),s[mr]=o;const I=s[hr];null!==I&&o!==I&&function v(i,s){const o=i[zn];s[wn]!==s[mr][mr][wn]&&(i[Ps]=!0),null===o?i[zn]=[s]:o.push(s)}(I,s);const R=s[Vi];null!==R&&R.insertView(i),s[Qn]|=64}(f,l,I,y);const R=ld(y,I),V=l[Pe],K=ys(V,I[Tr]);return null!==K&&function Cu(i,s,o,l,f,y){l[_i]=f,l[hi]=s,Jo(i,l,o,1,f,y)}(f,I[hi],V,l,K,R),s.attachToViewContainerRef(),qo(sy(I),y,s),s}move(s,o){return this.insert(s,o)}indexOf(s){const o=Rv(this._lContainer);return null!==o?o.indexOf(s):-1}remove(s){const o=this._adjustIndex(s,-1),l=Y(this._lContainer,o);l&&(Oo(sy(this._lContainer),o),le(l[Qt],l))}detach(s){const o=this._adjustIndex(s,-1),l=Y(this._lContainer,o);return l&&null!=Oo(sy(this._lContainer),o)?new Qu(l):null}_adjustIndex(s,o=0){return s??this.length+o}};function Rv(i){return i[ur]}function sy(i){return i[ur]||(i[ur]=[])}function Mv(i,s){let o;const l=s[i.index];if(_s(l))o=l;else{let f;if(8&i.type)f=Wr(l);else{const y=s[Pe];f=y.createComment("");const I=Ui(i,s);yr(y,ys(y,I),f,function uo(i,s){return i.nextSibling(s)}(y,I),!1)}s[i.index]=o=sh(l,s,f,i),df(s,o)}return new bw(o,i,s)}class oy{constructor(s){this.queryList=s,this.matches=null}clone(){return new oy(this.queryList)}setDirty(){this.queryList.setDirty()}}class ay{constructor(s=[]){this.queries=s}createEmbeddedView(s){const o=s.queries;if(null!==o){const l=null!==s.contentQueries?s.contentQueries[0]:o.length,f=[];for(let y=0;y<l;y++){const I=o.getByIndex(y);f.push(this.queries[I.indexInDeclarationView].clone())}return new ay(f)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let o=0;o<this.queries.length;o++)null!==kw(s,o).matches&&this.queries[o].setDirty()}}class Pv{constructor(s,o,l=null){this.predicate=s,this.flags=o,this.read=l}}class ly{constructor(s=[]){this.queries=s}elementStart(s,o){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(s,o)}elementEnd(s){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(s)}embeddedTView(s){let o=null;for(let l=0;l<this.length;l++){const f=null!==o?o.length:0,y=this.getByIndex(l).embeddedTView(s,f);y&&(y.indexInDeclarationView=l,null!==o?o.push(y):o=[y])}return null!==o?new ly(o):null}template(s,o){for(let l=0;l<this.queries.length;l++)this.queries[l].template(s,o)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class uy{constructor(s,o=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(s,o){this.isApplyingToNode(o)&&this.matchTNode(s,o)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,o){this.elementStart(s,o)}embeddedTView(s,o){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,o),new uy(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let l=s.parent;for(;null!==l&&8&l.type&&l.index!==o;)l=l.parent;return o===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(s,o){const l=this.metadata.predicate;if(Array.isArray(l))for(let f=0;f<l.length;f++){const y=l[f];this.matchTNodeWithReadOption(s,o,Aw(o,y)),this.matchTNodeWithReadOption(s,o,yl(o,s,y,!1,!1))}else l===Pf?4&o.type&&this.matchTNodeWithReadOption(s,o,-1):this.matchTNodeWithReadOption(s,o,yl(o,s,l,!1,!1))}matchTNodeWithReadOption(s,o,l){if(null!==l){const f=this.metadata.read;if(null!==f)if(f===_n||f===yg||f===Pf&&4&o.type)this.addMatch(o.index,-2);else{const y=yl(o,s,f,!1,!1);null!==y&&this.addMatch(o.index,y)}else this.addMatch(o.index,l)}}addMatch(s,o){null===this.matches?this.matches=[s,o]:this.matches.push(s,o)}}function Aw(i,s){const o=i.localNames;if(null!==o)for(let l=0;l<o.length;l+=2)if(o[l]===s)return o[l+1];return null}function Mw(i,s,o,l){return-1===o?function Rw(i,s){return 11&i.type?Rt(i,s):4&i.type?mg(i,s):null}(s,i):-2===o?function Pw(i,s,o){return o===_n?Rt(s,i):o===Pf?mg(s,i):o===yg?Mv(s,i):void 0}(i,s,l):qr(i,i[Qt],o,s)}function Nv(i,s,o,l){const f=s[Vi].queries[l];if(null===f.matches){const y=i.data,I=o.matches,R=[];for(let V=0;V<I.length;V+=2){const K=I[V];R.push(K<0?null:Mw(s,y[K],I[V+1],o.metadata.read))}f.matches=R}return f.matches}function cy(i,s,o,l){const f=i.queries.getByIndex(o),y=f.matches;if(null!==y){const I=Nv(i,s,f,o);for(let R=0;R<y.length;R+=2){const V=y[R];if(V>0)l.push(I[R/2]);else{const K=y[R+1],se=s[-V];for(let ve=ii;ve<se.length;ve++){const je=se[ve];je[hr]===je[mr]&&cy(je[Qt],je,K,l)}if(null!==se[zn]){const ve=se[zn];for(let je=0;je<ve.length;je++){const st=ve[je];cy(st[Qt],st,K,l)}}}}}return l}function xv(i){const s=x(),o=U(),l=ha();tl(l+1);const f=kw(o,l);if(i.dirty&&function Ao(i){return 4==(4&i[Qn])}(s)===(2==(2&f.metadata.flags))){if(null===f.matches)i.reset([]);else{const y=f.crossesNgTemplate?cy(o,s,l,[]):Nv(o,s,f,l);i.reset(y,Jn),i.notifyOnChanges()}return!0}return!1}function Ov(i,s,o,l){const f=U();if(f.firstCreatePass){const y=Ye();(function Lv(i,s,o){null===i.queries&&(i.queries=new ly),i.queries.track(new uy(s,o))})(f,new Pv(s,o,l),y.index),function Ow(i,s){const o=i.contentQueries||(i.contentQueries=[]);s!==(o.length?o[o.length-1]:-1)&&o.push(i.queries.length-1,s)}(f,i),2==(2&o)&&(f.staticContentQueries=!0)}!function Fv(i,s,o){const l=new iy(4==(4&o));Tp(i,s,l,l.destroy),null===s[Vi]&&(s[Vi]=new ay),s[Vi].queries.push(new oy(l))}(f,x(),o)}function kv(){return function xw(i,s){return i[Vi].queries[s].queryList}(x(),ha())}function kw(i,s){return i.queries.getByIndex(s)}function Nf(i){return!!Di(i)}function kf(...i){}const Ff=new Gi("Application Initializer");let Dg=(()=>{class i{constructor(o){this.appInits=o,this.resolve=kf,this.reject=kf,this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,f)=>{this.resolve=l,this.reject=f})}runInitializers(){if(this.initialized)return;const o=[],l=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let f=0;f<this.appInits.length;f++){const y=this.appInits[f]();if(yf(y))o.push(y);else if(jp(y)){const I=new Promise((R,V)=>{y.subscribe({complete:R,error:V})});o.push(I)}}Promise.all(o).then(()=>{l()}).catch(f=>{this.reject(f)}),0===o.length&&l(),this.initialized=!0}}return i.\u0275fac=function(o){return new(o||i)(Ot(Ff,8))},i.\u0275prov=qt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const qv=new Gi("AppId",{providedIn:"root",factory:function Yv(){return`${Zv()}${Zv()}${Zv()}`}});function Zv(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Lf=new Gi("Platform Initializer"),Hw=new Gi("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Gw=new Gi("AnimationModuleType");let Tg=(()=>{class i{log(o){console.log(o)}warn(o){console.warn(o)}}return i.\u0275fac=function(o){return new(o||i)},i.\u0275prov=qt({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();const Vf=new Gi("LocaleId",{providedIn:"root",factory:()=>ni(Vf,Ht.Optional|Ht.SkipSelf)||function Sg(){return typeof $localize<"u"&&$localize.locale||Df}()}),Qv=new Gi("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class Ww{constructor(s,o){this.ngModuleFactory=s,this.componentFactories=o}}let Kw=(()=>{class i{compileModuleSync(o){return new Tv(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const l=this.compileModuleSync(o),y=Su(Di(o).declarations).reduce((I,R)=>{const V=dn(R);return V&&I.push(new pf(V)),I},[]);return new Ww(l,y)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return i.\u0275fac=function(o){return new(o||i)},i.\u0275prov=qt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const bg=(()=>Promise.resolve(0))();function Ry(i){typeof Zone>"u"?bg.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}class du{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Mu(!1),this.onMicrotaskEmpty=new Mu(!1),this.onStable=new Mu(!1),this.onError=new Mu(!1),typeof Zone>"u")throw new at(908,!1);Zone.assertZonePatched();const f=this;f._nesting=0,f._outer=f._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!l&&o,f.shouldCoalesceRunChangeDetection=l,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function Zw(){let i=Zn.requestAnimationFrame,s=Zn.cancelAnimationFrame;if(typeof Zone<"u"&&i&&s){const o=i[Zone.__symbol__("OriginalDelegate")];o&&(i=o);const l=s[Zone.__symbol__("OriginalDelegate")];l&&(s=l)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function Ag(i){const s=()=>{!function Xw(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(Zn,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,Bf(i),i.isCheckStableRunning=!0,Uf(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),Bf(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,l,f,y,I,R)=>{try{return $f(i),o.invokeTask(f,y,I,R)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===y.type||i.shouldCoalesceRunChangeDetection)&&s(),tE(i)}},onInvoke:(o,l,f,y,I,R,V)=>{try{return $f(i),o.invoke(f,y,I,R,V)}finally{i.shouldCoalesceRunChangeDetection&&s(),tE(i)}},onHasTask:(o,l,f,y)=>{o.hasTask(f,y),l===f&&("microTask"==y.change?(i._hasPendingMicrotasks=y.microTask,Bf(i),Uf(i)):"macroTask"==y.change&&(i.hasPendingMacrotasks=y.macroTask))},onHandleError:(o,l,f,y)=>(o.handleError(f,y),i.runOutsideAngular(()=>i.onError.emit(y)),!1)})}(f)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!du.isInAngularZone())throw new at(909,!1)}static assertNotInAngularZone(){if(du.isInAngularZone())throw new at(909,!1)}run(s,o,l){return this._inner.run(s,o,l)}runTask(s,o,l,f){const y=this._inner,I=y.scheduleEventTask("NgZoneEvent: "+f,s,Qw,kf,kf);try{return y.runTask(I,o,l)}finally{y.cancelTask(I)}}runGuarded(s,o,l){return this._inner.runGuarded(s,o,l)}runOutsideAngular(s){return this._outer.run(s)}}const Qw={};function Uf(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function Bf(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function $f(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function tE(i){i._nesting--,Uf(i)}class nE{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Mu,this.onMicrotaskEmpty=new Mu,this.onStable=new Mu,this.onError=new Mu}run(s,o,l){return s.apply(o,l)}runGuarded(s,o,l){return s.apply(o,l)}runOutsideAngular(s){return s()}runTask(s,o,l,f){return s.apply(o,l)}}const rE=new Gi(""),Jw=new Gi("");let Py,My=(()=>{class i{constructor(o,l,f){this._ngZone=o,this.registry=l,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Py||(function tI(i){Py=i}(f),f.addToWindow(l)),this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{du.assertNotInAngularZone(),Ry(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Ry(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(o)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,l,f){let y=-1;l&&l>0&&(y=setTimeout(()=>{this._callbacks=this._callbacks.filter(I=>I.timeoutId!==y),o(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:o,timeoutId:y,updateCb:f})}whenStable(o,l,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,l,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(o){this.registry.registerApplication(o,this)}unregisterApplication(o){this.registry.unregisterApplication(o)}findProviders(o,l,f){return[]}}return i.\u0275fac=function(o){return new(o||i)(Ot(du),Ot(eI),Ot(Jw))},i.\u0275prov=qt({token:i,factory:i.\u0275fac}),i})(),eI=(()=>{class i{constructor(){this._applications=new Map}registerApplication(o,l){this._applications.set(o,l)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,l=!0){return Py?.findTestabilityInTree(this,o,l)??null}}return i.\u0275fac=function(o){return new(o||i)},i.\u0275prov=qt({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();const tc=!1;let nc=null;const Ny=new Gi("AllowMultipleToken"),iE=new Gi("PlatformDestroyListeners"),sE=new Gi("appBootstrapListener");class iI{constructor(s,o){this.name=s,this.token=o}}function xy(i,s,o=[]){const l=`Platform: ${s}`,f=new Gi(l);return(y=[])=>{let I=Oy();if(!I||I.injector.get(Ny,!1)){const R=[...o,...y,{provide:f,useValue:!0}];i?i(R):function sI(i){if(nc&&!nc.get(Ny,!1))throw new at(400,!1);nc=i;const s=i.get(lE);(function aE(i){const s=i.get(Lf,null);s&&s.forEach(o=>o())})(i)}(function Rg(i=[],s){return Lc.create({name:s,providers:[{provide:Qd,useValue:"platform"},{provide:iE,useValue:new Set([()=>nc=null])},...i]})}(R,l))}return function oI(i){const s=Oy();if(!s)throw new at(401,!1);return s}()}}function Oy(){return nc?.get(lE)??null}let lE=(()=>{class i{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,l){const f=function ky(i,s){let o;return o="noop"===i?new nE:("zone.js"===i?void 0:i)||new du(s),o}(l?.ngZone,function uE(i){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!i||!i.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!i||!i.ngZoneRunCoalescing)||!1}}(l)),y=[{provide:du,useValue:f}];return f.run(()=>{const I=Lc.create({providers:y,parent:this.injector,name:o.moduleType.name}),R=o.create(I),V=R.injector.get(Yh,null);if(!V)throw new at(402,!1);return f.runOutsideAngular(()=>{const K=f.onError.subscribe({next:se=>{V.handleError(se)}});R.onDestroy(()=>{ed(this._modules,R),K.unsubscribe()})}),function cE(i,s,o){try{const l=o();return yf(l)?l.catch(f=>{throw s.runOutsideAngular(()=>i.handleError(f)),f}):l}catch(l){throw s.runOutsideAngular(()=>i.handleError(l)),l}}(V,f,()=>{const K=R.injector.get(Dg);return K.runInitializers(),K.donePromise.then(()=>(function b0(i){Ze(i,"Expected localeId to be defined"),"string"==typeof i&&(sg=i.toLowerCase().replace(/_/g,"-"))}(R.injector.get(Vf,Df)||Df),this._moduleDoBootstrap(R),R))})})}bootstrapModule(o,l=[]){const f=Kl({},l);return function nI(i,s,o){const l=new Tv(o);return Promise.resolve(l)}(0,0,o).then(y=>this.bootstrapModuleFactory(y,f))}_moduleDoBootstrap(o){const l=o.injector.get(Nh);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(f=>l.bootstrap(f));else{if(!o.instance.ngDoBootstrap)throw new at(-403,!1);o.instance.ngDoBootstrap(l)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new at(404,!1);this._modules.slice().forEach(l=>l.destroy()),this._destroyListeners.forEach(l=>l());const o=this._injector.get(iE,null);o&&(o.forEach(l=>l()),o.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(o){return new(o||i)(Ot(Lc))},i.\u0275prov=qt({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();function Kl(i,s){return Array.isArray(s)?s.reduce(Kl,i):{...i,...s}}let Nh=(()=>{class i{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(o,l,f){this._zone=o,this._injector=l,this._exceptionHandler=f,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const y=new $.y(R=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{R.next(this._stable),R.complete()})}),I=new $.y(R=>{let V;this._zone.runOutsideAngular(()=>{V=this._zone.onStable.subscribe(()=>{du.assertNotInAngularZone(),Ry(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,R.next(!0))})})});const K=this._zone.onUnstable.subscribe(()=>{du.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{R.next(!1)}))});return()=>{V.unsubscribe(),K.unsubscribe()}});this.isStable=(0,Re.T)(y,I.pipe((0,be.B)()))}bootstrap(o,l){const f=o instanceof O;if(!this._injector.get(Dg).done){!f&&Pi(o);throw new at(405,tc)}let I;I=f?o:this._injector.get(yt).resolveComponentFactory(o),this.componentTypes.push(I.componentType);const R=function rI(i){return i.isBoundToModule}(I)?void 0:this._injector.get(Mf),K=I.create(Lc.NULL,[],l||I.selector,R),se=K.location.nativeElement,ve=K.injector.get(rE,null);return ve?.registerApplication(se),K.onDestroy(()=>{this.detachView(K.hostView),ed(this.components,K),ve?.unregisterApplication(se)}),this._loadComponent(K),K}tick(){if(this._runningTick)throw new at(101,!1);try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(o))}finally{this._runningTick=!1}}attachView(o){const l=o;this._views.push(l),l.attachToAppRef(this)}detachView(o){const l=o;ed(this._views,l),l.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o);const l=this._injector.get(sE,[]);l.push(...this._bootstrapListeners),l.forEach(f=>f(o))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(o=>o()),this._views.slice().forEach(o=>o.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(o){return this._destroyListeners.push(o),()=>ed(this._destroyListeners,o)}destroy(){if(this._destroyed)throw new at(406,!1);const o=this._injector;o.destroy&&!o.destroyed&&o.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return i.\u0275fac=function(o){return new(o||i)(Ot(du),Ot(fc),Ot(Yh))},i.\u0275prov=qt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function ed(i,s){const o=i.indexOf(s);o>-1&&i.splice(o,1)}function lI(){return!1}let uI=(()=>{class i{}return i.__NG_ELEMENT_ID__=hE,i})();function hE(i){return function fE(i,s,o){if(Do(i)&&!o){const l=Yi(i.index,s);return new Qu(l,l)}return 47&i.type?new Qu(s[wn],s):null}(Ye(),x(),16==(16&i))}class yE{constructor(){}supports(s){return gh(s)}create(s){return new pI(s)}}const _E=(i,s)=>s;class pI{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||_E}forEachItem(s){let o;for(o=this._itHead;null!==o;o=o._next)s(o)}forEachOperation(s){let o=this._itHead,l=this._removalsHead,f=0,y=null;for(;o||l;){const I=!l||o&&o.currentIndex<EE(l,f,y)?o:l,R=EE(I,f,y),V=I.currentIndex;if(I===l)f--,l=l._nextRemoved;else if(o=o._next,null==I.previousIndex)f++;else{y||(y=[]);const K=R-f,se=V-f;if(K!=se){for(let je=0;je<K;je++){const st=je<y.length?y[je]:y[je]=0,Mt=st+je;se<=Mt&&Mt<K&&(y[je]=st+1)}y[I.previousIndex]=se-K}}R!==V&&s(I,R,V)}}forEachPreviousItem(s){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)s(o)}forEachAddedItem(s){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)s(o)}forEachMovedItem(s){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)s(o)}forEachRemovedItem(s){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)s(o)}forEachIdentityChange(s){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)s(o)}diff(s){if(null==s&&(s=[]),!gh(s))throw new at(900,!1);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let f,y,I,o=this._itHead,l=!1;if(Array.isArray(s)){this.length=s.length;for(let R=0;R<this.length;R++)y=s[R],I=this._trackByFn(R,y),null!==o&&Object.is(o.trackById,I)?(l&&(o=this._verifyReinsertion(o,y,I,R)),Object.is(o.item,y)||this._addIdentityChange(o,y)):(o=this._mismatch(o,y,I,R),l=!0),o=o._next}else f=0,function s0(i,s){if(Array.isArray(i))for(let o=0;o<i.length;o++)s(i[o]);else{const o=i[Symbol.iterator]();let l;for(;!(l=o.next()).done;)s(l.value)}}(s,R=>{I=this._trackByFn(f,R),null!==o&&Object.is(o.trackById,I)?(l&&(o=this._verifyReinsertion(o,R,I,f)),Object.is(o.item,R)||this._addIdentityChange(o,R)):(o=this._mismatch(o,R,I,f),l=!0),o=o._next,f++}),this.length=f;return this._truncate(o),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,o,l,f){let y;return null===s?y=this._itTail:(y=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(s.item,o)||this._addIdentityChange(s,o),this._reinsertAfter(s,y,f)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(l,f))?(Object.is(s.item,o)||this._addIdentityChange(s,o),this._moveAfter(s,y,f)):s=this._addAfter(new gI(o,l),y,f),s}_verifyReinsertion(s,o,l,f){let y=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==y?s=this._reinsertAfter(y,s._prev,f):s.currentIndex!=f&&(s.currentIndex=f,this._addToMoves(s,f)),s}_truncate(s){for(;null!==s;){const o=s._next;this._addToRemovals(this._unlink(s)),s=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,o,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const f=s._prevRemoved,y=s._nextRemoved;return null===f?this._removalsHead=y:f._nextRemoved=y,null===y?this._removalsTail=f:y._prevRemoved=f,this._insertAfter(s,o,l),this._addToMoves(s,l),s}_moveAfter(s,o,l){return this._unlink(s),this._insertAfter(s,o,l),this._addToMoves(s,l),s}_addAfter(s,o,l){return this._insertAfter(s,o,l),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,o,l){const f=null===o?this._itHead:o._next;return s._next=f,s._prev=o,null===f?this._itTail=s:f._prev=s,null===o?this._itHead=s:o._next=s,null===this._linkedRecords&&(this._linkedRecords=new vE),this._linkedRecords.put(s),s.currentIndex=l,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const o=s._prev,l=s._next;return null===o?this._itHead=l:o._next=l,null===l?this._itTail=o:l._prev=o,s}_addToMoves(s,o){return s.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new vE),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,o){return s.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class gI{constructor(s,o){this.item=s,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class mI{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,o){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===o||o<=l.currentIndex)&&Object.is(l.trackById,s))return l;return null}remove(s){const o=s._prevDup,l=s._nextDup;return null===o?this._head=l:o._nextDup=l,null===l?this._tail=o:l._prevDup=o,null===this._head}}class vE{constructor(){this.map=new Map}put(s){const o=s.trackById;let l=this.map.get(o);l||(l=new mI,this.map.set(o,l)),l.add(s)}get(s,o){const f=this.map.get(s);return f?f.get(s,o):null}remove(s){const o=s.trackById;return this.map.get(o).remove(s)&&this.map.delete(o),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function EE(i,s,o){const l=i.previousIndex;if(null===l)return l;let f=0;return o&&l<o.length&&(f=o[l]),l+s+f}class wE{constructor(){}supports(s){return s instanceof Map||Op(s)}create(){return new IE}}class IE{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let o;for(o=this._mapHead;null!==o;o=o._next)s(o)}forEachPreviousItem(s){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)s(o)}forEachChangedItem(s){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)s(o)}forEachAddedItem(s){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)s(o)}forEachRemovedItem(s){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)s(o)}diff(s){if(s){if(!(s instanceof Map||Op(s)))throw new at(900,!1)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(s,(l,f)=>{if(o&&o.key===f)this._maybeAddToChanges(o,l),this._appendAfter=o,o=o._next;else{const y=this._getOrCreateRecordForKey(f,l);o=this._insertBeforeOrAppend(o,y)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let l=o;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,o){if(s){const l=s._prev;return o._next=s,o._prev=l,s._prev=o,l&&(l._next=o),s===this._mapHead&&(this._mapHead=o),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(s,o){if(this._records.has(s)){const f=this._records.get(s);this._maybeAddToChanges(f,o);const y=f._prev,I=f._next;return y&&(y._next=I),I&&(I._prev=y),f._next=null,f._prev=null,f}const l=new Uy(s);return this._records.set(s,l),l.currentValue=o,this._addToAdditions(l),l}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,o){Object.is(o,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=o,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,o){s instanceof Map?s.forEach(o):Object.keys(s).forEach(l=>o(s[l],l))}}class Uy{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function By(){return new $y([new yE])}let $y=(()=>{class i{constructor(o){this.factories=o}static create(o,l){if(null!=l){const f=l.factories.slice();o=o.concat(f)}return new i(o)}static extend(o){return{provide:i,useFactory:l=>i.create(o,l||By()),deps:[[i,new _o,new fr]]}}find(o){const l=this.factories.find(f=>f.supports(o));if(null!=l)return l;throw new at(901,!1)}}return i.\u0275prov=qt({token:i,providedIn:"root",factory:By}),i})();function yI(){return new CE([new wE])}let CE=(()=>{class i{constructor(o){this.factories=o}static create(o,l){if(l){const f=l.factories.slice();o=o.concat(f)}return new i(o)}static extend(o){return{provide:i,useFactory:l=>i.create(o,l||yI()),deps:[[i,new _o,new fr]]}}find(o){const l=this.factories.find(f=>f.supports(o));if(l)return l;throw new at(901,!1)}}return i.\u0275prov=qt({token:i,providedIn:"root",factory:yI}),i})();const EI=xy(null,"core",[]);let wI=(()=>{class i{constructor(o){}}return i.\u0275fac=function(o){return new(o||i)(Ot(Nh))},i.\u0275mod=Je({type:i}),i.\u0275inj=zt({}),i})();function II(i){return"boolean"==typeof i?i:null!=i&&"false"!==i}},433:(rn,it,G)=>{G.d(it,{Fj:()=>Ge,qu:()=>tr,u:()=>Ss,sg:()=>Ks,u5:()=>el,JJ:()=>Zn,JL:()=>fn,On:()=>zn,YN:()=>z,UX:()=>da,Q7:()=>Ni,EJ:()=>Z,_Y:()=>ii,Kr:()=>tn});var _=G(4650),X=G(6895),$=G(8996),Re=G(9751),be=G(4742),Ve=G(8421),qe=G(7669),Le=G(5403),Qe=G(3268),pe=G(1810),Ae=G(4004);let ht=(()=>{class x{constructor(L,ie){this._renderer=L,this._elementRef=ie,this.onChange=Ye=>{},this.onTouched=()=>{}}setProperty(L,ie){this._renderer.setProperty(this._elementRef.nativeElement,L,ie)}registerOnTouched(L){this.onTouched=L}registerOnChange(L){this.onChange=L}setDisabledState(L){this.setProperty("disabled",L)}}return x.\u0275fac=function(L){return new(L||x)(_.Y36(_.Qsj),_.Y36(_.SBq))},x.\u0275dir=_.lG2({type:x}),x})(),pt=(()=>{class x extends ht{}return x.\u0275fac=function(){let U;return function(ie){return(U||(U=_.n5z(x)))(ie||x)}}(),x.\u0275dir=_.lG2({type:x,features:[_.qOj]}),x})();const At=new _.OlP("NgValueAccessor"),wt={provide:At,useExisting:(0,_.Gpc)(()=>Ge),multi:!0},Dt=new _.OlP("CompositionEventMode");let Ge=(()=>{class x extends ht{constructor(L,ie,Ye){super(L,ie),this._compositionMode=Ye,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Tt(){const x=(0,X.q)()?(0,X.q)().getUserAgent():"";return/android (\d+)/.test(x.toLowerCase())}())}writeValue(L){this.setProperty("value",L??"")}_handleInput(L){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(L)}_compositionStart(){this._composing=!0}_compositionEnd(L){this._composing=!1,this._compositionMode&&this.onChange(L)}}return x.\u0275fac=function(L){return new(L||x)(_.Y36(_.Qsj),_.Y36(_.SBq),_.Y36(Dt,8))},x.\u0275dir=_.lG2({type:x,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(L,ie){1&L&&_.NdJ("input",function(pn){return ie._handleInput(pn.target.value)})("blur",function(){return ie.onTouched()})("compositionstart",function(){return ie._compositionStart()})("compositionend",function(pn){return ie._compositionEnd(pn.target.value)})},features:[_._Bn([wt]),_.qOj]}),x})();const ge=!1;const ot=new _.OlP("NgValidators"),Be=new _.OlP("NgAsyncValidators");function Ut(x){return function lt(x){return null==x||("string"==typeof x||Array.isArray(x))&&0===x.length}(x.value)?{required:!0}:null}function Fe(x){return null}function Ze(x){return null!=x}function Me(x){const U=(0,_.QGY)(x)?(0,$.D)(x):x;if(ge&&!(0,_.CqO)(U)){let L="Expected async validator to return Promise or Observable.";throw"object"==typeof x&&(L+=" Are you using a synchronous validator where an async validator is expected?"),new _.vHH(-1101,L)}return U}function Xe(x){let U={};return x.forEach(L=>{U=null!=L?{...U,...L}:U}),0===Object.keys(U).length?null:U}function It(x,U){return U.map(L=>L(x))}function qt(x){return x.map(U=>function Ft(x){return!x.validate}(U)?U:L=>U.validate(L))}function zt(x){return null!=x?function vn(x){if(!x)return null;const U=x.filter(Ze);return 0==U.length?null:function(L){return Xe(It(L,U))}}(qt(x)):null}function _r(x){return null!=x?function Pn(x){if(!x)return null;const U=x.filter(Ze);return 0==U.length?null:function(L){return function fe(...x){const U=(0,qe.jO)(x),{args:L,keys:ie}=(0,be.D)(x),Ye=new Re.y(pn=>{const{length:Kr}=L;if(!Kr)return void pn.complete();const xi=new Array(Kr);let io=Kr,so=Kr;for(let po=0;po<Kr;po++){let bs=!1;(0,Ve.Xf)(L[po]).subscribe((0,Le.x)(pn,Es=>{bs||(bs=!0,so--),xi[po]=Es},()=>io--,void 0,()=>{(!io||!bs)&&(so||pn.next(ie?(0,pe.n)(ie,xi):xi),pn.complete())}))}});return U?Ye.pipe((0,Qe.Z)(U)):Ye}(It(L,U).map(Me)).pipe((0,Ae.U)(Xe))}}(qt(x)):null}function xn(x,U){return null===x?[U]:Array.isArray(x)?[...x,U]:[x,U]}function Un(x){return x._rawValidators}function rr(x){return x._rawAsyncValidators}function Zt(x){return x?Array.isArray(x)?x:[x]:[]}function cr(x,U){return Array.isArray(x)?x.includes(U):x===U}function Or(x,U){const L=Zt(U);return Zt(x).forEach(Ye=>{cr(L,Ye)||L.push(Ye)}),L}function Tn(x,U){return Zt(U).filter(L=>!cr(x,L))}class Ht{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(U){this._rawValidators=U||[],this._composedValidatorFn=zt(this._rawValidators)}_setAsyncValidators(U){this._rawAsyncValidators=U||[],this._composedAsyncValidatorFn=_r(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(U){this._onDestroyCallbacks.push(U)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(U=>U()),this._onDestroyCallbacks=[]}reset(U){this.control&&this.control.reset(U)}hasError(U,L){return!!this.control&&this.control.hasError(U,L)}getError(U,L){return this.control?this.control.getError(U,L):null}}class Bn extends Ht{get formDirective(){return null}get path(){return null}}class ar extends Ht{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class kr{constructor(U){this._cd=U}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Zn=(()=>{class x extends kr{constructor(L){super(L)}}return x.\u0275fac=function(L){return new(L||x)(_.Y36(ar,2))},x.\u0275dir=_.lG2({type:x,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(L,ie){2&L&&_.ekj("ng-untouched",ie.isUntouched)("ng-touched",ie.isTouched)("ng-pristine",ie.isPristine)("ng-dirty",ie.isDirty)("ng-valid",ie.isValid)("ng-invalid",ie.isInvalid)("ng-pending",ie.isPending)},features:[_.qOj]}),x})(),fn=(()=>{class x extends kr{constructor(L){super(L)}}return x.\u0275fac=function(L){return new(L||x)(_.Y36(Bn,10))},x.\u0275dir=_.lG2({type:x,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(L,ie){2&L&&_.ekj("ng-untouched",ie.isUntouched)("ng-touched",ie.isTouched)("ng-pristine",ie.isPristine)("ng-dirty",ie.isDirty)("ng-valid",ie.isValid)("ng-invalid",ie.isInvalid)("ng-pending",ie.isPending)("ng-submitted",ie.isSubmitted)},features:[_.qOj]}),x})();function Mr(x,U){return x?`with name: '${U}'`:`at index: ${U}`}const di=!1,ri="VALID",li="INVALID",Ce="PENDING",Ee="DISABLED";function oe(x){return(he(x)?x.validators:x)||null}function te(x,U){return(he(U)?U.asyncValidators:x)||null}function he(x){return null!=x&&!Array.isArray(x)&&"object"==typeof x}function _e(x,U,L){const ie=x.controls;if(!(U?Object.keys(ie):ie).length)throw new _.vHH(1e3,di?function ni(x){return`\n    There are no form controls registered with this ${x?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(U):"");if(!ie[L])throw new _.vHH(1001,di?function Fr(x,U){return`Cannot find form control ${Mr(x,U)}`}(U,L):"")}function ce(x,U,L){x._forEachChild((ie,Ye)=>{if(void 0===L[Ye])throw new _.vHH(1002,di?function yi(x,U){return`Must supply a value for form control ${Mr(x,U)}`}(U,Ye):"")})}class Ne{constructor(U,L){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(U),this._assignAsyncValidators(L)}get validator(){return this._composedValidatorFn}set validator(U){this._rawValidators=this._composedValidatorFn=U}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(U){this._rawAsyncValidators=this._composedAsyncValidatorFn=U}get parent(){return this._parent}get valid(){return this.status===ri}get invalid(){return this.status===li}get pending(){return this.status==Ce}get disabled(){return this.status===Ee}get enabled(){return this.status!==Ee}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(U){this._assignValidators(U)}setAsyncValidators(U){this._assignAsyncValidators(U)}addValidators(U){this.setValidators(Or(U,this._rawValidators))}addAsyncValidators(U){this.setAsyncValidators(Or(U,this._rawAsyncValidators))}removeValidators(U){this.setValidators(Tn(U,this._rawValidators))}removeAsyncValidators(U){this.setAsyncValidators(Tn(U,this._rawAsyncValidators))}hasValidator(U){return cr(this._rawValidators,U)}hasAsyncValidator(U){return cr(this._rawAsyncValidators,U)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(U={}){this.touched=!0,this._parent&&!U.onlySelf&&this._parent.markAsTouched(U)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(U=>U.markAllAsTouched())}markAsUntouched(U={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(L=>{L.markAsUntouched({onlySelf:!0})}),this._parent&&!U.onlySelf&&this._parent._updateTouched(U)}markAsDirty(U={}){this.pristine=!1,this._parent&&!U.onlySelf&&this._parent.markAsDirty(U)}markAsPristine(U={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(L=>{L.markAsPristine({onlySelf:!0})}),this._parent&&!U.onlySelf&&this._parent._updatePristine(U)}markAsPending(U={}){this.status=Ce,!1!==U.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!U.onlySelf&&this._parent.markAsPending(U)}disable(U={}){const L=this._parentMarkedDirty(U.onlySelf);this.status=Ee,this.errors=null,this._forEachChild(ie=>{ie.disable({...U,onlySelf:!0})}),this._updateValue(),!1!==U.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...U,skipPristineCheck:L}),this._onDisabledChange.forEach(ie=>ie(!0))}enable(U={}){const L=this._parentMarkedDirty(U.onlySelf);this.status=ri,this._forEachChild(ie=>{ie.enable({...U,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:U.emitEvent}),this._updateAncestors({...U,skipPristineCheck:L}),this._onDisabledChange.forEach(ie=>ie(!1))}_updateAncestors(U){this._parent&&!U.onlySelf&&(this._parent.updateValueAndValidity(U),U.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(U){this._parent=U}getRawValue(){return this.value}updateValueAndValidity(U={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ri||this.status===Ce)&&this._runAsyncValidator(U.emitEvent)),!1!==U.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!U.onlySelf&&this._parent.updateValueAndValidity(U)}_updateTreeValidity(U={emitEvent:!0}){this._forEachChild(L=>L._updateTreeValidity(U)),this.updateValueAndValidity({onlySelf:!0,emitEvent:U.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ee:ri}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(U){if(this.asyncValidator){this.status=Ce,this._hasOwnPendingAsyncValidator=!0;const L=Me(this.asyncValidator(this));this._asyncValidationSubscription=L.subscribe(ie=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(ie,{emitEvent:U})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(U,L={}){this.errors=U,this._updateControlsErrors(!1!==L.emitEvent)}get(U){let L=U;return null==L||(Array.isArray(L)||(L=L.split(".")),0===L.length)?null:L.reduce((ie,Ye)=>ie&&ie._find(Ye),this)}getError(U,L){const ie=L?this.get(L):this;return ie&&ie.errors?ie.errors[U]:null}hasError(U,L){return!!this.getError(U,L)}get root(){let U=this;for(;U._parent;)U=U._parent;return U}_updateControlsErrors(U){this.status=this._calculateStatus(),U&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(U)}_initObservables(){this.valueChanges=new _.vpe,this.statusChanges=new _.vpe}_calculateStatus(){return this._allControlsDisabled()?Ee:this.errors?li:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ce)?Ce:this._anyControlsHaveStatus(li)?li:ri}_anyControlsHaveStatus(U){return this._anyControls(L=>L.status===U)}_anyControlsDirty(){return this._anyControls(U=>U.dirty)}_anyControlsTouched(){return this._anyControls(U=>U.touched)}_updatePristine(U={}){this.pristine=!this._anyControlsDirty(),this._parent&&!U.onlySelf&&this._parent._updatePristine(U)}_updateTouched(U={}){this.touched=this._anyControlsTouched(),this._parent&&!U.onlySelf&&this._parent._updateTouched(U)}_registerOnCollectionChange(U){this._onCollectionChange=U}_setUpdateStrategy(U){he(U)&&null!=U.updateOn&&(this._updateOn=U.updateOn)}_parentMarkedDirty(U){return!U&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(U){return null}_assignValidators(U){this._rawValidators=Array.isArray(U)?U.slice():U,this._composedValidatorFn=function ue(x){return Array.isArray(x)?zt(x):x||null}(this._rawValidators)}_assignAsyncValidators(U){this._rawAsyncValidators=Array.isArray(U)?U.slice():U,this._composedAsyncValidatorFn=function De(x){return Array.isArray(x)?_r(x):x||null}(this._rawAsyncValidators)}}class nt extends Ne{constructor(U,L,ie){super(oe(L),te(ie,L)),this.controls=U,this._initObservables(),this._setUpdateStrategy(L),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(U,L){return this.controls[U]?this.controls[U]:(this.controls[U]=L,L.setParent(this),L._registerOnCollectionChange(this._onCollectionChange),L)}addControl(U,L,ie={}){this.registerControl(U,L),this.updateValueAndValidity({emitEvent:ie.emitEvent}),this._onCollectionChange()}removeControl(U,L={}){this.controls[U]&&this.controls[U]._registerOnCollectionChange(()=>{}),delete this.controls[U],this.updateValueAndValidity({emitEvent:L.emitEvent}),this._onCollectionChange()}setControl(U,L,ie={}){this.controls[U]&&this.controls[U]._registerOnCollectionChange(()=>{}),delete this.controls[U],L&&this.registerControl(U,L),this.updateValueAndValidity({emitEvent:ie.emitEvent}),this._onCollectionChange()}contains(U){return this.controls.hasOwnProperty(U)&&this.controls[U].enabled}setValue(U,L={}){ce(this,!0,U),Object.keys(U).forEach(ie=>{_e(this,!0,ie),this.controls[ie].setValue(U[ie],{onlySelf:!0,emitEvent:L.emitEvent})}),this.updateValueAndValidity(L)}patchValue(U,L={}){null!=U&&(Object.keys(U).forEach(ie=>{const Ye=this.controls[ie];Ye&&Ye.patchValue(U[ie],{onlySelf:!0,emitEvent:L.emitEvent})}),this.updateValueAndValidity(L))}reset(U={},L={}){this._forEachChild((ie,Ye)=>{ie.reset(U[Ye],{onlySelf:!0,emitEvent:L.emitEvent})}),this._updatePristine(L),this._updateTouched(L),this.updateValueAndValidity(L)}getRawValue(){return this._reduceChildren({},(U,L,ie)=>(U[ie]=L.getRawValue(),U))}_syncPendingControls(){let U=this._reduceChildren(!1,(L,ie)=>!!ie._syncPendingControls()||L);return U&&this.updateValueAndValidity({onlySelf:!0}),U}_forEachChild(U){Object.keys(this.controls).forEach(L=>{const ie=this.controls[L];ie&&U(ie,L)})}_setUpControls(){this._forEachChild(U=>{U.setParent(this),U._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(U){for(const[L,ie]of Object.entries(this.controls))if(this.contains(L)&&U(ie))return!0;return!1}_reduceValue(){return this._reduceChildren({},(L,ie,Ye)=>((ie.enabled||this.disabled)&&(L[Ye]=ie.value),L))}_reduceChildren(U,L){let ie=U;return this._forEachChild((Ye,pn)=>{ie=L(ie,Ye,pn)}),ie}_allControlsDisabled(){for(const U of Object.keys(this.controls))if(this.controls[U].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(U){return this.controls.hasOwnProperty(U)?this.controls[U]:null}}class En extends nt{}const Oi=new _.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>ct}),ct="always";function Je(x,U){return[...U.path,x]}function Pt(x,U,L=ct){dn(x,U),U.valueAccessor.writeValue(x.value),(x.disabled||"always"===L)&&U.valueAccessor.setDisabledState?.(x.disabled),function lr(x,U){U.valueAccessor.registerOnChange(L=>{x._pendingValue=L,x._pendingChange=!0,x._pendingDirty=!0,"change"===x.updateOn&&Di(x,U)})}(x,U),function Vs(x,U){const L=(ie,Ye)=>{U.valueAccessor.writeValue(ie),Ye&&U.viewToModelUpdate(ie)};x.registerOnChange(L),U._registerOnDestroy(()=>{x._unregisterOnChange(L)})}(x,U),function Pi(x,U){U.valueAccessor.registerOnTouched(()=>{x._pendingTouched=!0,"blur"===x.updateOn&&x._pendingChange&&Di(x,U),"submit"!==x.updateOn&&x.markAsTouched()})}(x,U),function Ln(x,U){if(U.valueAccessor.setDisabledState){const L=ie=>{U.valueAccessor.setDisabledState(ie)};x.registerOnDisabledChange(L),U._registerOnDestroy(()=>{x._unregisterOnDisabledChange(L)})}}(x,U)}function cn(x,U,L=!0){const ie=()=>{};U.valueAccessor&&(U.valueAccessor.registerOnChange(ie),U.valueAccessor.registerOnTouched(ie)),gr(x,U),x&&(U._invokeOnDestroyCallbacks(),x._registerOnCollectionChange(()=>{}))}function On(x,U){x.forEach(L=>{L.registerOnValidatorChange&&L.registerOnValidatorChange(U)})}function dn(x,U){const L=Un(x);null!==U.validator?x.setValidators(xn(L,U.validator)):"function"==typeof L&&x.setValidators([L]);const ie=rr(x);null!==U.asyncValidator?x.setAsyncValidators(xn(ie,U.asyncValidator)):"function"==typeof ie&&x.setAsyncValidators([ie]);const Ye=()=>x.updateValueAndValidity();On(U._rawValidators,Ye),On(U._rawAsyncValidators,Ye)}function gr(x,U){let L=!1;if(null!==x){if(null!==U.validator){const Ye=Un(x);if(Array.isArray(Ye)&&Ye.length>0){const pn=Ye.filter(Kr=>Kr!==U.validator);pn.length!==Ye.length&&(L=!0,x.setValidators(pn))}}if(null!==U.asyncValidator){const Ye=rr(x);if(Array.isArray(Ye)&&Ye.length>0){const pn=Ye.filter(Kr=>Kr!==U.asyncValidator);pn.length!==Ye.length&&(L=!0,x.setAsyncValidators(pn))}}}const ie=()=>{};return On(U._rawValidators,ie),On(U._rawAsyncValidators,ie),L}function Di(x,U){x._pendingDirty&&x.markAsDirty(),x.setValue(x._pendingValue,{emitModelToViewChange:!1}),U.viewToModelUpdate(x._pendingValue),x._pendingChange=!1}function Fi(x,U){if(!x.hasOwnProperty("model"))return!1;const L=x.model;return!!L.isFirstChange()||!Object.is(U,L.currentValue)}function Qr(x,U){if(!U)return null;let L,ie,Ye;return Array.isArray(U),U.forEach(pn=>{pn.constructor===Ge?L=pn:function hi(x){return Object.getPrototypeOf(x.constructor)===pt}(pn)?ie=pn:Ye=pn}),Ye||ie||L||null}function An(x,U){const L=x.indexOf(U);L>-1&&x.splice(L,1)}function Kn(x){return"object"==typeof x&&null!==x&&2===Object.keys(x).length&&"value"in x&&"disabled"in x}const wn=class extends Ne{constructor(U=null,L,ie){super(oe(L),te(ie,L)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(U),this._setUpdateStrategy(L),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),he(L)&&(L.nonNullable||L.initialValueIsDefault)&&(this.defaultValue=Kn(U)?U.value:U)}setValue(U,L={}){this.value=this._pendingValue=U,this._onChange.length&&!1!==L.emitModelToViewChange&&this._onChange.forEach(ie=>ie(this.value,!1!==L.emitViewToModelChange)),this.updateValueAndValidity(L)}patchValue(U,L={}){this.setValue(U,L)}reset(U=this.defaultValue,L={}){this._applyFormState(U),this.markAsPristine(L),this.markAsUntouched(L),this.setValue(this.value,L),this._pendingChange=!1}_updateValue(){}_anyControls(U){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(U){this._onChange.push(U)}_unregisterOnChange(U){An(this._onChange,U)}registerOnDisabledChange(U){this._onDisabledChange.push(U)}_unregisterOnDisabledChange(U){An(this._onDisabledChange,U)}_forEachChild(U){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(U){Kn(U)?(this.value=this._pendingValue=U.value,U.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=U}},Tr={provide:ar,useExisting:(0,_.Gpc)(()=>zn)},ur=(()=>Promise.resolve())();let zn=(()=>{class x extends ar{constructor(L,ie,Ye,pn,Kr,xi){super(),this._changeDetectorRef=Kr,this.callSetDisabledState=xi,this.control=new wn,this._registered=!1,this.update=new _.vpe,this._parent=L,this._setValidators(ie),this._setAsyncValidators(Ye),this.valueAccessor=Qr(0,pn)}ngOnChanges(L){if(this._checkForErrors(),!this._registered||"name"in L){if(this._registered&&(this._checkName(),this.formDirective)){const ie=L.name.previousValue;this.formDirective.removeControl({name:ie,path:this._getPath(ie)})}this._setUpControl()}"isDisabled"in L&&this._updateDisabled(L),Fi(L,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(L){this.viewModel=L,this.update.emit(L)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Pt(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(L){ur.then(()=>{this.control.setValue(L,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(L){const ie=L.isDisabled.currentValue,Ye=0!==ie&&(0,_.D6c)(ie);ur.then(()=>{Ye&&!this.control.disabled?this.control.disable():!Ye&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(L){return this._parent?Je(L,this._parent):[L]}}return x.\u0275fac=function(L){return new(L||x)(_.Y36(Bn,9),_.Y36(ot,10),_.Y36(Be,10),_.Y36(At,10),_.Y36(_.sBO,8),_.Y36(Oi,8))},x.\u0275dir=_.lG2({type:x,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[_._Bn([Tr]),_.qOj,_.TTD]}),x})(),ii=(()=>{class x{}return x.\u0275fac=function(L){return new(L||x)},x.\u0275dir=_.lG2({type:x,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),x})(),Do=(()=>{class x{}return x.\u0275fac=function(L){return new(L||x)},x.\u0275mod=_.oAB({type:x}),x.\u0275inj=_.cJS({}),x})();const Us=new _.OlP("NgModelWithFormControlWarning"),Ws={provide:Bn,useExisting:(0,_.Gpc)(()=>Ks)};let Ks=(()=>{class x extends Bn{constructor(L,ie,Ye){super(),this.callSetDisabledState=Ye,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new _.vpe,this._setValidators(L),this._setAsyncValidators(ie)}ngOnChanges(L){this._checkFormPresent(),L.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(gr(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(L){const ie=this.form.get(L.path);return Pt(ie,L,this.callSetDisabledState),ie.updateValueAndValidity({emitEvent:!1}),this.directives.push(L),ie}getControl(L){return this.form.get(L.path)}removeControl(L){cn(L.control||null,L,!1),function $e(x,U){const L=x.indexOf(U);L>-1&&x.splice(L,1)}(this.directives,L)}addFormGroup(L){this._setUpFormContainer(L)}removeFormGroup(L){this._cleanUpFormContainer(L)}getFormGroup(L){return this.form.get(L.path)}addFormArray(L){this._setUpFormContainer(L)}removeFormArray(L){this._cleanUpFormContainer(L)}getFormArray(L){return this.form.get(L.path)}updateModel(L,ie){this.form.get(L.path).setValue(ie)}onSubmit(L){return this.submitted=!0,function to(x,U){x._syncPendingControls(),U.forEach(L=>{const ie=L.control;"submit"===ie.updateOn&&ie._pendingChange&&(L.viewToModelUpdate(ie._pendingValue),ie._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(L),"dialog"===L?.target?.method}onReset(){this.resetForm()}resetForm(L){this.form.reset(L),this.submitted=!1}_updateDomValue(){this.directives.forEach(L=>{const ie=L.control,Ye=this.form.get(L.path);ie!==Ye&&(cn(ie||null,L),(x=>x instanceof wn)(Ye)&&(Pt(Ye,L,this.callSetDisabledState),L.control=Ye))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(L){const ie=this.form.get(L.path);(function ki(x,U){dn(x,U)})(ie,L),ie.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(L){if(this.form){const ie=this.form.get(L.path);ie&&function Ti(x,U){return gr(x,U)}(ie,L)&&ie.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){dn(this.form,this),this._oldForm&&gr(this._oldForm,this)}_checkFormPresent(){}}return x.\u0275fac=function(L){return new(L||x)(_.Y36(ot,10),_.Y36(Be,10),_.Y36(Oi,8))},x.\u0275dir=_.lG2({type:x,selectors:[["","formGroup",""]],hostBindings:function(L,ie){1&L&&_.NdJ("submit",function(pn){return ie.onSubmit(pn)})("reset",function(){return ie.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[_._Bn([Ws]),_.qOj,_.TTD]}),x})();const jo={provide:ar,useExisting:(0,_.Gpc)(()=>Ss)};let Ss=(()=>{class x extends ar{set isDisabled(L){}constructor(L,ie,Ye,pn,Kr){super(),this._ngModelWarningConfig=Kr,this._added=!1,this.update=new _.vpe,this._ngModelWarningSent=!1,this._parent=L,this._setValidators(ie),this._setAsyncValidators(Ye),this.valueAccessor=Qr(0,pn)}ngOnChanges(L){this._added||this._setUpControl(),Fi(L,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(L){this.viewModel=L,this.update.emit(L)}get path(){return Je(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return x._ngModelWarningSentOnce=!1,x.\u0275fac=function(L){return new(L||x)(_.Y36(Bn,13),_.Y36(ot,10),_.Y36(Be,10),_.Y36(At,10),_.Y36(Us,8))},x.\u0275dir=_.lG2({type:x,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[_._Bn([jo]),_.qOj,_.TTD]}),x})();const Xr={provide:At,useExisting:(0,_.Gpc)(()=>Z),multi:!0};function So(x,U){return null==x?`${U}`:(U&&"object"==typeof U&&(U="Object"),`${x}: ${U}`.slice(0,50))}let Z=(()=>{class x extends pt{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(L){this._compareWith=L}writeValue(L){this.value=L;const Ye=So(this._getOptionId(L),L);this.setProperty("value",Ye)}registerOnChange(L){this.onChange=ie=>{this.value=this._getOptionValue(ie),L(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(L){for(const ie of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(ie),L))return ie;return null}_getOptionValue(L){const ie=function Ns(x){return x.split(":")[0]}(L);return this._optionMap.has(ie)?this._optionMap.get(ie):L}}return x.\u0275fac=function(){let U;return function(ie){return(U||(U=_.n5z(x)))(ie||x)}}(),x.\u0275dir=_.lG2({type:x,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(L,ie){1&L&&_.NdJ("change",function(pn){return ie.onChange(pn.target.value)})("blur",function(){return ie.onTouched()})},inputs:{compareWith:"compareWith"},features:[_._Bn([Xr]),_.qOj]}),x})(),z=(()=>{class x{constructor(L,ie,Ye){this._element=L,this._renderer=ie,this._select=Ye,this._select&&(this.id=this._select._registerOption())}set ngValue(L){null!=this._select&&(this._select._optionMap.set(this.id,L),this._setElementValue(So(this.id,L)),this._select.writeValue(this._select.value))}set value(L){this._setElementValue(L),this._select&&this._select.writeValue(this._select.value)}_setElementValue(L){this._renderer.setProperty(this._element.nativeElement,"value",L)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return x.\u0275fac=function(L){return new(L||x)(_.Y36(_.SBq),_.Y36(_.Qsj),_.Y36(Z,9))},x.\u0275dir=_.lG2({type:x,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),x})();const we={provide:At,useExisting:(0,_.Gpc)(()=>$t),multi:!0};function Te(x,U){return null==x?`${U}`:("string"==typeof U&&(U=`'${U}'`),U&&"object"==typeof U&&(U="Object"),`${x}: ${U}`.slice(0,50))}let $t=(()=>{class x extends pt{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(L){this._compareWith=L}writeValue(L){let ie;if(this.value=L,Array.isArray(L)){const Ye=L.map(pn=>this._getOptionId(pn));ie=(pn,Kr)=>{pn._setSelected(Ye.indexOf(Kr.toString())>-1)}}else ie=(Ye,pn)=>{Ye._setSelected(!1)};this._optionMap.forEach(ie)}registerOnChange(L){this.onChange=ie=>{const Ye=[],pn=ie.selectedOptions;if(void 0!==pn){const Kr=pn;for(let xi=0;xi<Kr.length;xi++){const so=this._getOptionValue(Kr[xi].value);Ye.push(so)}}else{const Kr=ie.options;for(let xi=0;xi<Kr.length;xi++){const io=Kr[xi];if(io.selected){const so=this._getOptionValue(io.value);Ye.push(so)}}}this.value=Ye,L(Ye)}}_registerOption(L){const ie=(this._idCounter++).toString();return this._optionMap.set(ie,L),ie}_getOptionId(L){for(const ie of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(ie)._value,L))return ie;return null}_getOptionValue(L){const ie=function We(x){return x.split(":")[0]}(L);return this._optionMap.has(ie)?this._optionMap.get(ie)._value:L}}return x.\u0275fac=function(){let U;return function(ie){return(U||(U=_.n5z(x)))(ie||x)}}(),x.\u0275dir=_.lG2({type:x,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(L,ie){1&L&&_.NdJ("change",function(pn){return ie.onChange(pn.target)})("blur",function(){return ie.onTouched()})},inputs:{compareWith:"compareWith"},features:[_._Bn([we]),_.qOj]}),x})(),tn=(()=>{class x{constructor(L,ie,Ye){this._element=L,this._renderer=ie,this._select=Ye,this._select&&(this.id=this._select._registerOption(this))}set ngValue(L){null!=this._select&&(this._value=L,this._setElementValue(Te(this.id,L)),this._select.writeValue(this._select.value))}set value(L){this._select?(this._value=L,this._setElementValue(Te(this.id,L)),this._select.writeValue(this._select.value)):this._setElementValue(L)}_setElementValue(L){this._renderer.setProperty(this._element.nativeElement,"value",L)}_setSelected(L){this._renderer.setProperty(this._element.nativeElement,"selected",L)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return x.\u0275fac=function(L){return new(L||x)(_.Y36(_.SBq),_.Y36(_.Qsj),_.Y36($t,9))},x.\u0275dir=_.lG2({type:x,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),x})(),ir=(()=>{class x{constructor(){this._validator=Fe}ngOnChanges(L){if(this.inputName in L){const ie=this.normalizeInput(L[this.inputName].currentValue);this._enabled=this.enabled(ie),this._validator=this._enabled?this.createValidator(ie):Fe,this._onChange&&this._onChange()}}validate(L){return this._validator(L)}registerOnValidatorChange(L){this._onChange=L}enabled(L){return null!=L}}return x.\u0275fac=function(L){return new(L||x)},x.\u0275dir=_.lG2({type:x,features:[_.TTD]}),x})();const Sr={provide:ot,useExisting:(0,_.Gpc)(()=>Ni),multi:!0};let Ni=(()=>{class x extends ir{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=_.D6c,this.createValidator=L=>Ut}enabled(L){return L}}return x.\u0275fac=function(){let U;return function(ie){return(U||(U=_.n5z(x)))(ie||x)}}(),x.\u0275dir=_.lG2({type:x,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(L,ie){2&L&&_.uIk("required",ie._enabled?"":null)},inputs:{required:"required"},features:[_._Bn([Sr]),_.qOj]}),x})(),vs=(()=>{class x{}return x.\u0275fac=function(L){return new(L||x)},x.\u0275mod=_.oAB({type:x}),x.\u0275inj=_.cJS({imports:[Do]}),x})();class qn extends Ne{constructor(U,L,ie){super(oe(L),te(ie,L)),this.controls=U,this._initObservables(),this._setUpdateStrategy(L),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(U){return this.controls[this._adjustIndex(U)]}push(U,L={}){this.controls.push(U),this._registerControl(U),this.updateValueAndValidity({emitEvent:L.emitEvent}),this._onCollectionChange()}insert(U,L,ie={}){this.controls.splice(U,0,L),this._registerControl(L),this.updateValueAndValidity({emitEvent:ie.emitEvent})}removeAt(U,L={}){let ie=this._adjustIndex(U);ie<0&&(ie=0),this.controls[ie]&&this.controls[ie]._registerOnCollectionChange(()=>{}),this.controls.splice(ie,1),this.updateValueAndValidity({emitEvent:L.emitEvent})}setControl(U,L,ie={}){let Ye=this._adjustIndex(U);Ye<0&&(Ye=0),this.controls[Ye]&&this.controls[Ye]._registerOnCollectionChange(()=>{}),this.controls.splice(Ye,1),L&&(this.controls.splice(Ye,0,L),this._registerControl(L)),this.updateValueAndValidity({emitEvent:ie.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(U,L={}){ce(this,!1,U),U.forEach((ie,Ye)=>{_e(this,!1,Ye),this.at(Ye).setValue(ie,{onlySelf:!0,emitEvent:L.emitEvent})}),this.updateValueAndValidity(L)}patchValue(U,L={}){null!=U&&(U.forEach((ie,Ye)=>{this.at(Ye)&&this.at(Ye).patchValue(ie,{onlySelf:!0,emitEvent:L.emitEvent})}),this.updateValueAndValidity(L))}reset(U=[],L={}){this._forEachChild((ie,Ye)=>{ie.reset(U[Ye],{onlySelf:!0,emitEvent:L.emitEvent})}),this._updatePristine(L),this._updateTouched(L),this.updateValueAndValidity(L)}getRawValue(){return this.controls.map(U=>U.getRawValue())}clear(U={}){this.controls.length<1||(this._forEachChild(L=>L._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:U.emitEvent}))}_adjustIndex(U){return U<0?U+this.length:U}_syncPendingControls(){let U=this.controls.reduce((L,ie)=>!!ie._syncPendingControls()||L,!1);return U&&this.updateValueAndValidity({onlySelf:!0}),U}_forEachChild(U){this.controls.forEach((L,ie)=>{U(L,ie)})}_updateValue(){this.value=this.controls.filter(U=>U.enabled||this.disabled).map(U=>U.value)}_anyControls(U){return this.controls.some(L=>L.enabled&&U(L))}_setUpControls(){this._forEachChild(U=>this._registerControl(U))}_allControlsDisabled(){for(const U of this.controls)if(U.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(U){U.setParent(this),U._registerOnCollectionChange(this._onCollectionChange)}_find(U){return this.at(U)??null}}function Da(x){return!!x&&(void 0!==x.asyncValidators||void 0!==x.validators||void 0!==x.updateOn)}let tr=(()=>{class x{constructor(){this.useNonNullable=!1}get nonNullable(){const L=new x;return L.useNonNullable=!0,L}group(L,ie=null){const Ye=this._reduceControls(L);let pn={};return Da(ie)?pn=ie:null!==ie&&(pn.validators=ie.validator,pn.asyncValidators=ie.asyncValidator),new nt(Ye,pn)}record(L,ie=null){const Ye=this._reduceControls(L);return new En(Ye,ie)}control(L,ie,Ye){let pn={};return this.useNonNullable?(Da(ie)?pn=ie:(pn.validators=ie,pn.asyncValidators=Ye),new wn(L,{...pn,nonNullable:!0})):new wn(L,ie,Ye)}array(L,ie,Ye){const pn=L.map(Kr=>this._createControl(Kr));return new qn(pn,ie,Ye)}_reduceControls(L){const ie={};return Object.keys(L).forEach(Ye=>{ie[Ye]=this._createControl(L[Ye])}),ie}_createControl(L){return L instanceof wn||L instanceof Ne?L:Array.isArray(L)?this.control(L[0],L.length>1?L[1]:null,L.length>2?L[2]:null):this.control(L)}}return x.\u0275fac=function(L){return new(L||x)},x.\u0275prov=_.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),x})(),el=(()=>{class x{static withConfig(L){return{ngModule:x,providers:[{provide:Oi,useValue:L.callSetDisabledState??ct}]}}}return x.\u0275fac=function(L){return new(L||x)},x.\u0275mod=_.oAB({type:x}),x.\u0275inj=_.cJS({imports:[vs]}),x})(),da=(()=>{class x{static withConfig(L){return{ngModule:x,providers:[{provide:Us,useValue:L.warnOnNgModelWithFormControl??"always"},{provide:Oi,useValue:L.callSetDisabledState??ct}]}}}return x.\u0275fac=function(L){return new(L||x)},x.\u0275mod=_.oAB({type:x}),x.\u0275inj=_.cJS({imports:[vs]}),x})()},1481:(rn,it,G)=>{G.d(it,{Dx:()=>fn,b2:()=>ar,q6:()=>Or,se:()=>Ut});var _=G(6895),X=G(4650);class $ extends _.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Re extends ${static makeCurrent(){(0,_.HT)(new Re)}onAndCancel(_e,ce,Ne){return _e.addEventListener(ce,Ne,!1),()=>{_e.removeEventListener(ce,Ne,!1)}}dispatchEvent(_e,ce){_e.dispatchEvent(ce)}remove(_e){_e.parentNode&&_e.parentNode.removeChild(_e)}createElement(_e,ce){return(ce=ce||this.getDefaultDocument()).createElement(_e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(_e){return _e.nodeType===Node.ELEMENT_NODE}isShadowRoot(_e){return _e instanceof DocumentFragment}getGlobalEventTarget(_e,ce){return"window"===ce?window:"document"===ce?_e:"body"===ce?_e.body:null}getBaseHref(_e){const ce=function Ve(){return be=be||document.querySelector("base"),be?be.getAttribute("href"):null}();return null==ce?null:function Le(he){qe=qe||document.createElement("a"),qe.setAttribute("href",he);const _e=qe.pathname;return"/"===_e.charAt(0)?_e:`/${_e}`}(ce)}resetBaseElement(){be=null}getUserAgent(){return window.navigator.userAgent}getCookie(_e){return(0,_.Mx)(document.cookie,_e)}}let qe,be=null;const Qe=new X.OlP("TRANSITION_ID"),fe=[{provide:X.ip1,useFactory:function pe(he,_e,ce){return()=>{ce.get(X.CZH).donePromise.then(()=>{const Ne=(0,_.q)(),nt=_e.querySelectorAll(`style[ng-transition="${he}"]`);for(let bt=0;bt<nt.length;bt++)Ne.remove(nt[bt])})}},deps:[Qe,_.K0,X.zs3],multi:!0}];let ht=(()=>{class he{build(){return new XMLHttpRequest}}return he.\u0275fac=function(ce){return new(ce||he)},he.\u0275prov=X.Yz7({token:he,factory:he.\u0275fac}),he})();const pt=new X.OlP("EventManagerPlugins");let At=(()=>{class he{constructor(ce,Ne){this._zone=Ne,this._eventNameToPlugin=new Map,ce.forEach(nt=>{nt.manager=this}),this._plugins=ce.slice().reverse()}addEventListener(ce,Ne,nt){return this._findPluginFor(Ne).addEventListener(ce,Ne,nt)}addGlobalEventListener(ce,Ne,nt){return this._findPluginFor(Ne).addGlobalEventListener(ce,Ne,nt)}getZone(){return this._zone}_findPluginFor(ce){const Ne=this._eventNameToPlugin.get(ce);if(Ne)return Ne;const nt=this._plugins;for(let bt=0;bt<nt.length;bt++){const un=nt[bt];if(un.supports(ce))return this._eventNameToPlugin.set(ce,un),un}throw new Error(`No event manager plugin found for event ${ce}`)}}return he.\u0275fac=function(ce){return new(ce||he)(X.LFG(pt),X.LFG(X.R0b))},he.\u0275prov=X.Yz7({token:he,factory:he.\u0275fac}),he})();class jt{constructor(_e){this._doc=_e}addGlobalEventListener(_e,ce,Ne){const nt=(0,_.q)().getGlobalEventTarget(this._doc,_e);if(!nt)throw new Error(`Unsupported event target ${nt} for event ${ce}`);return this.addEventListener(nt,ce,Ne)}}let at=(()=>{class he{constructor(){this.usageCount=new Map}addStyles(ce){for(const Ne of ce)1===this.changeUsageCount(Ne,1)&&this.onStyleAdded(Ne)}removeStyles(ce){for(const Ne of ce)0===this.changeUsageCount(Ne,-1)&&this.onStyleRemoved(Ne)}onStyleRemoved(ce){}onStyleAdded(ce){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(ce,Ne){const nt=this.usageCount;let bt=nt.get(ce)??0;return bt+=Ne,bt>0?nt.set(ce,bt):nt.delete(ce),bt}ngOnDestroy(){for(const ce of this.getAllStyles())this.onStyleRemoved(ce);this.usageCount.clear()}}return he.\u0275fac=function(ce){return new(ce||he)},he.\u0275prov=X.Yz7({token:he,factory:he.\u0275fac}),he})(),wt=(()=>{class he extends at{constructor(ce){super(),this.doc=ce,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(ce){for(const Ne of this.hostNodes)this.addStyleToHost(Ne,ce)}onStyleRemoved(ce){const Ne=this.styleRef;Ne.get(ce)?.forEach(bt=>bt.remove()),Ne.delete(ce)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(ce){this.hostNodes.add(ce);for(const Ne of this.getAllStyles())this.addStyleToHost(ce,Ne)}removeHost(ce){this.hostNodes.delete(ce)}addStyleToHost(ce,Ne){const nt=this.doc.createElement("style");nt.textContent=Ne,ce.appendChild(nt);const bt=this.styleRef.get(Ne);bt?bt.push(nt):this.styleRef.set(Ne,[nt])}resetHostNodes(){const ce=this.hostNodes;ce.clear(),ce.add(this.doc.head)}}return he.\u0275fac=function(ce){return new(ce||he)(X.LFG(_.K0))},he.\u0275prov=X.Yz7({token:he,factory:he.\u0275fac}),he})();const Tt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Dt=/%COMP%/g,Be=new X.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function Gt(he,_e){return _e.flat(100).map(ce=>ce.replace(Dt,he))}function Rn(he){return _e=>{if("__ngUnwrap__"===_e)return he;!1===he(_e)&&(_e.preventDefault(),_e.returnValue=!1)}}let Ut=(()=>{class he{constructor(ce,Ne,nt,bt){this.eventManager=ce,this.sharedStylesHost=Ne,this.appId=nt,this.removeStylesOnCompDestory=bt,this.rendererByCompId=new Map,this.defaultRenderer=new sn(ce)}createRenderer(ce,Ne){if(!ce||!Ne)return this.defaultRenderer;const nt=this.getOrCreateRenderer(ce,Ne);return nt instanceof Ze?nt.applyToHost(ce):nt instanceof Fe&&nt.applyStyles(),nt}getOrCreateRenderer(ce,Ne){const nt=this.rendererByCompId;let bt=nt.get(Ne.id);if(!bt){const un=this.eventManager,En=this.sharedStylesHost,Pr=this.removeStylesOnCompDestory;switch(Ne.encapsulation){case X.ifc.Emulated:bt=new Ze(un,En,Ne,this.appId,Pr);break;case X.ifc.ShadowDom:return new ke(un,En,ce,Ne);default:bt=new Fe(un,En,Ne,Pr)}bt.onDestroy=()=>nt.delete(Ne.id),nt.set(Ne.id,bt)}return bt}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return he.\u0275fac=function(ce){return new(ce||he)(X.LFG(At),X.LFG(wt),X.LFG(X.AFp),X.LFG(Be))},he.\u0275prov=X.Yz7({token:he,factory:he.\u0275fac}),he})();class sn{constructor(_e){this.eventManager=_e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(_e,ce){return ce?document.createElementNS(Tt[ce]||ce,_e):document.createElement(_e)}createComment(_e){return document.createComment(_e)}createText(_e){return document.createTextNode(_e)}appendChild(_e,ce){(Gn(_e)?_e.content:_e).appendChild(ce)}insertBefore(_e,ce,Ne){_e&&(Gn(_e)?_e.content:_e).insertBefore(ce,Ne)}removeChild(_e,ce){_e&&_e.removeChild(ce)}selectRootElement(_e,ce){let Ne="string"==typeof _e?document.querySelector(_e):_e;if(!Ne)throw new Error(`The selector "${_e}" did not match any elements`);return ce||(Ne.textContent=""),Ne}parentNode(_e){return _e.parentNode}nextSibling(_e){return _e.nextSibling}setAttribute(_e,ce,Ne,nt){if(nt){ce=nt+":"+ce;const bt=Tt[nt];bt?_e.setAttributeNS(bt,ce,Ne):_e.setAttribute(ce,Ne)}else _e.setAttribute(ce,Ne)}removeAttribute(_e,ce,Ne){if(Ne){const nt=Tt[Ne];nt?_e.removeAttributeNS(nt,ce):_e.removeAttribute(`${Ne}:${ce}`)}else _e.removeAttribute(ce)}addClass(_e,ce){_e.classList.add(ce)}removeClass(_e,ce){_e.classList.remove(ce)}setStyle(_e,ce,Ne,nt){nt&(X.JOm.DashCase|X.JOm.Important)?_e.style.setProperty(ce,Ne,nt&X.JOm.Important?"important":""):_e.style[ce]=Ne}removeStyle(_e,ce,Ne){Ne&X.JOm.DashCase?_e.style.removeProperty(ce):_e.style[ce]=""}setProperty(_e,ce,Ne){_e[ce]=Ne}setValue(_e,ce){_e.nodeValue=ce}listen(_e,ce,Ne){return"string"==typeof _e?this.eventManager.addGlobalEventListener(_e,ce,Rn(Ne)):this.eventManager.addEventListener(_e,ce,Rn(Ne))}}function Gn(he){return"TEMPLATE"===he.tagName&&void 0!==he.content}class ke extends sn{constructor(_e,ce,Ne,nt){super(_e),this.sharedStylesHost=ce,this.hostEl=Ne,this.shadowRoot=Ne.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const bt=Gt(nt.id,nt.styles);for(const un of bt){const En=document.createElement("style");En.textContent=un,this.shadowRoot.appendChild(En)}}nodeOrShadowRoot(_e){return _e===this.hostEl?this.shadowRoot:_e}appendChild(_e,ce){return super.appendChild(this.nodeOrShadowRoot(_e),ce)}insertBefore(_e,ce,Ne){return super.insertBefore(this.nodeOrShadowRoot(_e),ce,Ne)}removeChild(_e,ce){return super.removeChild(this.nodeOrShadowRoot(_e),ce)}parentNode(_e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(_e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Fe extends sn{constructor(_e,ce,Ne,nt,bt=Ne.id){super(_e),this.sharedStylesHost=ce,this.removeStylesOnCompDestory=nt,this.rendererUsageCount=0,this.styles=Gt(bt,Ne.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class Ze extends Fe{constructor(_e,ce,Ne,nt,bt){const un=nt+"-"+Ne.id;super(_e,ce,Ne,bt,un),this.contentAttr=function re(he){return"_ngcontent-%COMP%".replace(Dt,he)}(un),this.hostAttr=function en(he){return"_nghost-%COMP%".replace(Dt,he)}(un)}applyToHost(_e){this.applyStyles(),this.setAttribute(_e,this.hostAttr,"")}createElement(_e,ce){const Ne=super.createElement(_e,ce);return super.setAttribute(Ne,this.contentAttr,""),Ne}}let Me=(()=>{class he extends jt{constructor(ce){super(ce)}supports(ce){return!0}addEventListener(ce,Ne,nt){return ce.addEventListener(Ne,nt,!1),()=>this.removeEventListener(ce,Ne,nt)}removeEventListener(ce,Ne,nt){return ce.removeEventListener(Ne,nt)}}return he.\u0275fac=function(ce){return new(ce||he)(X.LFG(_.K0))},he.\u0275prov=X.Yz7({token:he,factory:he.\u0275fac}),he})();const Xe=["alt","control","meta","shift"],It={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ft={alt:he=>he.altKey,control:he=>he.ctrlKey,meta:he=>he.metaKey,shift:he=>he.shiftKey};let qt=(()=>{class he extends jt{constructor(ce){super(ce)}supports(ce){return null!=he.parseEventName(ce)}addEventListener(ce,Ne,nt){const bt=he.parseEventName(Ne),un=he.eventCallback(bt.fullKey,nt,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,_.q)().onAndCancel(ce,bt.domEventName,un))}static parseEventName(ce){const Ne=ce.toLowerCase().split("."),nt=Ne.shift();if(0===Ne.length||"keydown"!==nt&&"keyup"!==nt)return null;const bt=he._normalizeKey(Ne.pop());let un="",En=Ne.indexOf("code");if(En>-1&&(Ne.splice(En,1),un="code."),Xe.forEach(Oi=>{const ct=Ne.indexOf(Oi);ct>-1&&(Ne.splice(ct,1),un+=Oi+".")}),un+=bt,0!=Ne.length||0===bt.length)return null;const Pr={};return Pr.domEventName=nt,Pr.fullKey=un,Pr}static matchEventFullKeyCode(ce,Ne){let nt=It[ce.key]||ce.key,bt="";return Ne.indexOf("code.")>-1&&(nt=ce.code,bt="code."),!(null==nt||!nt)&&(nt=nt.toLowerCase()," "===nt?nt="space":"."===nt&&(nt="dot"),Xe.forEach(un=>{un!==nt&&(0,Ft[un])(ce)&&(bt+=un+".")}),bt+=nt,bt===Ne)}static eventCallback(ce,Ne,nt){return bt=>{he.matchEventFullKeyCode(bt,ce)&&nt.runGuarded(()=>Ne(bt))}}static _normalizeKey(ce){return"esc"===ce?"escape":ce}}return he.\u0275fac=function(ce){return new(ce||he)(X.LFG(_.K0))},he.\u0275prov=X.Yz7({token:he,factory:he.\u0275fac}),he})();const Or=(0,X.eFA)(X._c5,"browser",[{provide:X.Lbi,useValue:_.bD},{provide:X.g9A,useValue:function Un(){Re.makeCurrent()},multi:!0},{provide:_.K0,useFactory:function Zt(){return(0,X.RDi)(document),document},deps:[]}]),Tn=new X.OlP(""),Ht=[{provide:X.rWj,useClass:class Ae{addToWindow(_e){X.dqk.getAngularTestability=(Ne,nt=!0)=>{const bt=_e.findTestabilityInTree(Ne,nt);if(null==bt)throw new Error("Could not find testability for element.");return bt},X.dqk.getAllAngularTestabilities=()=>_e.getAllTestabilities(),X.dqk.getAllAngularRootElements=()=>_e.getAllRootElements(),X.dqk.frameworkStabilizers||(X.dqk.frameworkStabilizers=[]),X.dqk.frameworkStabilizers.push(Ne=>{const nt=X.dqk.getAllAngularTestabilities();let bt=nt.length,un=!1;const En=function(Pr){un=un||Pr,bt--,0==bt&&Ne(un)};nt.forEach(function(Pr){Pr.whenStable(En)})})}findTestabilityInTree(_e,ce,Ne){return null==ce?null:_e.getTestability(ce)??(Ne?(0,_.q)().isShadowRoot(ce)?this.findTestabilityInTree(_e,ce.host,!0):this.findTestabilityInTree(_e,ce.parentElement,!0):null)}},deps:[]},{provide:X.lri,useClass:X.dDg,deps:[X.R0b,X.eoX,X.rWj]},{provide:X.dDg,useClass:X.dDg,deps:[X.R0b,X.eoX,X.rWj]}],Bn=[{provide:X.zSh,useValue:"root"},{provide:X.qLn,useFactory:function rr(){return new X.qLn},deps:[]},{provide:pt,useClass:Me,multi:!0,deps:[_.K0,X.R0b,X.Lbi]},{provide:pt,useClass:qt,multi:!0,deps:[_.K0]},{provide:Ut,useClass:Ut,deps:[At,wt,X.AFp,Be]},{provide:X.FYo,useExisting:Ut},{provide:at,useExisting:wt},{provide:wt,useClass:wt,deps:[_.K0]},{provide:At,useClass:At,deps:[pt,X.R0b]},{provide:_.JF,useClass:ht,deps:[]},[]];let ar=(()=>{class he{constructor(ce){}static withServerTransition(ce){return{ngModule:he,providers:[{provide:X.AFp,useValue:ce.appId},{provide:Qe,useExisting:X.AFp},fe]}}}return he.\u0275fac=function(ce){return new(ce||he)(X.LFG(Tn,12))},he.\u0275mod=X.oAB({type:he}),he.\u0275inj=X.cJS({providers:[...Bn,...Ht],imports:[_.ez,X.hGG]}),he})(),fn=(()=>{class he{constructor(ce){this._doc=ce}getTitle(){return this._doc.title}setTitle(ce){this._doc.title=ce||""}}return he.\u0275fac=function(ce){return new(ce||he)(X.LFG(_.K0))},he.\u0275prov=X.Yz7({token:he,factory:function(ce){let Ne=null;return Ne=ce?new ce:function Zn(){return new fn((0,X.LFG)(_.K0))}(),Ne},providedIn:"root"}),he})();typeof window<"u"&&window},4778:(rn,it,G)=>{G.d(it,{F0:()=>qr,rH:()=>_a,Od:()=>Ol,Bz:()=>Oo,lC:()=>si});var _=G(4650),X=G(8996),$=G(9646),Re=G(7579);class be extends Re.x{constructor(T){super(),this._value=T}get value(){return this.getValue()}_subscribe(T){const E=super._subscribe(T);return!E.closed&&T.next(this._value),E}getValue(){const{hasError:T,thrownError:E,_value:P}=this;if(T)throw E;return this._throwIfClosed(),P}next(T){super.next(this._value=T)}}var Ve=G(6805),qe=G(9751),Le=G(4742),Qe=G(4671),pe=G(3268),fe=G(7669),Ae=G(1810),ht=G(5403),pt=G(9672);function At(...C){const T=(0,fe.yG)(C),E=(0,fe.jO)(C),{args:P,keys:j}=(0,Le.D)(C);if(0===P.length)return(0,X.D)([],T);const J=new qe.y(function jt(C,T,E=Qe.y){return P=>{at(T,()=>{const{length:j}=C,J=new Array(j);let ae=j,Ke=j;for(let Et=0;Et<j;Et++)at(T,()=>{const Xt=(0,X.D)(C[Et],T);let gn=!1;Xt.subscribe((0,ht.x)(P,fr=>{J[Et]=fr,gn||(gn=!0,Ke--),Ke||P.next(E(J.slice()))},()=>{--ae||P.complete()}))},P)},P)}}(P,T,j?ae=>(0,Ae.n)(j,ae):Qe.y));return E?J.pipe((0,pe.Z)(E)):J}function at(C,T,E){C?(0,pt.f)(E,C,T):T()}var wt=G(8189);function Dt(...C){return function Tt(){return(0,wt.J)(1)}()((0,X.D)(C,(0,fe.yG)(C)))}var Ge=G(8421);function ge(C){return new qe.y(T=>{(0,Ge.Xf)(C()).subscribe(T)})}var lt=G(9635),et=G(576);function ot(C,T){const E=(0,et.m)(C)?C:()=>C,P=j=>j.error(E());return new qe.y(T?j=>T.schedule(P,0,j):P)}var Be=G(515),re=G(727),en=G(4482);function Gt(){return(0,en.e)((C,T)=>{let E=null;C._refCount++;const P=(0,ht.x)(T,void 0,void 0,void 0,()=>{if(!C||C._refCount<=0||0<--C._refCount)return void(E=null);const j=C._connection,J=E;E=null,j&&(!J||j===J)&&j.unsubscribe(),T.unsubscribe()});C.subscribe(P),P.closed||(E=C.connect())})}class Rn extends qe.y{constructor(T,E){super(),this.source=T,this.subjectFactory=E,this._subject=null,this._refCount=0,this._connection=null,(0,en.A)(T)&&(this.lift=T.lift)}_subscribe(T){return this.getSubject().subscribe(T)}getSubject(){const T=this._subject;return(!T||T.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:T}=this;this._subject=this._connection=null,T?.unsubscribe()}connect(){let T=this._connection;if(!T){T=this._connection=new re.w0;const E=this.getSubject();T.add(this.source.subscribe((0,ht.x)(E,void 0,()=>{this._teardown(),E.complete()},P=>{this._teardown(),E.error(P)},()=>this._teardown()))),T.closed&&(this._connection=null,T=re.w0.EMPTY)}return T}refCount(){return Gt()(this)}}var Ut=G(6895),sn=G(4004),Vn=G(3900),on=G(5698),ke=G(9300),Fe=G(5577),Ze=G(590);function Me(C,T){return(0,et.m)(T)?(0,Fe.z)(C,T,1):(0,Fe.z)(C,1)}var Xe=G(8505);function It(C){return(0,en.e)((T,E)=>{let J,P=null,j=!1;P=T.subscribe((0,ht.x)(E,void 0,void 0,ae=>{J=(0,Ge.Xf)(C(ae,It(C)(T))),P?(P.unsubscribe(),P=null,J.subscribe(E)):j=!0})),j&&(P.unsubscribe(),P=null,J.subscribe(E))})}var Ft=G(2940);function qt(C){return C<=0?()=>Be.E:(0,en.e)((T,E)=>{let P=[];T.subscribe((0,ht.x)(E,j=>{P.push(j),C<P.length&&P.shift()},()=>{for(const j of P)E.next(j);E.complete()},void 0,()=>{P=null}))})}var vn=G(8068),zt=G(6590);function Pn(C,T){const E=arguments.length>=2;return P=>P.pipe(C?(0,ke.h)((j,J)=>C(j,J,P)):Qe.y,qt(1),E?(0,zt.d)(T):(0,vn.T)(()=>new Ve.K))}function Un(C){return(0,en.e)((T,E)=>{try{T.subscribe(E)}finally{E.add(C)}})}var rr=G(1481);const Zt="primary",cr=Symbol("RouteTitle");class Or{constructor(T){this.params=T||{}}has(T){return Object.prototype.hasOwnProperty.call(this.params,T)}get(T){if(this.has(T)){const E=this.params[T];return Array.isArray(E)?E[0]:E}return null}getAll(T){if(this.has(T)){const E=this.params[T];return Array.isArray(E)?E:[E]}return[]}get keys(){return Object.keys(this.params)}}function Tn(C){return new Or(C)}function Ht(C,T,E){const P=E.path.split("/");if(P.length>C.length||"full"===E.pathMatch&&(T.hasChildren()||P.length<C.length))return null;const j={};for(let J=0;J<P.length;J++){const ae=P[J],Ke=C[J];if(ae.startsWith(":"))j[ae.substring(1)]=Ke;else if(ae!==Ke.path)return null}return{consumed:C.slice(0,P.length),posParams:j}}function ar(C,T){const E=C?Object.keys(C):void 0,P=T?Object.keys(T):void 0;if(!E||!P||E.length!=P.length)return!1;let j;for(let J=0;J<E.length;J++)if(j=E[J],!kr(C[j],T[j]))return!1;return!0}function kr(C,T){if(Array.isArray(C)&&Array.isArray(T)){if(C.length!==T.length)return!1;const E=[...C].sort(),P=[...T].sort();return E.every((j,J)=>P[J]===j)}return C===T}function xr(C){return Array.prototype.concat.apply([],C)}function dr(C){return C.length>0?C[C.length-1]:null}function fn(C,T){for(const E in C)C.hasOwnProperty(E)&&T(C[E],E)}function Kt(C){return(0,_.CqO)(C)?C:(0,_.QGY)(C)?(0,X.D)(Promise.resolve(C)):(0,$.of)(C)}const mn=!1,ei={exact:function sr(C,T,E){if(!Fr(C.segments,T.segments)||!Nn(C.segments,T.segments,E)||C.numberOfChildren!==T.numberOfChildren)return!1;for(const P in T.children)if(!C.children[P]||!sr(C.children[P],T.children[P],E))return!1;return!0},subset:Fn},Zr={exact:function Mi(C,T){return ar(C,T)},subset:function ci(C,T){return Object.keys(T).length<=Object.keys(C).length&&Object.keys(T).every(E=>kr(C[E],T[E]))},ignored:()=>!0};function Rr(C,T,E){return ei[E.paths](C.root,T.root,E.matrixParams)&&Zr[E.queryParams](C.queryParams,T.queryParams)&&!("exact"===E.fragment&&C.fragment!==T.fragment)}function Fn(C,T,E){return Ir(C,T,T.segments,E)}function Ir(C,T,E,P){if(C.segments.length>E.length){const j=C.segments.slice(0,E.length);return!(!Fr(j,E)||T.hasChildren()||!Nn(j,E,P))}if(C.segments.length===E.length){if(!Fr(C.segments,E)||!Nn(C.segments,E,P))return!1;for(const j in T.children)if(!C.children[j]||!Fn(C.children[j],T.children[j],P))return!1;return!0}{const j=E.slice(0,C.segments.length),J=E.slice(C.segments.length);return!!(Fr(C.segments,j)&&Nn(C.segments,j,P)&&C.children[Zt])&&Ir(C.children[Zt],T,J,P)}}function Nn(C,T,E){return T.every((P,j)=>Zr[E](C[j].parameters,P.parameters))}class Cr{constructor(T=new Ot([],{}),E={},P=null){this.root=T,this.queryParams=E,this.fragment=P}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Tn(this.queryParams)),this._queryParamMap}toString(){return li.serialize(this)}}class Ot{constructor(T,E){this.segments=T,this.children=E,this.parent=null,fn(E,(P,j)=>P.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ce(this)}}class Mr{constructor(T,E){this.path=T,this.parameters=E}get parameterMap(){return this._parameterMap||(this._parameterMap=Tn(this.parameters)),this._parameterMap}toString(){return ce(this)}}function Fr(C,T){return C.length===T.length&&C.every((E,P)=>E.path===T[P].path)}let di=(()=>{class C{}return C.\u0275fac=function(E){return new(E||C)},C.\u0275prov=_.Yz7({token:C,factory:function(){return new ri},providedIn:"root"}),C})();class ri{parse(T){const E=new Je(T);return new Cr(E.parseRootSegment(),E.parseQueryParams(),E.parseFragment())}serialize(T){const E=`/${Ee(T.root,!0)}`,P=function nt(C){const T=Object.keys(C).map(E=>{const P=C[E];return Array.isArray(P)?P.map(j=>`${ue(E)}=${ue(j)}`).join("&"):`${ue(E)}=${ue(P)}`}).filter(E=>!!E);return T.length?`?${T.join("&")}`:""}(T.queryParams);return`${E}${P}${"string"==typeof T.fragment?`#${function te(C){return encodeURI(C)}(T.fragment)}`:""}`}}const li=new ri;function Ce(C){return C.segments.map(T=>ce(T)).join("/")}function Ee(C,T){if(!C.hasChildren())return Ce(C);if(T){const E=C.children[Zt]?Ee(C.children[Zt],!1):"",P=[];return fn(C.children,(j,J)=>{J!==Zt&&P.push(`${J}:${Ee(j,!1)}`)}),P.length>0?`${E}(${P.join("//")})`:E}{const E=function yi(C,T){let E=[];return fn(C.children,(P,j)=>{j===Zt&&(E=E.concat(T(P,j)))}),fn(C.children,(P,j)=>{j!==Zt&&(E=E.concat(T(P,j)))}),E}(C,(P,j)=>j===Zt?[Ee(C.children[Zt],!1)]:[`${j}:${Ee(P,!1)}`]);return 1===Object.keys(C.children).length&&null!=C.children[Zt]?`${Ce(C)}/${E[0]}`:`${Ce(C)}/(${E.join("//")})`}}function oe(C){return encodeURIComponent(C).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ue(C){return oe(C).replace(/%3B/gi,";")}function De(C){return oe(C).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function he(C){return decodeURIComponent(C)}function _e(C){return he(C.replace(/\+/g,"%20"))}function ce(C){return`${De(C.path)}${function Ne(C){return Object.keys(C).map(T=>`;${De(T)}=${De(C[T])}`).join("")}(C.parameters)}`}const bt=/^[^\/()?;=#]+/;function un(C){const T=C.match(bt);return T?T[0]:""}const En=/^[^=?&#]+/,Oi=/^[^&#]+/;class Je{constructor(T){this.url=T,this.remaining=T}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ot([],{}):new Ot([],this.parseChildren())}parseQueryParams(){const T={};if(this.consumeOptional("?"))do{this.parseQueryParam(T)}while(this.consumeOptional("&"));return T}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const T=[];for(this.peekStartsWith("(")||T.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),T.push(this.parseSegment());let E={};this.peekStartsWith("/(")&&(this.capture("/"),E=this.parseParens(!0));let P={};return this.peekStartsWith("(")&&(P=this.parseParens(!1)),(T.length>0||Object.keys(E).length>0)&&(P[Zt]=new Ot(T,E)),P}parseSegment(){const T=un(this.remaining);if(""===T&&this.peekStartsWith(";"))throw new _.vHH(4009,mn);return this.capture(T),new Mr(he(T),this.parseMatrixParams())}parseMatrixParams(){const T={};for(;this.consumeOptional(";");)this.parseParam(T);return T}parseParam(T){const E=un(this.remaining);if(!E)return;this.capture(E);let P="";if(this.consumeOptional("=")){const j=un(this.remaining);j&&(P=j,this.capture(P))}T[he(E)]=he(P)}parseQueryParam(T){const E=function Pr(C){const T=C.match(En);return T?T[0]:""}(this.remaining);if(!E)return;this.capture(E);let P="";if(this.consumeOptional("=")){const ae=function ct(C){const T=C.match(Oi);return T?T[0]:""}(this.remaining);ae&&(P=ae,this.capture(P))}const j=_e(E),J=_e(P);if(T.hasOwnProperty(j)){let ae=T[j];Array.isArray(ae)||(ae=[ae],T[j]=ae),ae.push(J)}else T[j]=J}parseParens(T){const E={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const P=un(this.remaining),j=this.remaining[P.length];if("/"!==j&&")"!==j&&";"!==j)throw new _.vHH(4010,mn);let J;P.indexOf(":")>-1?(J=P.slice(0,P.indexOf(":")),this.capture(J),this.capture(":")):T&&(J=Zt);const ae=this.parseChildren();E[J]=1===Object.keys(ae).length?ae[Zt]:new Ot([],ae),this.consumeOptional("//")}return E}peekStartsWith(T){return this.remaining.startsWith(T)}consumeOptional(T){return!!this.peekStartsWith(T)&&(this.remaining=this.remaining.substring(T.length),!0)}capture(T){if(!this.consumeOptional(T))throw new _.vHH(4011,mn)}}function Pt(C){return C.segments.length>0?new Ot([],{[Zt]:C}):C}function cn(C){const T={};for(const P of Object.keys(C.children)){const J=cn(C.children[P]);(J.segments.length>0||J.hasChildren())&&(T[P]=J)}return function On(C){if(1===C.numberOfChildren&&C.children[Zt]){const T=C.children[Zt];return new Ot(C.segments.concat(T.segments),T.children)}return C}(new Ot(C.segments,T))}function Ln(C){return C instanceof Cr}const dn=!1;function Di(C,T,E,P,j){if(0===E.length)return Ti(T.root,T.root,T.root,P,j);const J=function Qn(C){if("string"==typeof C[0]&&1===C.length&&"/"===C[0])return new Qt(!0,0,C);let T=0,E=!1;const P=C.reduce((j,J,ae)=>{if("object"==typeof J&&null!=J){if(J.outlets){const Ke={};return fn(J.outlets,(Et,Xt)=>{Ke[Xt]="string"==typeof Et?Et.split("/"):Et}),[...j,{outlets:Ke}]}if(J.segmentPath)return[...j,J.segmentPath]}return"string"!=typeof J?[...j,J]:0===ae?(J.split("/").forEach((Ke,Et)=>{0==Et&&"."===Ke||(0==Et&&""===Ke?E=!0:".."===Ke?T++:""!=Ke&&j.push(Ke))}),j):[...j,J]},[]);return new Qt(E,T,P)}(E);return J.toRoot()?Ti(T.root,T.root,new Ot([],{}),P,j):function ae(Et){const Xt=function Fi(C,T,E,P){if(C.isAbsolute)return new mr(T.root,!0,0);if(-1===P)return new mr(E,E===T.root,0);return function hi(C,T,E){let P=C,j=T,J=E;for(;J>j;){if(J-=j,P=P.parent,!P)throw new _.vHH(4005,dn&&"Invalid number of '../'");j=P.segments.length}return new mr(P,!1,j-J)}(E,P+(Vs(C.commands[0])?0:1),C.numberOfDoubleDots)}(J,T,C.snapshot?._urlSegment,Et),gn=Xt.processChildren?$e(Xt.segmentGroup,Xt.index,J.commands):Qr(Xt.segmentGroup,Xt.index,J.commands);return Ti(T.root,Xt.segmentGroup,gn,P,j)}(C.snapshot?._lastPathIndex)}function Vs(C){return"object"==typeof C&&null!=C&&!C.outlets&&!C.segmentPath}function ki(C){return"object"==typeof C&&null!=C&&C.outlets}function Ti(C,T,E,P,j){let ae,J={};P&&fn(P,(Et,Xt)=>{J[Xt]=Array.isArray(Et)?Et.map(gn=>`${gn}`):`${Et}`}),ae=C===T?E:_i(C,T,E);const Ke=Pt(cn(ae));return new Cr(Ke,J,j)}function _i(C,T,E){const P={};return fn(C.children,(j,J)=>{P[J]=j===T?E:_i(j,T,E)}),new Ot(C.segments,P)}class Qt{constructor(T,E,P){if(this.isAbsolute=T,this.numberOfDoubleDots=E,this.commands=P,T&&P.length>0&&Vs(P[0]))throw new _.vHH(4003,dn&&"Root segment cannot have matrix parameters");const j=P.find(ki);if(j&&j!==dr(P))throw new _.vHH(4004,dn&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class mr{constructor(T,E,P){this.segmentGroup=T,this.processChildren=E,this.index=P}}function Qr(C,T,E){if(C||(C=new Ot([],{})),0===C.segments.length&&C.hasChildren())return $e(C,T,E);const P=function xe(C,T,E){let P=0,j=T;const J={match:!1,pathIndex:0,commandIndex:0};for(;j<C.segments.length;){if(P>=E.length)return J;const ae=C.segments[j],Ke=E[P];if(ki(Ke))break;const Et=`${Ke}`,Xt=P<E.length-1?E[P+1]:null;if(j>0&&void 0===Et)break;if(Et&&Xt&&"object"==typeof Xt&&void 0===Xt.outlets){if(!An(Et,Xt,ae))return J;P+=2}else{if(!An(Et,{},ae))return J;P++}j++}return{match:!0,pathIndex:j,commandIndex:P}}(C,T,E),j=E.slice(P.commandIndex);if(P.match&&P.pathIndex<C.segments.length){const J=new Ot(C.segments.slice(0,P.pathIndex),{});return J.children[Zt]=new Ot(C.segments.slice(P.pathIndex),C.children),$e(J,0,j)}return P.match&&0===j.length?new Ot(C.segments,{}):P.match&&!C.hasChildren()?Pe(C,T,E):P.match?$e(C,0,j):Pe(C,T,E)}function $e(C,T,E){if(0===E.length)return new Ot(C.segments,{});{const P=function to(C){return ki(C[0])?C[0].outlets:{[Zt]:C}}(E),j={};if(!P[Zt]&&C.children[Zt]&&1===C.numberOfChildren&&0===C.children[Zt].segments.length){const J=$e(C.children[Zt],T,E);return new Ot(C.segments,J.children)}return fn(P,(J,ae)=>{"string"==typeof J&&(J=[J]),null!==J&&(j[ae]=Qr(C.children[ae],T,J))}),fn(C.children,(J,ae)=>{void 0===P[ae]&&(j[ae]=J)}),new Ot(C.segments,j)}}function Pe(C,T,E){const P=C.segments.slice(0,T);let j=0;for(;j<E.length;){const J=E[j];if(ki(J)){const Et=ft(J.outlets);return new Ot(P,Et)}if(0===j&&Vs(E[0])){P.push(new Mr(C.segments[T].path,Nt(E[0]))),j++;continue}const ae=ki(J)?J.outlets[Zt]:`${J}`,Ke=j<E.length-1?E[j+1]:null;ae&&Ke&&Vs(Ke)?(P.push(new Mr(ae,Nt(Ke))),j+=2):(P.push(new Mr(ae,{})),j++)}return new Ot(P,{})}function ft(C){const T={};return fn(C,(E,P)=>{"string"==typeof E&&(E=[E]),null!==E&&(T[P]=Pe(new Ot([],{}),0,E))}),T}function Nt(C){const T={};return fn(C,(E,P)=>T[P]=`${E}`),T}function An(C,T,E){return C==E.path&&ar(T,E.parameters)}const Kn="imperative";class wn{constructor(T,E){this.id=T,this.url=E}}class hr extends wn{constructor(T,E,P="imperative",j=null){super(T,E),this.type=0,this.navigationTrigger=P,this.restoredState=j}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Li extends wn{constructor(T,E,P){super(T,E),this.urlAfterRedirects=P,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Vi extends wn{constructor(T,E,P,j){super(T,E),this.reason=P,this.code=j,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class vi extends wn{constructor(T,E,P,j){super(T,E),this.reason=P,this.code=j,this.type=16}}class Ki extends wn{constructor(T,E,P,j){super(T,E),this.error=P,this.target=j,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class ti extends wn{constructor(T,E,P,j){super(T,E),this.urlAfterRedirects=P,this.state=j,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class os extends wn{constructor(T,E,P,j){super(T,E),this.urlAfterRedirects=P,this.state=j,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Co extends wn{constructor(T,E,P,j,J){super(T,E),this.urlAfterRedirects=P,this.state=j,this.shouldActivate=J,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Ps extends wn{constructor(T,E,P,j){super(T,E),this.urlAfterRedirects=P,this.state=j,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Tr extends wn{constructor(T,E,P,j){super(T,E),this.urlAfterRedirects=P,this.state=j,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ur{constructor(T){this.route=T,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class zn{constructor(T){this.route=T,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ii{constructor(T){this.snapshot=T,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Gr{constructor(T){this.snapshot=T,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ji{constructor(T){this.snapshot=T,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _s{constructor(T){this.snapshot=T,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ts{constructor(T,E,P){this.routerEvent=T,this.position=E,this.anchor=P,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let $n=(()=>{class C{createUrlTree(E,P,j,J,ae,Ke){return Di(E||P.root,j,J,ae,Ke)}}return C.\u0275fac=function(E){return new(E||C)},C.\u0275prov=_.Yz7({token:C,factory:C.\u0275fac}),C})(),no=(()=>{class C{}return C.\u0275fac=function(E){return new(E||C)},C.\u0275prov=_.Yz7({token:C,factory:function(T){return $n.\u0275fac(T)},providedIn:"root"}),C})();class Us{constructor(T){this._root=T}get root(){return this._root.value}parent(T){const E=this.pathFromRoot(T);return E.length>1?E[E.length-2]:null}children(T){const E=Ei(T,this._root);return E?E.children.map(P=>P.value):[]}firstChild(T){const E=Ei(T,this._root);return E&&E.children.length>0?E.children[0].value:null}siblings(T){const E=Ca(T,this._root);return E.length<2?[]:E[E.length-2].children.map(j=>j.value).filter(j=>j!==T)}pathFromRoot(T){return Ca(T,this._root).map(E=>E.value)}}function Ei(C,T){if(C===T.value)return T;for(const E of T.children){const P=Ei(C,E);if(P)return P}return null}function Ca(C,T){if(C===T.value)return[T];for(const E of T.children){const P=Ca(C,E);if(P.length)return P.unshift(T),P}return[]}class Ws{constructor(T,E){this.value=T,this.children=E}toString(){return`TreeNode(${this.value})`}}function Ks(C){const T={};return C&&C.children.forEach(E=>T[E.value.outlet]=E),T}class ta extends Us{constructor(T,E){super(T),this.snapshot=E,So(this,T)}toString(){return this.snapshot.toString()}}function ro(C,T){const E=function qs(C,T){const ae=new Ss([],{},{},"",{},Zt,T,null,C.root,-1,{});return new Xr("",new Ws(ae,[]))}(C,T),P=new be([new Mr("",{})]),j=new be({}),J=new be({}),ae=new be({}),Ke=new be(""),Et=new $i(P,j,ae,Ke,J,Zt,T,E.root);return Et.snapshot=E.root,new ta(new Ws(Et,[]),E)}class $i{constructor(T,E,P,j,J,ae,Ke,Et){this.url=T,this.params=E,this.queryParams=P,this.fragment=j,this.data=J,this.outlet=ae,this.component=Ke,this.title=this.data?.pipe((0,sn.U)(Xt=>Xt[cr]))??(0,$.of)(void 0),this._futureSnapshot=Et}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,sn.U)(T=>Tn(T)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,sn.U)(T=>Tn(T)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function To(C,T="emptyOnly"){const E=C.pathFromRoot;let P=0;if("always"!==T)for(P=E.length-1;P>=1;){const j=E[P],J=E[P-1];if(j.routeConfig&&""===j.routeConfig.path)P--;else{if(J.component)break;P--}}return function jo(C){return C.reduce((T,E)=>({params:{...T.params,...E.params},data:{...T.data,...E.data},resolve:{...E.data,...T.resolve,...E.routeConfig?.data,...E._resolvedData}}),{params:{},data:{},resolve:{}})}(E.slice(P))}class Ss{get title(){return this.data?.[cr]}constructor(T,E,P,j,J,ae,Ke,Et,Xt,gn,fr){this.url=T,this.params=E,this.queryParams=P,this.fragment=j,this.data=J,this.outlet=ae,this.component=Ke,this.routeConfig=Et,this._urlSegment=Xt,this._lastPathIndex=gn,this._resolve=fr}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Tn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Tn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(P=>P.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Xr extends Us{constructor(T,E){super(E),this.url=T,So(this,E)}toString(){return Ns(this._root)}}function So(C,T){T.value._routerState=C,T.children.forEach(E=>So(C,E))}function Ns(C){const T=C.children.length>0?` { ${C.children.map(Ns).join(", ")} } `:"";return`${C.value}${T}`}function Z(C){if(C.snapshot){const T=C.snapshot,E=C._futureSnapshot;C.snapshot=E,ar(T.queryParams,E.queryParams)||C.queryParams.next(E.queryParams),T.fragment!==E.fragment&&C.fragment.next(E.fragment),ar(T.params,E.params)||C.params.next(E.params),function Bn(C,T){if(C.length!==T.length)return!1;for(let E=0;E<C.length;++E)if(!ar(C[E],T[E]))return!1;return!0}(T.url,E.url)||C.url.next(E.url),ar(T.data,E.data)||C.data.next(E.data)}else C.snapshot=C._futureSnapshot,C.data.next(C._futureSnapshot.data)}function z(C,T){const E=ar(C.params,T.params)&&function ni(C,T){return Fr(C,T)&&C.every((E,P)=>ar(E.parameters,T[P].parameters))}(C.url,T.url);return E&&!(!C.parent!=!T.parent)&&(!C.parent||z(C.parent,T.parent))}function Te(C,T,E){if(E&&C.shouldReuseRoute(T.value,E.value.snapshot)){const P=E.value;P._futureSnapshot=T.value;const j=function We(C,T,E){return T.children.map(P=>{for(const j of E.children)if(C.shouldReuseRoute(P.value,j.value.snapshot))return Te(C,P,j);return Te(C,P)})}(C,T,E);return new Ws(P,j)}{if(C.shouldAttach(T.value)){const J=C.retrieve(T.value);if(null!==J){const ae=J.route;return ae.value._futureSnapshot=T.value,ae.children=T.children.map(Ke=>Te(C,Ke)),ae}}const P=function _t(C){return new $i(new be(C.url),new be(C.params),new be(C.queryParams),new be(C.fragment),new be(C.data),C.outlet,C.component,C)}(T.value),j=T.children.map(J=>Te(C,J));return new Ws(P,j)}}const $t="ngNavigationCancelingError";function tn(C,T){const{redirectTo:E,navigationBehaviorOptions:P}=Ln(T)?{redirectTo:T,navigationBehaviorOptions:void 0}:T,j=hn(!1,0,T);return j.url=E,j.navigationBehaviorOptions=P,j}function hn(C,T,E){const P=new Error("NavigationCancelingError: "+(C||""));return P[$t]=!0,P.cancellationCode=T,E&&(P.url=E),P}function Sn(C){return ir(C)&&Ln(C.url)}function ir(C){return C&&C[$t]}class fi{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new zr,this.attachRef=null}}let zr=(()=>{class C{constructor(){this.contexts=new Map}onChildOutletCreated(E,P){const j=this.getOrCreateContext(E);j.outlet=P,this.contexts.set(E,j)}onChildOutletDestroyed(E){const P=this.getContext(E);P&&(P.outlet=null,P.attachRef=null)}onOutletDeactivated(){const E=this.contexts;return this.contexts=new Map,E}onOutletReAttached(E){this.contexts=E}getOrCreateContext(E){let P=this.getContext(E);return P||(P=new fi,this.contexts.set(E,P)),P}getContext(E){return this.contexts.get(E)||null}}return C.\u0275fac=function(E){return new(E||C)},C.\u0275prov=_.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})();const pi=!1;let si=(()=>{class C{constructor(){this.activated=null,this._activatedRoute=null,this.name=Zt,this.activateEvents=new _.vpe,this.deactivateEvents=new _.vpe,this.attachEvents=new _.vpe,this.detachEvents=new _.vpe,this.parentContexts=(0,_.f3M)(zr),this.location=(0,_.f3M)(_.s_b),this.changeDetector=(0,_.f3M)(_.sBO),this.environmentInjector=(0,_.f3M)(_.lqb)}ngOnChanges(E){if(E.name){const{firstChange:P,previousValue:j}=E.name;if(P)return;this.isTrackedInParentContexts(j)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(j)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(E){return this.parentContexts.getContext(E)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const E=this.parentContexts.getContext(this.name);E?.route&&(E.attachRef?this.attach(E.attachRef,E.route):this.activateWith(E.route,E.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new _.vHH(4012,pi);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new _.vHH(4012,pi);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new _.vHH(4012,pi);this.location.detach();const E=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(E.instance),E}attach(E,P){this.activated=E,this._activatedRoute=P,this.location.insert(E.hostView),this.attachEvents.emit(E.instance)}deactivate(){if(this.activated){const E=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(E)}}activateWith(E,P){if(this.isActivated)throw new _.vHH(4013,pi);this._activatedRoute=E;const j=this.location,ae=E.snapshot.component,Ke=this.parentContexts.getOrCreateContext(this.name).children,Et=new Sr(E,Ke,j.injector);if(P&&function wi(C){return!!C.resolveComponentFactory}(P)){const Xt=P.resolveComponentFactory(ae);this.activated=j.createComponent(Xt,j.length,Et)}else this.activated=j.createComponent(ae,{index:j.length,injector:Et,environmentInjector:P??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return C.\u0275fac=function(E){return new(E||C)},C.\u0275dir=_.lG2({type:C,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[_.TTD]}),C})();class Sr{constructor(T,E,P){this.route=T,this.childContexts=E,this.parent=P}get(T,E){return T===$i?this.route:T===zr?this.childContexts:this.parent.get(T,E)}}let Ni=(()=>{class C{}return C.\u0275fac=function(E){return new(E||C)},C.\u0275cmp=_.Xpm({type:C,selectors:[["ng-component"]],standalone:!0,features:[_.jDz],decls:1,vars:0,template:function(E,P){1&E&&_._UZ(0,"router-outlet")},dependencies:[si],encapsulation:2}),C})();function Wr(C,T){return C.providers&&!C._injector&&(C._injector=(0,_.MMx)(C.providers,T,`Route: ${C.path}`)),C._injector??T}function xs(C){const T=C.children&&C.children.map(xs),E=T?{...C,children:T}:{...C};return!E.component&&!E.loadComponent&&(T||E.loadChildren)&&E.outlet&&E.outlet!==Zt&&(E.component=Ni),E}function es(C){return C.outlet||Zt}function ts(C,T){const E=C.filter(P=>es(P)===T);return E.push(...C.filter(P=>es(P)!==T)),E}function vs(C){if(!C)return null;if(C.routeConfig?._injector)return C.routeConfig._injector;for(let T=C.parent;T;T=T.parent){const E=T.routeConfig;if(E?._loadedInjector)return E._loadedInjector;if(E?._injector)return E._injector}return null}class Yn{constructor(T,E,P,j){this.routeReuseStrategy=T,this.futureState=E,this.currState=P,this.forwardEvent=j}activate(T){const E=this.futureState._root,P=this.currState?this.currState._root:null;this.deactivateChildRoutes(E,P,T),Z(this.futureState.root),this.activateChildRoutes(E,P,T)}deactivateChildRoutes(T,E,P){const j=Ks(E);T.children.forEach(J=>{const ae=J.value.outlet;this.deactivateRoutes(J,j[ae],P),delete j[ae]}),fn(j,(J,ae)=>{this.deactivateRouteAndItsChildren(J,P)})}deactivateRoutes(T,E,P){const j=T.value,J=E?E.value:null;if(j===J)if(j.component){const ae=P.getContext(j.outlet);ae&&this.deactivateChildRoutes(T,E,ae.children)}else this.deactivateChildRoutes(T,E,P);else J&&this.deactivateRouteAndItsChildren(E,P)}deactivateRouteAndItsChildren(T,E){T.value.component&&this.routeReuseStrategy.shouldDetach(T.value.snapshot)?this.detachAndStoreRouteSubtree(T,E):this.deactivateRouteAndOutlet(T,E)}detachAndStoreRouteSubtree(T,E){const P=E.getContext(T.value.outlet),j=P&&T.value.component?P.children:E,J=Ks(T);for(const ae of Object.keys(J))this.deactivateRouteAndItsChildren(J[ae],j);if(P&&P.outlet){const ae=P.outlet.detach(),Ke=P.children.onOutletDeactivated();this.routeReuseStrategy.store(T.value.snapshot,{componentRef:ae,route:T,contexts:Ke})}}deactivateRouteAndOutlet(T,E){const P=E.getContext(T.value.outlet),j=P&&T.value.component?P.children:E,J=Ks(T);for(const ae of Object.keys(J))this.deactivateRouteAndItsChildren(J[ae],j);P&&(P.outlet&&(P.outlet.deactivate(),P.children.onOutletDeactivated()),P.attachRef=null,P.resolver=null,P.route=null)}activateChildRoutes(T,E,P){const j=Ks(E);T.children.forEach(J=>{this.activateRoutes(J,j[J.value.outlet],P),this.forwardEvent(new _s(J.value.snapshot))}),T.children.length&&this.forwardEvent(new Gr(T.value.snapshot))}activateRoutes(T,E,P){const j=T.value,J=E?E.value:null;if(Z(j),j===J)if(j.component){const ae=P.getOrCreateContext(j.outlet);this.activateChildRoutes(T,E,ae.children)}else this.activateChildRoutes(T,E,P);else if(j.component){const ae=P.getOrCreateContext(j.outlet);if(this.routeReuseStrategy.shouldAttach(j.snapshot)){const Ke=this.routeReuseStrategy.retrieve(j.snapshot);this.routeReuseStrategy.store(j.snapshot,null),ae.children.onOutletReAttached(Ke.contexts),ae.attachRef=Ke.componentRef,ae.route=Ke.route.value,ae.outlet&&ae.outlet.attach(Ke.componentRef,Ke.route.value),Z(Ke.route.value),this.activateChildRoutes(T,null,ae.children)}else{const Ke=vs(j.snapshot),Et=Ke?.get(_._Vd)??null;ae.attachRef=null,ae.route=j,ae.resolver=Et,ae.injector=Ke,ae.outlet&&ae.outlet.activateWith(j,ae.injector),this.activateChildRoutes(T,null,ae.children)}}else this.activateChildRoutes(T,null,P)}}class Ys{constructor(T){this.path=T,this.route=this.path[this.path.length-1]}}class Da{constructor(T,E){this.component=T,this.route=E}}function tr(C,T,E){const P=C._root;return ra(P,T?T._root:null,E,[P.value])}function na(C,T){const E=Symbol(),P=T.get(C,E);return P===E?"function"!=typeof C||(0,_.Z0I)(C)?T.get(C):C:P}function ra(C,T,E,P,j={canDeactivateChecks:[],canActivateChecks:[]}){const J=Ks(T);return C.children.forEach(ae=>{(function el(C,T,E,P,j={canDeactivateChecks:[],canActivateChecks:[]}){const J=C.value,ae=T?T.value:null,Ke=E?E.getContext(C.value.outlet):null;if(ae&&J.routeConfig===ae.routeConfig){const Et=function da(C,T,E){if("function"==typeof E)return E(C,T);switch(E){case"pathParamsChange":return!Fr(C.url,T.url);case"pathParamsOrQueryParamsChange":return!Fr(C.url,T.url)||!ar(C.queryParams,T.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!z(C,T)||!ar(C.queryParams,T.queryParams);default:return!z(C,T)}}(ae,J,J.routeConfig.runGuardsAndResolvers);Et?j.canActivateChecks.push(new Ys(P)):(J.data=ae.data,J._resolvedData=ae._resolvedData),ra(C,T,J.component?Ke?Ke.children:null:E,P,j),Et&&Ke&&Ke.outlet&&Ke.outlet.isActivated&&j.canDeactivateChecks.push(new Da(Ke.outlet.component,ae))}else ae&&x(T,Ke,j),j.canActivateChecks.push(new Ys(P)),ra(C,null,J.component?Ke?Ke.children:null:E,P,j)})(ae,J[ae.value.outlet],E,P.concat([ae.value]),j),delete J[ae.value.outlet]}),fn(J,(ae,Ke)=>x(ae,E.getContext(Ke),j)),j}function x(C,T,E){const P=Ks(C),j=C.value;fn(P,(J,ae)=>{x(J,j.component?T?T.children.getContext(ae):null:T,E)}),E.canDeactivateChecks.push(new Da(j.component&&T&&T.outlet&&T.outlet.isActivated?T.outlet.component:null,j))}function U(C){return"function"==typeof C}function po(C){return C instanceof Ve.K||"EmptyError"===C?.name}const bs=Symbol("INITIAL_VALUE");function Es(){return(0,Vn.w)(C=>At(C.map(T=>T.pipe((0,on.q)(1),function Gn(...C){const T=(0,fe.yG)(C);return(0,en.e)((E,P)=>{(T?Dt(C,E,T):Dt(C,E)).subscribe(P)})}(bs)))).pipe((0,sn.U)(T=>{for(const E of T)if(!0!==E){if(E===bs)return bs;if(!1===E||E instanceof Cr)return E}return!0}),(0,ke.h)(T=>T!==bs),(0,on.q)(1)))}function ji(C){return(0,lt.z)((0,Xe.b)(T=>{if(Ln(T))throw tn(0,T)}),(0,sn.U)(T=>!0===T))}const ha={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function tl(C,T,E,P,j){const J=go(C,T,E);return J.matched?function Sa(C,T,E,P){const j=T.canMatch;if(!j||0===j.length)return(0,$.of)(!0);const J=j.map(ae=>{const Ke=na(ae,C);return Kt(function xi(C){return C&&U(C.canMatch)}(Ke)?Ke.canMatch(T,E):C.runInContext(()=>Ke(T,E)))});return(0,$.of)(J).pipe(Es(),ji())}(P=Wr(T,P),T,E).pipe((0,sn.U)(ae=>!0===ae?J:{...ha})):(0,$.of)(J)}function go(C,T,E){if(""===T.path)return"full"===T.pathMatch&&(C.hasChildren()||E.length>0)?{...ha}:{matched:!0,consumedSegments:[],remainingSegments:E,parameters:{},positionalParamSegments:{}};const j=(T.matcher||Ht)(E,C,T);if(!j)return{...ha};const J={};fn(j.posParams,(Ke,Et)=>{J[Et]=Ke.path});const ae=j.consumed.length>0?{...J,...j.consumed[j.consumed.length-1].parameters}:J;return{matched:!0,consumedSegments:j.consumed,remainingSegments:E.slice(j.consumed.length),parameters:ae,positionalParamSegments:j.posParams??{}}}function La(C,T,E,P){if(E.length>0&&function fa(C,T,E){return E.some(P=>rs(C,T,P)&&es(P)!==Zt)}(C,E,P)){const J=new Ot(T,function Bs(C,T,E,P){const j={};j[Zt]=P,P._sourceSegment=C,P._segmentIndexShift=T.length;for(const J of E)if(""===J.path&&es(J)!==Zt){const ae=new Ot([],{});ae._sourceSegment=C,ae._segmentIndexShift=T.length,j[es(J)]=ae}return j}(C,T,P,new Ot(E,C.children)));return J._sourceSegment=C,J._segmentIndexShift=T.length,{segmentGroup:J,slicedSegments:[]}}if(0===E.length&&function pa(C,T,E){return E.some(P=>rs(C,T,P))}(C,E,P)){const J=new Ot(C.segments,function ba(C,T,E,P,j){const J={};for(const ae of P)if(rs(C,E,ae)&&!j[es(ae)]){const Ke=new Ot([],{});Ke._sourceSegment=C,Ke._segmentIndexShift=T.length,J[es(ae)]=Ke}return{...j,...J}}(C,T,E,P,C.children));return J._sourceSegment=C,J._segmentIndexShift=T.length,{segmentGroup:J,slicedSegments:E}}const j=new Ot(C.segments,C.children);return j._sourceSegment=C,j._segmentIndexShift=T.length,{segmentGroup:j,slicedSegments:E}}function rs(C,T,E){return(!(C.hasChildren()||T.length>0)||"full"!==E.pathMatch)&&""===E.path}function Aa(C,T,E,P){return!!(es(C)===P||P!==Zt&&rs(T,E,C))&&("**"===C.path||go(T,C,E).matched)}function oa(C,T,E){return 0===T.length&&!C.children[E]}const Os=!1;class Zi{constructor(T){this.segmentGroup=T||null}}class Ai{constructor(T){this.urlTree=T}}function gi(C){return ot(new Zi(C))}function oi(C){return ot(new Ai(C))}class Ua{constructor(T,E,P,j,J){this.injector=T,this.configLoader=E,this.urlSerializer=P,this.urlTree=j,this.config=J,this.allowRedirects=!0}apply(){const T=La(this.urlTree.root,[],[],this.config).segmentGroup,E=new Ot(T.segments,T.children);return this.expandSegmentGroup(this.injector,this.config,E,Zt).pipe((0,sn.U)(J=>this.createUrlTree(cn(J),this.urlTree.queryParams,this.urlTree.fragment))).pipe(It(J=>{if(J instanceof Ai)return this.allowRedirects=!1,this.match(J.urlTree);throw J instanceof Zi?this.noMatchError(J):J}))}match(T){return this.expandSegmentGroup(this.injector,this.config,T.root,Zt).pipe((0,sn.U)(j=>this.createUrlTree(cn(j),T.queryParams,T.fragment))).pipe(It(j=>{throw j instanceof Zi?this.noMatchError(j):j}))}noMatchError(T){return new _.vHH(4002,Os)}createUrlTree(T,E,P){const j=Pt(T);return new Cr(j,E,P)}expandSegmentGroup(T,E,P,j){return 0===P.segments.length&&P.hasChildren()?this.expandChildren(T,E,P).pipe((0,sn.U)(J=>new Ot([],J))):this.expandSegment(T,P,E,P.segments,j,!0)}expandChildren(T,E,P){const j=[];for(const J of Object.keys(P.children))"primary"===J?j.unshift(J):j.push(J);return(0,X.D)(j).pipe(Me(J=>{const ae=P.children[J],Ke=ts(E,J);return this.expandSegmentGroup(T,Ke,ae,J).pipe((0,sn.U)(Et=>({segment:Et,outlet:J})))}),(0,Ft.R)((J,ae)=>(J[ae.outlet]=ae.segment,J),{}),Pn())}expandSegment(T,E,P,j,J,ae){return(0,X.D)(P).pipe(Me(Ke=>this.expandSegmentAgainstRoute(T,E,P,Ke,j,J,ae).pipe(It(Xt=>{if(Xt instanceof Zi)return(0,$.of)(null);throw Xt}))),(0,Ze.P)(Ke=>!!Ke),It((Ke,Et)=>{if(po(Ke))return oa(E,j,J)?(0,$.of)(new Ot([],{})):gi(E);throw Ke}))}expandSegmentAgainstRoute(T,E,P,j,J,ae,Ke){return Aa(j,E,J,ae)?void 0===j.redirectTo?this.matchSegmentAgainstRoute(T,E,j,J,ae):Ke&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(T,E,P,j,J,ae):gi(E):gi(E)}expandSegmentAgainstRouteUsingRedirect(T,E,P,j,J,ae){return"**"===j.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(T,P,j,ae):this.expandRegularSegmentAgainstRouteUsingRedirect(T,E,P,j,J,ae)}expandWildCardWithParamsAgainstRouteUsingRedirect(T,E,P,j){const J=this.applyRedirectCommands([],P.redirectTo,{});return P.redirectTo.startsWith("/")?oi(J):this.lineralizeSegments(P,J).pipe((0,Fe.z)(ae=>{const Ke=new Ot(ae,{});return this.expandSegment(T,Ke,E,ae,j,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(T,E,P,j,J,ae){const{matched:Ke,consumedSegments:Et,remainingSegments:Xt,positionalParamSegments:gn}=go(E,j,J);if(!Ke)return gi(E);const fr=this.applyRedirectCommands(Et,j.redirectTo,gn);return j.redirectTo.startsWith("/")?oi(fr):this.lineralizeSegments(j,fr).pipe((0,Fe.z)(Cs=>this.expandSegment(T,E,P,Cs.concat(Xt),ae,!1)))}matchSegmentAgainstRoute(T,E,P,j,J){return"**"===P.path?(T=Wr(P,T),P.loadChildren?(P._loadedRoutes?(0,$.of)({routes:P._loadedRoutes,injector:P._loadedInjector}):this.configLoader.loadChildren(T,P)).pipe((0,sn.U)(Ke=>(P._loadedRoutes=Ke.routes,P._loadedInjector=Ke.injector,new Ot(j,{})))):(0,$.of)(new Ot(j,{}))):tl(E,P,j,T).pipe((0,Vn.w)(({matched:ae,consumedSegments:Ke,remainingSegments:Et})=>ae?this.getChildConfig(T=P._injector??T,P,j).pipe((0,Fe.z)(gn=>{const fr=gn.injector??T,Cs=gn.routes,{segmentGroup:_o,slicedSegments:Yo}=La(E,Ke,Et,Cs),Zo=new Ot(_o.segments,_o.children);if(0===Yo.length&&Zo.hasChildren())return this.expandChildren(fr,Cs,Zo).pipe((0,sn.U)(il=>new Ot(Ke,il)));if(0===Cs.length&&0===Yo.length)return(0,$.of)(new Ot(Ke,{}));const ns=es(P)===J;return this.expandSegment(fr,Zo,Cs,Yo,ns?Zt:J,!0).pipe((0,sn.U)(Fl=>new Ot(Ke.concat(Fl.segments),Fl.children)))})):gi(E)))}getChildConfig(T,E,P){return E.children?(0,$.of)({routes:E.children,injector:T}):E.loadChildren?void 0!==E._loadedRoutes?(0,$.of)({routes:E._loadedRoutes,injector:E._loadedInjector}):function ml(C,T,E,P){const j=T.canLoad;if(void 0===j||0===j.length)return(0,$.of)(!0);const J=j.map(ae=>{const Ke=na(ae,C);return Kt(function ie(C){return C&&U(C.canLoad)}(Ke)?Ke.canLoad(T,E):C.runInContext(()=>Ke(T,E)))});return(0,$.of)(J).pipe(Es(),ji())}(T,E,P).pipe((0,Fe.z)(j=>j?this.configLoader.loadChildren(T,E).pipe((0,Xe.b)(J=>{E._loadedRoutes=J.routes,E._loadedInjector=J.injector})):function Va(C){return ot(hn(Os,3))}())):(0,$.of)({routes:[],injector:T})}lineralizeSegments(T,E){let P=[],j=E.root;for(;;){if(P=P.concat(j.segments),0===j.numberOfChildren)return(0,$.of)(P);if(j.numberOfChildren>1||!j.children[Zt])return T.redirectTo,ot(new _.vHH(4e3,Os));j=j.children[Zt]}}applyRedirectCommands(T,E,P){return this.applyRedirectCreateUrlTree(E,this.urlSerializer.parse(E),T,P)}applyRedirectCreateUrlTree(T,E,P,j){const J=this.createSegmentGroup(T,E.root,P,j);return new Cr(J,this.createQueryParams(E.queryParams,this.urlTree.queryParams),E.fragment)}createQueryParams(T,E){const P={};return fn(T,(j,J)=>{if("string"==typeof j&&j.startsWith(":")){const Ke=j.substring(1);P[J]=E[Ke]}else P[J]=j}),P}createSegmentGroup(T,E,P,j){const J=this.createSegments(T,E.segments,P,j);let ae={};return fn(E.children,(Ke,Et)=>{ae[Et]=this.createSegmentGroup(T,Ke,P,j)}),new Ot(J,ae)}createSegments(T,E,P,j){return E.map(J=>J.path.startsWith(":")?this.findPosParam(T,J,j):this.findOrReturn(J,P))}findPosParam(T,E,P){const j=P[E.path.substring(1)];if(!j)throw new _.vHH(4001,Os);return j}findOrReturn(T,E){let P=0;for(const j of E){if(j.path===T.path)return E.splice(P),j;P++}return T}}class ga{}class W{constructor(T,E,P,j,J,ae,Ke){this.injector=T,this.rootComponentType=E,this.config=P,this.urlTree=j,this.url=J,this.paramsInheritanceStrategy=ae,this.urlSerializer=Ke}recognize(){const T=La(this.urlTree.root,[],[],this.config.filter(E=>void 0===E.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,T,Zt).pipe((0,sn.U)(E=>{if(null===E)return null;const P=new Ss([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Zt,this.rootComponentType,null,this.urlTree.root,-1,{}),j=new Ws(P,E),J=new Xr(this.url,j);return this.inheritParamsAndData(J._root),J}))}inheritParamsAndData(T){const E=T.value,P=To(E,this.paramsInheritanceStrategy);E.params=Object.freeze(P.params),E.data=Object.freeze(P.data),T.children.forEach(j=>this.inheritParamsAndData(j))}processSegmentGroup(T,E,P,j){return 0===P.segments.length&&P.hasChildren()?this.processChildren(T,E,P):this.processSegment(T,E,P,P.segments,j)}processChildren(T,E,P){return(0,X.D)(Object.keys(P.children)).pipe(Me(j=>{const J=P.children[j],ae=ts(E,j);return this.processSegmentGroup(T,ae,J,j)}),(0,Ft.R)((j,J)=>j&&J?(j.push(...J),j):null),function _r(C,T=!1){return(0,en.e)((E,P)=>{let j=0;E.subscribe((0,ht.x)(P,J=>{const ae=C(J,j++);(ae||T)&&P.next(J),!ae&&P.complete()}))})}(j=>null!==j),(0,zt.d)(null),Pn(),(0,sn.U)(j=>{if(null===j)return null;const J=dt(j);return function F(C){C.sort((T,E)=>T.value.outlet===Zt?-1:E.value.outlet===Zt?1:T.value.outlet.localeCompare(E.value.outlet))}(J),J}))}processSegment(T,E,P,j,J){return(0,X.D)(E).pipe(Me(ae=>this.processSegmentAgainstRoute(ae._injector??T,ae,P,j,J)),(0,Ze.P)(ae=>!!ae),It(ae=>{if(po(ae))return oa(P,j,J)?(0,$.of)([]):(0,$.of)(null);throw ae}))}processSegmentAgainstRoute(T,E,P,j,J){if(E.redirectTo||!Aa(E,P,j,J))return(0,$.of)(null);let ae;if("**"===E.path){const Ke=j.length>0?dr(j).parameters:{},Et=br(P)+j.length,Xt=new Ss(j,Ke,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Nr(E),es(E),E.component??E._loadedComponent??null,E,In(P),Et,vr(E));ae=(0,$.of)({snapshot:Xt,consumedSegments:[],remainingSegments:[]})}else ae=tl(P,E,j,T).pipe((0,sn.U)(({matched:Ke,consumedSegments:Et,remainingSegments:Xt,parameters:gn})=>{if(!Ke)return null;const fr=br(P)+Et.length;return{snapshot:new Ss(Et,gn,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Nr(E),es(E),E.component??E._loadedComponent??null,E,In(P),fr,vr(E)),consumedSegments:Et,remainingSegments:Xt}}));return ae.pipe((0,Vn.w)(Ke=>{if(null===Ke)return(0,$.of)(null);const{snapshot:Et,consumedSegments:Xt,remainingSegments:gn}=Ke;T=E._injector??T;const fr=E._loadedInjector??T,Cs=function ee(C){return C.children?C.children:C.loadChildren?C._loadedRoutes:[]}(E),{segmentGroup:_o,slicedSegments:Yo}=La(P,Xt,gn,Cs.filter(ns=>void 0===ns.redirectTo));if(0===Yo.length&&_o.hasChildren())return this.processChildren(fr,Cs,_o).pipe((0,sn.U)(ns=>null===ns?null:[new Ws(Et,ns)]));if(0===Cs.length&&0===Yo.length)return(0,$.of)([new Ws(Et,[])]);const Zo=es(E)===J;return this.processSegment(fr,Cs,_o,Yo,Zo?Zt:J).pipe((0,sn.U)(ns=>null===ns?null:[new Ws(Et,ns)]))}))}}function Ie(C){const T=C.value.routeConfig;return T&&""===T.path&&void 0===T.redirectTo}function dt(C){const T=[],E=new Set;for(const P of C){if(!Ie(P)){T.push(P);continue}const j=T.find(J=>P.value.routeConfig===J.value.routeConfig);void 0!==j?(j.children.push(...P.children),E.add(j)):T.push(P)}for(const P of E){const j=dt(P.children);T.push(new Ws(P.value,j))}return T.filter(P=>!E.has(P))}function In(C){let T=C;for(;T._sourceSegment;)T=T._sourceSegment;return T}function br(C){let T=C,E=T._segmentIndexShift??0;for(;T._sourceSegment;)T=T._sourceSegment,E+=T._segmentIndexShift??0;return E-1}function Nr(C){return C.data||{}}function vr(C){return C.resolve||{}}function ks(C){return"string"==typeof C.title||null===C.title}function oo(C){return(0,Vn.w)(T=>{const E=C(T);return E?(0,X.D)(E).pipe((0,sn.U)(()=>T)):(0,$.of)(T)})}const ai=new _.OlP("ROUTES");let ya=(()=>{class C{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,_.f3M)(_.Sil)}loadComponent(E){if(this.componentLoaders.get(E))return this.componentLoaders.get(E);if(E._loadedComponent)return(0,$.of)(E._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(E);const P=Kt(E.loadComponent()).pipe((0,sn.U)(ql),(0,Xe.b)(J=>{this.onLoadEndListener&&this.onLoadEndListener(E),E._loadedComponent=J}),Un(()=>{this.componentLoaders.delete(E)})),j=new Rn(P,()=>new Re.x).pipe(Gt());return this.componentLoaders.set(E,j),j}loadChildren(E,P){if(this.childrenLoaders.get(P))return this.childrenLoaders.get(P);if(P._loadedRoutes)return(0,$.of)({routes:P._loadedRoutes,injector:P._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(P);const J=this.loadModuleFactoryOrRoutes(P.loadChildren).pipe((0,sn.U)(Ke=>{this.onLoadEndListener&&this.onLoadEndListener(P);let Et,Xt,gn=!1;Array.isArray(Ke)?Xt=Ke:(Et=Ke.create(E).injector,Xt=xr(Et.get(ai,[],_.XFs.Self|_.XFs.Optional)));return{routes:Xt.map(xs),injector:Et}}),Un(()=>{this.childrenLoaders.delete(P)})),ae=new Rn(J,()=>new Re.x).pipe(Gt());return this.childrenLoaders.set(P,ae),ae}loadModuleFactoryOrRoutes(E){return Kt(E()).pipe((0,sn.U)(ql),(0,Fe.z)(P=>P instanceof _.YKP||Array.isArray(P)?(0,$.of)(P):(0,X.D)(this.compiler.compileModuleAsync(P))))}}return C.\u0275fac=function(E){return new(E||C)},C.\u0275prov=_.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})();function ql(C){return function zo(C){return C&&"object"==typeof C&&"default"in C}(C)?C.default:C}let Lt=(()=>{class C{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Re.x,this.configLoader=(0,_.f3M)(ya),this.environmentInjector=(0,_.f3M)(_.lqb),this.urlSerializer=(0,_.f3M)(di),this.rootContexts=(0,_.f3M)(zr),this.navigationId=0,this.afterPreactivation=()=>(0,$.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=j=>this.events.next(new zn(j)),this.configLoader.onLoadStartListener=j=>this.events.next(new ur(j))}complete(){this.transitions?.complete()}handleNavigationRequest(E){const P=++this.navigationId;this.transitions?.next({...this.transitions.value,...E,id:P})}setupNavigations(E){return this.transitions=new be({id:0,targetPageId:0,currentUrlTree:E.currentUrlTree,currentRawUrl:E.currentUrlTree,extractedUrl:E.urlHandlingStrategy.extract(E.currentUrlTree),urlAfterRedirects:E.urlHandlingStrategy.extract(E.currentUrlTree),rawUrl:E.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Kn,restoredState:null,currentSnapshot:E.routerState.snapshot,targetSnapshot:null,currentRouterState:E.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,ke.h)(P=>0!==P.id),(0,sn.U)(P=>({...P,extractedUrl:E.urlHandlingStrategy.extract(P.rawUrl)})),(0,Vn.w)(P=>{let j=!1,J=!1;return(0,$.of)(P).pipe((0,Xe.b)(ae=>{this.currentNavigation={id:ae.id,initialUrl:ae.rawUrl,extractedUrl:ae.extractedUrl,trigger:ae.source,extras:ae.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Vn.w)(ae=>{const Ke=E.browserUrlTree.toString(),Et=!E.navigated||ae.extractedUrl.toString()!==Ke||Ke!==E.currentUrlTree.toString();if(!Et&&"reload"!==(ae.extras.onSameUrlNavigation??E.onSameUrlNavigation)){const gn="";return this.events.next(new vi(ae.id,E.serializeUrl(P.rawUrl),gn,0)),E.rawUrlTree=ae.rawUrl,ae.resolve(null),Be.E}if(E.urlHandlingStrategy.shouldProcessUrl(ae.rawUrl))return is(ae.source)&&(E.browserUrlTree=ae.extractedUrl),(0,$.of)(ae).pipe((0,Vn.w)(gn=>{const fr=this.transitions?.getValue();return this.events.next(new hr(gn.id,this.urlSerializer.serialize(gn.extractedUrl),gn.source,gn.restoredState)),fr!==this.transitions?.getValue()?Be.E:Promise.resolve(gn)}),function Ba(C,T,E,P){return(0,Vn.w)(j=>function aa(C,T,E,P,j){return new Ua(C,T,E,P,j).apply()}(C,T,E,j.extractedUrl,P).pipe((0,sn.U)(J=>({...j,urlAfterRedirects:J}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,E.config),(0,Xe.b)(gn=>{this.currentNavigation={...this.currentNavigation,finalUrl:gn.urlAfterRedirects},P.urlAfterRedirects=gn.urlAfterRedirects}),function Hi(C,T,E,P,j){return(0,Fe.z)(J=>function N(C,T,E,P,j,J,ae="emptyOnly"){return new W(C,T,E,P,j,ae,J).recognize().pipe((0,Vn.w)(Ke=>null===Ke?function la(C){return new qe.y(T=>T.error(C))}(new ga):(0,$.of)(Ke)))}(C,T,E,J.urlAfterRedirects,P.serialize(J.urlAfterRedirects),P,j).pipe((0,sn.U)(ae=>({...J,targetSnapshot:ae}))))}(this.environmentInjector,this.rootComponentType,E.config,this.urlSerializer,E.paramsInheritanceStrategy),(0,Xe.b)(gn=>{if(P.targetSnapshot=gn.targetSnapshot,"eager"===E.urlUpdateStrategy){if(!gn.extras.skipLocationChange){const Cs=E.urlHandlingStrategy.merge(gn.urlAfterRedirects,gn.rawUrl);E.setBrowserUrl(Cs,gn)}E.browserUrlTree=gn.urlAfterRedirects}const fr=new ti(gn.id,this.urlSerializer.serialize(gn.extractedUrl),this.urlSerializer.serialize(gn.urlAfterRedirects),gn.targetSnapshot);this.events.next(fr)}));if(Et&&E.urlHandlingStrategy.shouldProcessUrl(E.rawUrlTree)){const{id:gn,extractedUrl:fr,source:Cs,restoredState:_o,extras:Yo}=ae,Zo=new hr(gn,this.urlSerializer.serialize(fr),Cs,_o);this.events.next(Zo);const ns=ro(fr,this.rootComponentType).snapshot;return P={...ae,targetSnapshot:ns,urlAfterRedirects:fr,extras:{...Yo,skipLocationChange:!1,replaceUrl:!1}},(0,$.of)(P)}{const gn="";return this.events.next(new vi(ae.id,E.serializeUrl(P.extractedUrl),gn,1)),E.rawUrlTree=ae.rawUrl,ae.resolve(null),Be.E}}),(0,Xe.b)(ae=>{const Ke=new os(ae.id,this.urlSerializer.serialize(ae.extractedUrl),this.urlSerializer.serialize(ae.urlAfterRedirects),ae.targetSnapshot);this.events.next(Ke)}),(0,sn.U)(ae=>P={...ae,guards:tr(ae.targetSnapshot,ae.currentSnapshot,this.rootContexts)}),function ws(C,T){return(0,Fe.z)(E=>{const{targetSnapshot:P,currentSnapshot:j,guards:{canActivateChecks:J,canDeactivateChecks:ae}}=E;return 0===ae.length&&0===J.length?(0,$.of)({...E,guardsResult:!0}):function as(C,T,E,P){return(0,X.D)(C).pipe((0,Fe.z)(j=>function sa(C,T,E,P,j){const J=T&&T.routeConfig?T.routeConfig.canDeactivate:null;if(!J||0===J.length)return(0,$.of)(!0);const ae=J.map(Ke=>{const Et=vs(T)??j,Xt=na(Ke,Et);return Kt(function Kr(C){return C&&U(C.canDeactivate)}(Xt)?Xt.canDeactivate(C,T,E,P):Et.runInContext(()=>Xt(C,T,E,P))).pipe((0,Ze.P)())});return(0,$.of)(ae).pipe(Es())}(j.component,j.route,E,T,P)),(0,Ze.P)(j=>!0!==j,!0))}(ae,P,j,C).pipe((0,Fe.z)(Ke=>Ke&&function L(C){return"boolean"==typeof C}(Ke)?function ia(C,T,E,P){return(0,X.D)(T).pipe(Me(j=>Dt(function As(C,T){return null!==C&&T&&T(new ii(C)),(0,$.of)(!0)}(j.route.parent,P),function Ro(C,T){return null!==C&&T&&T(new Ji(C)),(0,$.of)(!0)}(j.route,P),function Mo(C,T,E){const P=T[T.length-1],J=T.slice(0,T.length-1).reverse().map(ae=>function Ta(C){const T=C.routeConfig?C.routeConfig.canActivateChild:null;return T&&0!==T.length?{node:C,guards:T}:null}(ae)).filter(ae=>null!==ae).map(ae=>ge(()=>{const Ke=ae.guards.map(Et=>{const Xt=vs(ae.node)??E,gn=na(Et,Xt);return Kt(function pn(C){return C&&U(C.canActivateChild)}(gn)?gn.canActivateChild(P,C):Xt.runInContext(()=>gn(P,C))).pipe((0,Ze.P)())});return(0,$.of)(Ke).pipe(Es())}));return(0,$.of)(J).pipe(Es())}(C,j.path,E),function Nl(C,T,E){const P=T.routeConfig?T.routeConfig.canActivate:null;if(!P||0===P.length)return(0,$.of)(!0);const j=P.map(J=>ge(()=>{const ae=vs(T)??E,Ke=na(J,ae);return Kt(function Ye(C){return C&&U(C.canActivate)}(Ke)?Ke.canActivate(T,C):ae.runInContext(()=>Ke(T,C))).pipe((0,Ze.P)())}));return(0,$.of)(j).pipe(Es())}(C,j.route,E))),(0,Ze.P)(j=>!0!==j,!0))}(P,J,C,T):(0,$.of)(Ke)),(0,sn.U)(Ke=>({...E,guardsResult:Ke})))})}(this.environmentInjector,ae=>this.events.next(ae)),(0,Xe.b)(ae=>{if(P.guardsResult=ae.guardsResult,Ln(ae.guardsResult))throw tn(0,ae.guardsResult);const Ke=new Co(ae.id,this.urlSerializer.serialize(ae.extractedUrl),this.urlSerializer.serialize(ae.urlAfterRedirects),ae.targetSnapshot,!!ae.guardsResult);this.events.next(Ke)}),(0,ke.h)(ae=>!!ae.guardsResult||(E.restoreHistory(ae),this.cancelNavigationTransition(ae,"",3),!1)),oo(ae=>{if(ae.guards.canActivateChecks.length)return(0,$.of)(ae).pipe((0,Xe.b)(Ke=>{const Et=new Ps(Ke.id,this.urlSerializer.serialize(Ke.extractedUrl),this.urlSerializer.serialize(Ke.urlAfterRedirects),Ke.targetSnapshot);this.events.next(Et)}),(0,Vn.w)(Ke=>{let Et=!1;return(0,$.of)(Ke).pipe(function mi(C,T){return(0,Fe.z)(E=>{const{targetSnapshot:P,guards:{canActivateChecks:j}}=E;if(!j.length)return(0,$.of)(E);let J=0;return(0,X.D)(j).pipe(Me(ae=>function ls(C,T,E,P){const j=C.routeConfig,J=C._resolve;return void 0!==j?.title&&!ks(j)&&(J[cr]=j.title),function Go(C,T,E,P){const j=function mo(C){return[...Object.keys(C),...Object.getOwnPropertySymbols(C)]}(C);if(0===j.length)return(0,$.of)({});const J={};return(0,X.D)(j).pipe((0,Fe.z)(ae=>function ma(C,T,E,P){const j=vs(T)??P,J=na(C,j);return Kt(J.resolve?J.resolve(T,E):j.runInContext(()=>J(T,E)))}(C[ae],T,E,P).pipe((0,Ze.P)(),(0,Xe.b)(Ke=>{J[ae]=Ke}))),qt(1),function xn(C){return(0,sn.U)(()=>C)}(J),It(ae=>po(ae)?Be.E:ot(ae)))}(J,C,T,P).pipe((0,sn.U)(ae=>(C._resolvedData=ae,C.data=To(C,E).resolve,j&&ks(j)&&(C.data[cr]=j.title),null)))}(ae.route,P,C,T)),(0,Xe.b)(()=>J++),qt(1),(0,Fe.z)(ae=>J===j.length?(0,$.of)(E):Be.E))})}(E.paramsInheritanceStrategy,this.environmentInjector),(0,Xe.b)({next:()=>Et=!0,complete:()=>{Et||(E.restoreHistory(Ke),this.cancelNavigationTransition(Ke,"",2))}}))}),(0,Xe.b)(Ke=>{const Et=new Tr(Ke.id,this.urlSerializer.serialize(Ke.extractedUrl),this.urlSerializer.serialize(Ke.urlAfterRedirects),Ke.targetSnapshot);this.events.next(Et)}))}),oo(ae=>{const Ke=Et=>{const Xt=[];Et.routeConfig?.loadComponent&&!Et.routeConfig._loadedComponent&&Xt.push(this.configLoader.loadComponent(Et.routeConfig).pipe((0,Xe.b)(gn=>{Et.component=gn}),(0,sn.U)(()=>{})));for(const gn of Et.children)Xt.push(...Ke(gn));return Xt};return At(Ke(ae.targetSnapshot.root)).pipe((0,zt.d)(),(0,on.q)(1))}),oo(()=>this.afterPreactivation()),(0,sn.U)(ae=>{const Ke=function we(C,T,E){const P=Te(C,T._root,E?E._root:void 0);return new ta(P,T)}(E.routeReuseStrategy,ae.targetSnapshot,ae.currentRouterState);return P={...ae,targetRouterState:Ke}}),(0,Xe.b)(ae=>{E.currentUrlTree=ae.urlAfterRedirects,E.rawUrlTree=E.urlHandlingStrategy.merge(ae.urlAfterRedirects,ae.rawUrl),E.routerState=ae.targetRouterState,"deferred"===E.urlUpdateStrategy&&(ae.extras.skipLocationChange||E.setBrowserUrl(E.rawUrlTree,ae),E.browserUrlTree=ae.urlAfterRedirects)}),((C,T,E)=>(0,sn.U)(P=>(new Yn(T,P.targetRouterState,P.currentRouterState,E).activate(C),P)))(this.rootContexts,E.routeReuseStrategy,ae=>this.events.next(ae)),(0,on.q)(1),(0,Xe.b)({next:ae=>{j=!0,this.lastSuccessfulNavigation=this.currentNavigation,E.navigated=!0,this.events.next(new Li(ae.id,this.urlSerializer.serialize(ae.extractedUrl),this.urlSerializer.serialize(E.currentUrlTree))),E.titleStrategy?.updateTitle(ae.targetRouterState.snapshot),ae.resolve(!0)},complete:()=>{j=!0}}),Un(()=>{j||J||this.cancelNavigationTransition(P,"",1),this.currentNavigation?.id===P.id&&(this.currentNavigation=null)}),It(ae=>{if(J=!0,ir(ae)){Sn(ae)||(E.navigated=!0,E.restoreHistory(P,!0));const Ke=new Vi(P.id,this.urlSerializer.serialize(P.extractedUrl),ae.message,ae.cancellationCode);if(this.events.next(Ke),Sn(ae)){const Et=E.urlHandlingStrategy.merge(ae.url,E.rawUrlTree),Xt={skipLocationChange:P.extras.skipLocationChange,replaceUrl:"eager"===E.urlUpdateStrategy||is(P.source)};E.scheduleNavigation(Et,Kn,null,Xt,{resolve:P.resolve,reject:P.reject,promise:P.promise})}else P.resolve(!1)}else{E.restoreHistory(P,!0);const Ke=new Ki(P.id,this.urlSerializer.serialize(P.extractedUrl),ae,P.targetSnapshot??void 0);this.events.next(Ke);try{P.resolve(E.errorHandler(ae))}catch(Et){P.reject(Et)}}return Be.E}))}))}cancelNavigationTransition(E,P,j){const J=new Vi(E.id,this.urlSerializer.serialize(E.extractedUrl),P,j);this.events.next(J),E.resolve(!1)}}return C.\u0275fac=function(E){return new(E||C)},C.\u0275prov=_.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})();function is(C){return C!==Kn}let us=(()=>{class C{buildTitle(E){let P,j=E.root;for(;void 0!==j;)P=this.getResolvedTitleForRoute(j)??P,j=j.children.find(J=>J.outlet===Zt);return P}getResolvedTitleForRoute(E){return E.data[cr]}}return C.\u0275fac=function(E){return new(E||C)},C.\u0275prov=_.Yz7({token:C,factory:function(){return(0,_.f3M)(Ou)},providedIn:"root"}),C})(),Ou=(()=>{class C extends us{constructor(E){super(),this.title=E}updateTitle(E){const P=this.buildTitle(E);void 0!==P&&this.title.setTitle(P)}}return C.\u0275fac=function(E){return new(E||C)(_.LFG(rr.Dx))},C.\u0275prov=_.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})(),yn=(()=>{class C{}return C.\u0275fac=function(E){return new(E||C)},C.\u0275prov=_.Yz7({token:C,factory:function(){return(0,_.f3M)(sc)},providedIn:"root"}),C})();class Cn{shouldDetach(T){return!1}store(T,E){}shouldAttach(T){return!1}retrieve(T){return null}shouldReuseRoute(T,E){return T.routeConfig===E.routeConfig}}let sc=(()=>{class C extends Cn{}return C.\u0275fac=function(){let T;return function(P){return(T||(T=_.n5z(C)))(P||C)}}(),C.\u0275prov=_.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})();const ut=new _.OlP("",{providedIn:"root",factory:()=>({})});let kt=(()=>{class C{}return C.\u0275fac=function(E){return new(E||C)},C.\u0275prov=_.Yz7({token:C,factory:function(){return(0,_.f3M)(ps)},providedIn:"root"}),C})(),ps=(()=>{class C{shouldProcessUrl(E){return!0}extract(E){return E}merge(E,P){return E}}return C.\u0275fac=function(E){return new(E||C)},C.\u0275prov=_.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})();function ku(C){throw C}function Yl(C,T,E){return T.parse("/")}const Is={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},yl={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let qr=(()=>{class C{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,_.f3M)(_.c2e),this.isNgZoneEnabled=!1,this.options=(0,_.f3M)(ut,{optional:!0})||{},this.errorHandler=this.options.errorHandler||ku,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Yl,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,_.f3M)(kt),this.routeReuseStrategy=(0,_.f3M)(yn),this.urlCreationStrategy=(0,_.f3M)(no),this.titleStrategy=(0,_.f3M)(us),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=xr((0,_.f3M)(ai,{optional:!0})??[]),this.navigationTransitions=(0,_.f3M)(Lt),this.urlSerializer=(0,_.f3M)(di),this.location=(0,_.f3M)(Ut.Ye),this.isNgZoneEnabled=(0,_.f3M)(_.R0b)instanceof _.R0b&&_.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Cr,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=ro(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(E=>{this.lastSuccessfulId=E.id,this.currentPageId=this.browserPageId??0},E=>{this.console.warn(`Unhandled Navigation Error: ${E}`)})}resetRootComponentType(E){this.routerState.root.component=E,this.navigationTransitions.rootComponentType=E}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const E=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Kn,E)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(E=>{const P="popstate"===E.type?"popstate":"hashchange";"popstate"===P&&setTimeout(()=>{this.navigateToSyncWithBrowser(E.url,P,E.state)},0)}))}navigateToSyncWithBrowser(E,P,j){const J={replaceUrl:!0},ae=j?.navigationId?j:null;if(j){const Et={...j};delete Et.navigationId,delete Et.\u0275routerPageId,0!==Object.keys(Et).length&&(J.state=Et)}const Ke=this.parseUrl(E);this.scheduleNavigation(Ke,P,ae,J)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(E){this.config=E.map(xs),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(E,P={}){const{relativeTo:j,queryParams:J,fragment:ae,queryParamsHandling:Ke,preserveFragment:Et}=P,Xt=Et?this.currentUrlTree.fragment:ae;let gn=null;switch(Ke){case"merge":gn={...this.currentUrlTree.queryParams,...J};break;case"preserve":gn=this.currentUrlTree.queryParams;break;default:gn=J||null}return null!==gn&&(gn=this.removeEmptyProps(gn)),this.urlCreationStrategy.createUrlTree(j,this.routerState,this.currentUrlTree,E,gn,Xt??null)}navigateByUrl(E,P={skipLocationChange:!1}){const j=Ln(E)?E:this.parseUrl(E),J=this.urlHandlingStrategy.merge(j,this.rawUrlTree);return this.scheduleNavigation(J,Kn,null,P)}navigate(E,P={skipLocationChange:!1}){return function hu(C){for(let T=0;T<C.length;T++){const E=C[T];if(null==E)throw new _.vHH(4008,false)}}(E),this.navigateByUrl(this.createUrlTree(E,P),P)}serializeUrl(E){return this.urlSerializer.serialize(E)}parseUrl(E){let P;try{P=this.urlSerializer.parse(E)}catch(j){P=this.malformedUriErrorHandler(j,this.urlSerializer,E)}return P}isActive(E,P){let j;if(j=!0===P?{...Is}:!1===P?{...yl}:P,Ln(E))return Rr(this.currentUrlTree,E,j);const J=this.parseUrl(E);return Rr(this.currentUrlTree,J,j)}removeEmptyProps(E){return Object.keys(E).reduce((P,j)=>{const J=E[j];return null!=J&&(P[j]=J),P},{})}scheduleNavigation(E,P,j,J,ae){if(this.disposed)return Promise.resolve(!1);let Ke,Et,Xt,gn;return ae?(Ke=ae.resolve,Et=ae.reject,Xt=ae.promise):Xt=new Promise((fr,Cs)=>{Ke=fr,Et=Cs}),gn="computed"===this.canceledNavigationResolution?j&&j.\u0275routerPageId?j.\u0275routerPageId:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:gn,source:P,restoredState:j,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:E,extras:J,resolve:Ke,reject:Et,promise:Xt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Xt.catch(fr=>Promise.reject(fr))}setBrowserUrl(E,P){const j=this.urlSerializer.serialize(E);if(this.location.isCurrentPathEqualTo(j)||P.extras.replaceUrl){const ae={...P.extras.state,...this.generateNgRouterState(P.id,this.browserPageId)};this.location.replaceState(j,"",ae)}else{const J={...P.extras.state,...this.generateNgRouterState(P.id,P.targetPageId)};this.location.go(j,"",J)}}restoreHistory(E,P=!1){if("computed"===this.canceledNavigationResolution){const J=this.currentPageId-(this.browserPageId??this.currentPageId);0!==J?this.location.historyGo(J):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===J&&(this.resetState(E),this.browserUrlTree=E.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(P&&this.resetState(E),this.resetUrlToCurrentUrlTree())}resetState(E){this.routerState=E.currentRouterState,this.currentUrlTree=E.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,E.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(E,P){return"computed"===this.canceledNavigationResolution?{navigationId:E,\u0275routerPageId:P}:{navigationId:E}}}return C.\u0275fac=function(E){return new(E||C)},C.\u0275prov=_.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})(),_a=(()=>{class C{constructor(E,P,j,J,ae,Ke){this.router=E,this.route=P,this.tabIndexAttribute=j,this.renderer=J,this.el=ae,this.locationStrategy=Ke,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new Re.x;const Et=ae.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===Et||"area"===Et,this.isAnchorElement?this.subscription=E.events.subscribe(Xt=>{Xt instanceof Li&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(E){this._preserveFragment=(0,_.D6c)(E)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(E){this._skipLocationChange=(0,_.D6c)(E)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(E){this._replaceUrl=(0,_.D6c)(E)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(E){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",E)}ngOnChanges(E){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(E){null!=E?(this.commands=Array.isArray(E)?E:[E],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(E,P,j,J,ae){return!!(null===this.urlTree||this.isAnchorElement&&(0!==E||P||j||J||ae||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const E=null===this.href?null:(0,_.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",E)}applyAttributeValue(E,P){const j=this.renderer,J=this.el.nativeElement;null!==P?j.setAttribute(J,E,P):j.removeAttribute(J,E)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return C.\u0275fac=function(E){return new(E||C)(_.Y36(qr),_.Y36($i),_.$8M("tabindex"),_.Y36(_.Qsj),_.Y36(_.SBq),_.Y36(Ut.S$))},C.\u0275dir=_.lG2({type:C,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(E,P){1&E&&_.NdJ("click",function(J){return P.onClick(J.button,J.ctrlKey,J.shiftKey,J.altKey,J.metaKey)}),2&E&&_.uIk("target",P.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[_.TTD]}),C})(),Ol=(()=>{class C{get isActive(){return this._isActive}constructor(E,P,j,J,ae){this.router=E,this.element=P,this.renderer=j,this.cdr=J,this.link=ae,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new _.vpe,this.routerEventsSubscription=E.events.subscribe(Ke=>{Ke instanceof Li&&this.update()})}ngAfterContentInit(){(0,$.of)(this.links.changes,(0,$.of)(null)).pipe((0,wt.J)()).subscribe(E=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const E=[...this.links.toArray(),this.link].filter(P=>!!P).map(P=>P.onChanges);this.linkInputChangesSubscription=(0,X.D)(E).pipe((0,wt.J)()).subscribe(P=>{this._isActive!==this.isLinkActive(this.router)(P)&&this.update()})}set routerLinkActive(E){const P=Array.isArray(E)?E:E.split(" ");this.classes=P.filter(j=>!!j)}ngOnChanges(E){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||Promise.resolve().then(()=>{const E=this.hasActiveLinks();this._isActive!==E&&(this._isActive=E,this.cdr.markForCheck(),this.classes.forEach(P=>{E?this.renderer.addClass(this.element.nativeElement,P):this.renderer.removeClass(this.element.nativeElement,P)}),E&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(E))})}isLinkActive(E){const P=function nl(C){return!!C.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return j=>!!j.urlTree&&E.isActive(j.urlTree,P)}hasActiveLinks(){const E=this.isLinkActive(this.router);return this.link&&E(this.link)||this.links.some(E)}}return C.\u0275fac=function(E){return new(E||C)(_.Y36(qr),_.Y36(_.SBq),_.Y36(_.Qsj),_.Y36(_.sBO),_.Y36(_a,8))},C.\u0275dir=_.lG2({type:C,selectors:[["","routerLinkActive",""]],contentQueries:function(E,P,j){if(1&E&&_.Suo(j,_a,5),2&E){let J;_.iGM(J=_.CRH())&&(P.links=J)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[_.TTD]}),C})();class ja{}let Fu=(()=>{class C{constructor(E,P,j,J,ae){this.router=E,this.injector=j,this.preloadingStrategy=J,this.loader=ae}setUpPreloading(){this.subscription=this.router.events.pipe((0,ke.h)(E=>E instanceof Li),Me(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(E,P){const j=[];for(const J of P){J.providers&&!J._injector&&(J._injector=(0,_.MMx)(J.providers,E,`Route: ${J.path}`));const ae=J._injector??E,Ke=J._loadedInjector??ae;(J.loadChildren&&!J._loadedRoutes&&void 0===J.canLoad||J.loadComponent&&!J._loadedComponent)&&j.push(this.preloadConfig(ae,J)),(J.children||J._loadedRoutes)&&j.push(this.processRoutes(Ke,J.children??J._loadedRoutes))}return(0,X.D)(j).pipe((0,wt.J)())}preloadConfig(E,P){return this.preloadingStrategy.preload(P,()=>{let j;j=P.loadChildren&&void 0===P.canLoad?this.loader.loadChildren(E,P):(0,$.of)(null);const J=j.pipe((0,Fe.z)(ae=>null===ae?(0,$.of)(void 0):(P._loadedRoutes=ae.routes,P._loadedInjector=ae.injector,this.processRoutes(ae.injector??E,ae.routes))));if(P.loadComponent&&!P._loadedComponent){const ae=this.loader.loadComponent(P);return(0,X.D)([J,ae]).pipe((0,wt.J)())}return J})}}return C.\u0275fac=function(E){return new(E||C)(_.LFG(qr),_.LFG(_.Sil),_.LFG(_.lqb),_.LFG(ja),_.LFG(ya))},C.\u0275prov=_.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})();const Ci=new _.OlP("");let Mn=(()=>{class C{constructor(E,P,j,J,ae={}){this.urlSerializer=E,this.transitions=P,this.viewportScroller=j,this.zone=J,this.options=ae,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},ae.scrollPositionRestoration=ae.scrollPositionRestoration||"disabled",ae.anchorScrolling=ae.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(E=>{E instanceof hr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=E.navigationTrigger,this.restoredId=E.restoredState?E.restoredState.navigationId:0):E instanceof Li&&(this.lastId=E.id,this.scheduleScrollEvent(E,this.urlSerializer.parse(E.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(E=>{E instanceof Ts&&(E.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(E.position):E.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(E.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(E,P){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Ts(E,"popstate"===this.lastSource?this.store[this.restoredId]:null,P))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return C.\u0275fac=function(E){_.$Z()},C.\u0275prov=_.Yz7({token:C,factory:C.\u0275fac}),C})();var gs=(()=>((gs=gs||{})[gs.COMPLETE=0]="COMPLETE",gs[gs.FAILED=1]="FAILED",gs[gs.REDIRECTING=2]="REDIRECTING",gs))();const va=!1;function $s(C,T){return{\u0275kind:C,\u0275providers:T}}const Zl=new _.OlP("",{providedIn:"root",factory:()=>!1});function Ql(){const C=(0,_.f3M)(_.zs3);return T=>{const E=C.get(_.z2F);if(T!==E.components[0])return;const P=C.get(qr),j=C.get(vl);1===C.get(El)&&P.initialNavigation(),C.get(Ra,null,_.XFs.Optional)?.setUpPreloading(),C.get(Ci,null,_.XFs.Optional)?.init(),P.resetRootComponentType(E.componentTypes[0]),j.closed||(j.next(),j.complete(),j.unsubscribe())}}const vl=new _.OlP(va?"bootstrap done indicator":"",{factory:()=>new Re.x}),El=new _.OlP(va?"initial navigation":"",{providedIn:"root",factory:()=>1});function Lu(){let C=[];return C=va?[{provide:_.Xts,multi:!0,useFactory:()=>{const T=(0,_.f3M)(qr);return()=>T.events.subscribe(E=>{console.group?.(`Router Event: ${E.constructor.name}`),console.log(function Do(C){if(!("type"in C))return`Unknown Router Event: ${C.constructor.name}`;switch(C.type){case 14:return`ActivationEnd(path: '${C.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${C.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${C.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${C.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${C.id}, url: '${C.url}', urlAfterRedirects: '${C.urlAfterRedirects}', state: ${C.state}, shouldActivate: ${C.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${C.id}, url: '${C.url}', urlAfterRedirects: '${C.urlAfterRedirects}', state: ${C.state})`;case 2:return`NavigationCancel(id: ${C.id}, url: '${C.url}')`;case 16:return`NavigationSkipped(id: ${C.id}, url: '${C.url}')`;case 1:return`NavigationEnd(id: ${C.id}, url: '${C.url}', urlAfterRedirects: '${C.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${C.id}, url: '${C.url}', error: ${C.error})`;case 0:return`NavigationStart(id: ${C.id}, url: '${C.url}')`;case 6:return`ResolveEnd(id: ${C.id}, url: '${C.url}', urlAfterRedirects: '${C.urlAfterRedirects}', state: ${C.state})`;case 5:return`ResolveStart(id: ${C.id}, url: '${C.url}', urlAfterRedirects: '${C.urlAfterRedirects}', state: ${C.state})`;case 10:return`RouteConfigLoadEnd(path: ${C.route.path})`;case 9:return`RouteConfigLoadStart(path: ${C.route.path})`;case 4:return`RoutesRecognized(id: ${C.id}, url: '${C.url}', urlAfterRedirects: '${C.urlAfterRedirects}', state: ${C.state})`;case 15:return`Scroll(anchor: '${C.anchor}', position: '${C.position?`${C.position[0]}, ${C.position[1]}`:null}')`}}(E)),console.log(E),console.groupEnd?.()})}}]:[],$s(1,C)}const Ra=new _.OlP(va?"router preloader":"");function rd(C){return $s(0,[{provide:Ra,useExisting:Fu},{provide:ja,useExisting:C}])}const Ko=!1,hs=new _.OlP(Ko?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),yo=[Ut.Ye,{provide:di,useClass:ri},qr,zr,{provide:$i,useFactory:function nn(C){return C.routerState.root},deps:[qr]},ya,Ko?{provide:Zl,useValue:!0}:[]];function qo(){return new _.PXZ("Router",qr)}let Oo=(()=>{class C{constructor(E){}static forRoot(E,P){return{ngModule:C,providers:[yo,Ko&&P?.enableTracing?Lu().\u0275providers:[],{provide:ai,multi:!0,useValue:E},{provide:hs,useFactory:kl,deps:[[qr,new _.FiY,new _.tp0]]},{provide:ut,useValue:P||{}},P?.useHash?{provide:Ut.S$,useClass:Ut.Do}:{provide:Ut.S$,useClass:Ut.b0},{provide:Ci,useFactory:()=>{const C=(0,_.f3M)(Ut.EM),T=(0,_.f3M)(_.R0b),E=(0,_.f3M)(ut),P=(0,_.f3M)(Lt),j=(0,_.f3M)(di);return E.scrollOffset&&C.setOffset(E.scrollOffset),new Mn(j,P,C,T,E)}},P?.preloadingStrategy?rd(P.preloadingStrategy).\u0275providers:[],{provide:_.PXZ,multi:!0,useFactory:qo},P?.initialNavigation?fu(P):[],[{provide:zi,useFactory:Ql},{provide:_.tb,multi:!0,useExisting:zi}]]}}static forChild(E){return{ngModule:C,providers:[{provide:ai,multi:!0,useValue:E}]}}}return C.\u0275fac=function(E){return new(E||C)(_.LFG(hs,8))},C.\u0275mod=_.oAB({type:C}),C.\u0275inj=_.cJS({imports:[Ni]}),C})();function kl(C){if(Ko&&C)throw new _.vHH(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function fu(C){return["disabled"===C.initialNavigation?$s(3,[{provide:_.ip1,multi:!0,useFactory:()=>{const T=(0,_.f3M)(qr);return()=>{T.setUpLocationChangeListener()}}},{provide:El,useValue:2}]).\u0275providers:[],"enabledBlocking"===C.initialNavigation?$s(2,[{provide:El,useValue:0},{provide:_.ip1,multi:!0,deps:[_.zs3],useFactory:T=>{const E=T.get(Ut.V_,Promise.resolve());return()=>E.then(()=>new Promise(P=>{const j=T.get(qr),J=T.get(vl);(function Ur(C,T){C.events.pipe((0,ke.h)(E=>E instanceof Li||E instanceof Vi||E instanceof Ki||E instanceof vi),(0,sn.U)(E=>E instanceof Li||E instanceof vi?gs.COMPLETE:E instanceof Vi&&(0===E.code||1===E.code)?gs.REDIRECTING:gs.FAILED),(0,ke.h)(E=>E!==gs.REDIRECTING),(0,on.q)(1)).subscribe(()=>{T()})})(j,()=>{P(!0)}),T.get(Lt).afterPreactivation=()=>(P(!0),J.closed?(0,$.of)(void 0):J),j.initialNavigation()}))}}]).\u0275providers:[]]}const zi=new _.OlP(Ko?"Router Initializer":"")},3942:(rn,it,G)=>{G.d(it,{Z:()=>At});var _=G(2090),X=G(4859),$=G(6881),Re=G(1877);class be{constructor(at,wt){this._delegate=at,this.firebase=wt,(0,$._addComponent)(at,new X.wA("app-compat",()=>this,"PUBLIC")),this.container=at.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(at){this._delegate.automaticDataCollectionEnabled=at}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(at=>{this._delegate.checkDestroyed(),at()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,$.deleteApp)(this._delegate)))}_getService(at,wt=$._DEFAULT_ENTRY_NAME){var Tt;this._delegate.checkDestroyed();const Dt=this._delegate.container.getProvider(at);return!Dt.isInitialized()&&"EXPLICIT"===(null===(Tt=Dt.getComponent())||void 0===Tt?void 0:Tt.instantiationMode)&&Dt.initialize(),Dt.getImmediate({identifier:wt})}_removeServiceInstance(at,wt=$._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(at).clearInstance(wt)}_addComponent(at){(0,$._addComponent)(this._delegate,at)}_addOrOverwriteComponent(at){(0,$._addOrOverwriteComponent)(this._delegate,at)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const qe=new _.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),pe=function Qe(){const jt=function Le(jt){const at={},wt={__esModule:!0,initializeApp:function Ge(ot,Be={}){const re=$.initializeApp(ot,Be);if((0,_.r3)(at,re.name))return at[re.name];const en=new jt(re,wt);return at[re.name]=en,en},app:Dt,registerVersion:$.registerVersion,setLogLevel:$.setLogLevel,onLog:$.onLog,apps:null,SDK_VERSION:$.SDK_VERSION,INTERNAL:{registerComponent:function lt(ot){const Be=ot.name,re=Be.replace("-compat","");if($._registerComponent(ot)&&"PUBLIC"===ot.type){const en=(Gt=Dt())=>{if("function"!=typeof Gt[re])throw qe.create("invalid-app-argument",{appName:Be});return Gt[re]()};void 0!==ot.serviceProps&&(0,_.ZB)(en,ot.serviceProps),wt[re]=en,jt.prototype[re]=function(...Gt){return this._getService.bind(this,Be).apply(this,ot.multipleInstances?Gt:[])}}return"PUBLIC"===ot.type?wt[re]:null},removeApp:function Tt(ot){delete at[ot]},useAsService:function et(ot,Be){return"serverAuth"===Be?null:Be},modularAPIs:$}};function Dt(ot){if(!(0,_.r3)(at,ot=ot||$._DEFAULT_ENTRY_NAME))throw qe.create("no-app",{appName:ot});return at[ot]}return wt.default=wt,Object.defineProperty(wt,"apps",{get:function ge(){return Object.keys(at).map(ot=>at[ot])}}),Dt.App=jt,wt}(be);return jt.INTERNAL=Object.assign(Object.assign({},jt.INTERNAL),{createFirebaseNamespace:Qe,extendNamespace:function at(wt){(0,_.ZB)(jt,wt)},createSubscribe:_.ne,ErrorFactory:_.LL,deepExtend:_.ZB}),jt}(),fe=new Re.Yd("@firebase/app-compat");if((0,_.jU)()&&void 0!==self.firebase){fe.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const jt=self.firebase.SDK_VERSION;jt&&jt.indexOf("LITE")>=0&&fe.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const At=pe;!function pt(jt){(0,$.registerVersion)("@firebase/app-compat","0.2.13",jt)}()},6881:(rn,it,G)=>{G.r(it),G.d(it,{FirebaseError:()=>Re.ZR,SDK_VERSION:()=>Ir,_DEFAULT_ENTRY_NAME:()=>xr,_addComponent:()=>Kt,_addOrOverwriteComponent:()=>mn,_apps:()=>Zn,_clearComponents:()=>Mi,_components:()=>fn,_getProvider:()=>Zr,_registerComponent:()=>ei,_removeServiceInstance:()=>Rr,deleteApp:()=>Mr,getApp:()=>Cr,getApps:()=>Ot,initializeApp:()=>Nn,onLog:()=>yi,registerVersion:()=>Fr,setLogLevel:()=>di});var _=G(5861),X=G(4859),$=G(1877),Re=G(2090);const be=(ct,Je)=>Je.some(Pt=>ct instanceof Pt);let Ve,qe;const pe=new WeakMap,fe=new WeakMap,Ae=new WeakMap,ht=new WeakMap,pt=new WeakMap;let at={get(ct,Je,Pt){if(ct instanceof IDBTransaction){if("done"===Je)return fe.get(ct);if("objectStoreNames"===Je)return ct.objectStoreNames||Ae.get(ct);if("store"===Je)return Pt.objectStoreNames[1]?void 0:Pt.objectStore(Pt.objectStoreNames[0])}return Ge(ct[Je])},set:(ct,Je,Pt)=>(ct[Je]=Pt,!0),has:(ct,Je)=>ct instanceof IDBTransaction&&("done"===Je||"store"===Je)||Je in ct};function Dt(ct){return"function"==typeof ct?function Tt(ct){return ct!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Qe(){return qe||(qe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ct)?function(...Je){return ct.apply(ge(this),Je),Ge(pe.get(this))}:function(...Je){return Ge(ct.apply(ge(this),Je))}:function(Je,...Pt){const cn=ct.call(ge(this),Je,...Pt);return Ae.set(cn,Je.sort?Je.sort():[Je]),Ge(cn)}}(ct):(ct instanceof IDBTransaction&&function jt(ct){if(fe.has(ct))return;const Je=new Promise((Pt,cn)=>{const On=()=>{ct.removeEventListener("complete",Ln),ct.removeEventListener("error",dn),ct.removeEventListener("abort",dn)},Ln=()=>{Pt(),On()},dn=()=>{cn(ct.error||new DOMException("AbortError","AbortError")),On()};ct.addEventListener("complete",Ln),ct.addEventListener("error",dn),ct.addEventListener("abort",dn)});fe.set(ct,Je)}(ct),be(ct,function Le(){return Ve||(Ve=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ct,at):ct)}function Ge(ct){if(ct instanceof IDBRequest)return function At(ct){const Je=new Promise((Pt,cn)=>{const On=()=>{ct.removeEventListener("success",Ln),ct.removeEventListener("error",dn)},Ln=()=>{Pt(Ge(ct.result)),On()},dn=()=>{cn(ct.error),On()};ct.addEventListener("success",Ln),ct.addEventListener("error",dn)});return Je.then(Pt=>{Pt instanceof IDBCursor&&pe.set(Pt,ct)}).catch(()=>{}),pt.set(Je,ct),Je}(ct);if(ht.has(ct))return ht.get(ct);const Je=Dt(ct);return Je!==ct&&(ht.set(ct,Je),pt.set(Je,ct)),Je}const ge=ct=>pt.get(ct),ot=["get","getKey","getAll","getAllKeys","count"],Be=["put","add","delete","clear"],re=new Map;function en(ct,Je){if(!(ct instanceof IDBDatabase)||Je in ct||"string"!=typeof Je)return;if(re.get(Je))return re.get(Je);const Pt=Je.replace(/FromIndex$/,""),cn=Je!==Pt,On=Be.includes(Pt);if(!(Pt in(cn?IDBIndex:IDBObjectStore).prototype)||!On&&!ot.includes(Pt))return;const Ln=function(){var dn=(0,_.Z)(function*(gr,...lr){const Pi=this.transaction(gr,On?"readwrite":"readonly");let Di=Pi.store;return cn&&(Di=Di.index(lr.shift())),(yield Promise.all([Di[Pt](...lr),On&&Pi.done]))[0]});return function(lr){return dn.apply(this,arguments)}}();return re.set(Je,Ln),Ln}!function wt(ct){at=ct(at)}(ct=>({...ct,get:(Je,Pt,cn)=>en(Je,Pt)||ct.get(Je,Pt,cn),has:(Je,Pt)=>!!en(Je,Pt)||ct.has(Je,Pt)}));class Gt{constructor(Je){this.container=Je}getPlatformInfoString(){return this.container.getProviders().map(Pt=>{if(function Rn(ct){return"VERSION"===ct.getComponent()?.type}(Pt)){const cn=Pt.getImmediate();return`${cn.library}/${cn.version}`}return null}).filter(Pt=>Pt).join(" ")}}const Ut="@firebase/app",Vn=new $.Yd("@firebase/app"),xr="[DEFAULT]",dr={[Ut]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Zn=new Map,fn=new Map;function Kt(ct,Je){try{ct.container.addComponent(Je)}catch(Pt){Vn.debug(`Component ${Je.name} failed to register with FirebaseApp ${ct.name}`,Pt)}}function mn(ct,Je){ct.container.addOrOverwriteComponent(Je)}function ei(ct){const Je=ct.name;if(fn.has(Je))return Vn.debug(`There were multiple attempts to register component ${Je}.`),!1;fn.set(Je,ct);for(const Pt of Zn.values())Kt(Pt,ct);return!0}function Zr(ct,Je){const Pt=ct.container.getProvider("heartbeat").getImmediate({optional:!0});return Pt&&Pt.triggerHeartbeat(),ct.container.getProvider(Je)}function Rr(ct,Je,Pt=xr){Zr(ct,Je).clearInstance(Pt)}function Mi(){fn.clear()}const ci=new Re.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Fn{constructor(Je,Pt,cn){this._isDeleted=!1,this._options=Object.assign({},Je),this._config=Object.assign({},Pt),this._name=Pt.name,this._automaticDataCollectionEnabled=Pt.automaticDataCollectionEnabled,this._container=cn,this.container.addComponent(new X.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Je){this.checkDestroyed(),this._automaticDataCollectionEnabled=Je}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Je){this._isDeleted=Je}checkDestroyed(){if(this.isDeleted)throw ci.create("app-deleted",{appName:this._name})}}const Ir="9.23.0";function Nn(ct,Je={}){let Pt=ct;"object"!=typeof Je&&(Je={name:Je});const cn=Object.assign({name:xr,automaticDataCollectionEnabled:!1},Je),On=cn.name;if("string"!=typeof On||!On)throw ci.create("bad-app-name",{appName:String(On)});if(Pt||(Pt=(0,Re.aH)()),!Pt)throw ci.create("no-options");const Ln=Zn.get(On);if(Ln){if((0,Re.vZ)(Pt,Ln.options)&&(0,Re.vZ)(cn,Ln.config))return Ln;throw ci.create("duplicate-app",{appName:On})}const dn=new X.H0(On);for(const lr of fn.values())dn.addComponent(lr);const gr=new Fn(Pt,cn,dn);return Zn.set(On,gr),gr}function Cr(ct=xr){const Je=Zn.get(ct);if(!Je&&ct===xr&&(0,Re.aH)())return Nn();if(!Je)throw ci.create("no-app",{appName:ct});return Je}function Ot(){return Array.from(Zn.values())}function Mr(ct){return ni.apply(this,arguments)}function ni(){return(ni=(0,_.Z)(function*(ct){const Je=ct.name;Zn.has(Je)&&(Zn.delete(Je),yield Promise.all(ct.container.getProviders().map(Pt=>Pt.delete())),ct.isDeleted=!0)})).apply(this,arguments)}function Fr(ct,Je,Pt){var cn;let On=null!==(cn=dr[ct])&&void 0!==cn?cn:ct;Pt&&(On+=`-${Pt}`);const Ln=On.match(/\s|\//),dn=Je.match(/\s|\//);if(Ln||dn){const gr=[`Unable to register library "${On}" with version "${Je}":`];return Ln&&gr.push(`library name "${On}" contains illegal characters (whitespace or "/")`),Ln&&dn&&gr.push("and"),dn&&gr.push(`version name "${Je}" contains illegal characters (whitespace or "/")`),void Vn.warn(gr.join(" "))}ei(new X.wA(`${On}-version`,()=>({library:On,version:Je}),"VERSION"))}function yi(ct,Je){if(null!==ct&&"function"!=typeof ct)throw ci.create("invalid-log-argument");(0,$.Am)(ct,Je)}function di(ct){(0,$.Ub)(ct)}const ri="firebase-heartbeat-database",li=1,Ce="firebase-heartbeat-store";let Ee=null;function oe(){return Ee||(Ee=function lt(ct,Je,{blocked:Pt,upgrade:cn,blocking:On,terminated:Ln}={}){const dn=indexedDB.open(ct,Je),gr=Ge(dn);return cn&&dn.addEventListener("upgradeneeded",lr=>{cn(Ge(dn.result),lr.oldVersion,lr.newVersion,Ge(dn.transaction),lr)}),Pt&&dn.addEventListener("blocked",lr=>Pt(lr.oldVersion,lr.newVersion,lr)),gr.then(lr=>{Ln&&lr.addEventListener("close",()=>Ln()),On&&lr.addEventListener("versionchange",Pi=>On(Pi.oldVersion,Pi.newVersion,Pi))}).catch(()=>{}),gr}(ri,li,{upgrade:(ct,Je)=>{0===Je&&ct.createObjectStore(Ce)}}).catch(ct=>{throw ci.create("idb-open",{originalErrorMessage:ct.message})})),Ee}function te(){return(te=(0,_.Z)(function*(ct){try{return yield(yield oe()).transaction(Ce).objectStore(Ce).get(_e(ct))}catch(Je){if(Je instanceof Re.ZR)Vn.warn(Je.message);else{const Pt=ci.create("idb-get",{originalErrorMessage:Je?.message});Vn.warn(Pt.message)}}})).apply(this,arguments)}function De(ct,Je){return he.apply(this,arguments)}function he(){return(he=(0,_.Z)(function*(ct,Je){try{const cn=(yield oe()).transaction(Ce,"readwrite");yield cn.objectStore(Ce).put(Je,_e(ct)),yield cn.done}catch(Pt){if(Pt instanceof Re.ZR)Vn.warn(Pt.message);else{const cn=ci.create("idb-set",{originalErrorMessage:Pt?.message});Vn.warn(cn.message)}}})).apply(this,arguments)}function _e(ct){return`${ct.name}!${ct.options.appId}`}class nt{constructor(Je){this.container=Je,this._heartbeatsCache=null;const Pt=this.container.getProvider("app").getImmediate();this._storage=new En(Pt),this._heartbeatsCachePromise=this._storage.read().then(cn=>(this._heartbeatsCache=cn,cn))}triggerHeartbeat(){var Je=this;return(0,_.Z)(function*(){const cn=Je.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),On=bt();if(null===Je._heartbeatsCache&&(Je._heartbeatsCache=yield Je._heartbeatsCachePromise),Je._heartbeatsCache.lastSentHeartbeatDate!==On&&!Je._heartbeatsCache.heartbeats.some(Ln=>Ln.date===On))return Je._heartbeatsCache.heartbeats.push({date:On,agent:cn}),Je._heartbeatsCache.heartbeats=Je._heartbeatsCache.heartbeats.filter(Ln=>{const dn=new Date(Ln.date).valueOf();return Date.now()-dn<=2592e6}),Je._storage.overwrite(Je._heartbeatsCache)})()}getHeartbeatsHeader(){var Je=this;return(0,_.Z)(function*(){if(null===Je._heartbeatsCache&&(yield Je._heartbeatsCachePromise),null===Je._heartbeatsCache||0===Je._heartbeatsCache.heartbeats.length)return"";const Pt=bt(),{heartbeatsToSend:cn,unsentEntries:On}=function un(ct,Je=1024){const Pt=[];let cn=ct.slice();for(const On of ct){const Ln=Pt.find(dn=>dn.agent===On.agent);if(Ln){if(Ln.dates.push(On.date),Pr(Pt)>Je){Ln.dates.pop();break}}else if(Pt.push({agent:On.agent,dates:[On.date]}),Pr(Pt)>Je){Pt.pop();break}cn=cn.slice(1)}return{heartbeatsToSend:Pt,unsentEntries:cn}}(Je._heartbeatsCache.heartbeats),Ln=(0,Re.L)(JSON.stringify({version:2,heartbeats:cn}));return Je._heartbeatsCache.lastSentHeartbeatDate=Pt,On.length>0?(Je._heartbeatsCache.heartbeats=On,yield Je._storage.overwrite(Je._heartbeatsCache)):(Je._heartbeatsCache.heartbeats=[],Je._storage.overwrite(Je._heartbeatsCache)),Ln})()}}function bt(){return(new Date).toISOString().substring(0,10)}class En{constructor(Je){this.app=Je,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,_.Z)(function*(){return!!(0,Re.hl)()&&(0,Re.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Je=this;return(0,_.Z)(function*(){return(yield Je._canUseIndexedDBPromise)&&(yield function ue(ct){return te.apply(this,arguments)}(Je.app))||{heartbeats:[]}})()}overwrite(Je){var Pt=this;return(0,_.Z)(function*(){var cn;if(yield Pt._canUseIndexedDBPromise){const Ln=yield Pt.read();return De(Pt.app,{lastSentHeartbeatDate:null!==(cn=Je.lastSentHeartbeatDate)&&void 0!==cn?cn:Ln.lastSentHeartbeatDate,heartbeats:Je.heartbeats})}})()}add(Je){var Pt=this;return(0,_.Z)(function*(){var cn;if(yield Pt._canUseIndexedDBPromise){const Ln=yield Pt.read();return De(Pt.app,{lastSentHeartbeatDate:null!==(cn=Je.lastSentHeartbeatDate)&&void 0!==cn?cn:Ln.lastSentHeartbeatDate,heartbeats:[...Ln.heartbeats,...Je.heartbeats]})}})()}}function Pr(ct){return(0,Re.L)(JSON.stringify({version:2,heartbeats:ct})).length}!function Oi(ct){ei(new X.wA("platform-logger",Je=>new Gt(Je),"PRIVATE")),ei(new X.wA("heartbeat",Je=>new nt(Je),"PRIVATE")),Fr(Ut,"0.9.13",ct),Fr(Ut,"0.9.13","esm2017"),Fr("fire-js","")}("")},4859:(rn,it,G)=>{G.d(it,{H0:()=>Le,wA:()=>$,zt:()=>be});var _=G(5861),X=G(2090);class ${constructor(pe,fe,Ae){this.name=pe,this.instanceFactory=fe,this.type=Ae,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(pe){return this.instantiationMode=pe,this}setMultipleInstances(pe){return this.multipleInstances=pe,this}setServiceProps(pe){return this.serviceProps=pe,this}setInstanceCreatedCallback(pe){return this.onInstanceCreated=pe,this}}const Re="[DEFAULT]";class be{constructor(pe,fe){this.name=pe,this.container=fe,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(pe){const fe=this.normalizeInstanceIdentifier(pe);if(!this.instancesDeferred.has(fe)){const Ae=new X.BH;if(this.instancesDeferred.set(fe,Ae),this.isInitialized(fe)||this.shouldAutoInitialize())try{const ht=this.getOrInitializeService({instanceIdentifier:fe});ht&&Ae.resolve(ht)}catch{}}return this.instancesDeferred.get(fe).promise}getImmediate(pe){var fe;const Ae=this.normalizeInstanceIdentifier(pe?.identifier),ht=null!==(fe=pe?.optional)&&void 0!==fe&&fe;if(!this.isInitialized(Ae)&&!this.shouldAutoInitialize()){if(ht)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Ae})}catch(pt){if(ht)return null;throw pt}}getComponent(){return this.component}setComponent(pe){if(pe.name!==this.name)throw Error(`Mismatching Component ${pe.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=pe,this.shouldAutoInitialize()){if(function qe(Qe){return"EAGER"===Qe.instantiationMode}(pe))try{this.getOrInitializeService({instanceIdentifier:Re})}catch{}for(const[fe,Ae]of this.instancesDeferred.entries()){const ht=this.normalizeInstanceIdentifier(fe);try{const pt=this.getOrInitializeService({instanceIdentifier:ht});Ae.resolve(pt)}catch{}}}}clearInstance(pe=Re){this.instancesDeferred.delete(pe),this.instancesOptions.delete(pe),this.instances.delete(pe)}delete(){var pe=this;return(0,_.Z)(function*(){const fe=Array.from(pe.instances.values());yield Promise.all([...fe.filter(Ae=>"INTERNAL"in Ae).map(Ae=>Ae.INTERNAL.delete()),...fe.filter(Ae=>"_delete"in Ae).map(Ae=>Ae._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(pe=Re){return this.instances.has(pe)}getOptions(pe=Re){return this.instancesOptions.get(pe)||{}}initialize(pe={}){const{options:fe={}}=pe,Ae=this.normalizeInstanceIdentifier(pe.instanceIdentifier);if(this.isInitialized(Ae))throw Error(`${this.name}(${Ae}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ht=this.getOrInitializeService({instanceIdentifier:Ae,options:fe});for(const[pt,At]of this.instancesDeferred.entries())Ae===this.normalizeInstanceIdentifier(pt)&&At.resolve(ht);return ht}onInit(pe,fe){var Ae;const ht=this.normalizeInstanceIdentifier(fe),pt=null!==(Ae=this.onInitCallbacks.get(ht))&&void 0!==Ae?Ae:new Set;pt.add(pe),this.onInitCallbacks.set(ht,pt);const At=this.instances.get(ht);return At&&pe(At,ht),()=>{pt.delete(pe)}}invokeOnInitCallbacks(pe,fe){const Ae=this.onInitCallbacks.get(fe);if(Ae)for(const ht of Ae)try{ht(pe,fe)}catch{}}getOrInitializeService({instanceIdentifier:pe,options:fe={}}){let Ae=this.instances.get(pe);if(!Ae&&this.component&&(Ae=this.component.instanceFactory(this.container,{instanceIdentifier:(Qe=pe,Qe===Re?void 0:Qe),options:fe}),this.instances.set(pe,Ae),this.instancesOptions.set(pe,fe),this.invokeOnInitCallbacks(Ae,pe),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,pe,Ae)}catch{}var Qe;return Ae||null}normalizeInstanceIdentifier(pe=Re){return this.component?this.component.multipleInstances?pe:Re:pe}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Le{constructor(pe){this.name=pe,this.providers=new Map}addComponent(pe){const fe=this.getProvider(pe.name);if(fe.isComponentSet())throw new Error(`Component ${pe.name} has already been registered with ${this.name}`);fe.setComponent(pe)}addOrOverwriteComponent(pe){this.getProvider(pe.name).isComponentSet()&&this.providers.delete(pe.name),this.addComponent(pe)}getProvider(pe){if(this.providers.has(pe))return this.providers.get(pe);const fe=new be(pe,this);return this.providers.set(pe,fe),fe}getProviders(){return Array.from(this.providers.values())}}},1877:(rn,it,G)=>{G.d(it,{Am:()=>Qe,Ub:()=>Le,Yd:()=>qe,in:()=>X});const _=[];var X=(()=>{return(pe=X||(X={}))[pe.DEBUG=0]="DEBUG",pe[pe.VERBOSE=1]="VERBOSE",pe[pe.INFO=2]="INFO",pe[pe.WARN=3]="WARN",pe[pe.ERROR=4]="ERROR",pe[pe.SILENT=5]="SILENT",X;var pe})();const $={debug:X.DEBUG,verbose:X.VERBOSE,info:X.INFO,warn:X.WARN,error:X.ERROR,silent:X.SILENT},Re=X.INFO,be={[X.DEBUG]:"log",[X.VERBOSE]:"log",[X.INFO]:"info",[X.WARN]:"warn",[X.ERROR]:"error"},Ve=(pe,fe,...Ae)=>{if(fe<pe.logLevel)return;const ht=(new Date).toISOString(),pt=be[fe];if(!pt)throw new Error(`Attempted to log a message with an invalid logType (value: ${fe})`);console[pt](`[${ht}]  ${pe.name}:`,...Ae)};class qe{constructor(fe){this.name=fe,this._logLevel=Re,this._logHandler=Ve,this._userLogHandler=null,_.push(this)}get logLevel(){return this._logLevel}set logLevel(fe){if(!(fe in X))throw new TypeError(`Invalid value "${fe}" assigned to \`logLevel\``);this._logLevel=fe}setLogLevel(fe){this._logLevel="string"==typeof fe?$[fe]:fe}get logHandler(){return this._logHandler}set logHandler(fe){if("function"!=typeof fe)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=fe}get userLogHandler(){return this._userLogHandler}set userLogHandler(fe){this._userLogHandler=fe}debug(...fe){this._userLogHandler&&this._userLogHandler(this,X.DEBUG,...fe),this._logHandler(this,X.DEBUG,...fe)}log(...fe){this._userLogHandler&&this._userLogHandler(this,X.VERBOSE,...fe),this._logHandler(this,X.VERBOSE,...fe)}info(...fe){this._userLogHandler&&this._userLogHandler(this,X.INFO,...fe),this._logHandler(this,X.INFO,...fe)}warn(...fe){this._userLogHandler&&this._userLogHandler(this,X.WARN,...fe),this._logHandler(this,X.WARN,...fe)}error(...fe){this._userLogHandler&&this._userLogHandler(this,X.ERROR,...fe),this._logHandler(this,X.ERROR,...fe)}}function Le(pe){_.forEach(fe=>{fe.setLogLevel(pe)})}function Qe(pe,fe){for(const Ae of _){let ht=null;fe&&fe.level&&(ht=$[fe.level]),Ae.userLogHandler=null===pe?null:(pt,At,...jt)=>{const at=jt.map(wt=>{if(null==wt)return null;if("string"==typeof wt)return wt;if("number"==typeof wt||"boolean"==typeof wt)return wt.toString();if(wt instanceof Error)return wt.message;try{return JSON.stringify(wt)}catch{return null}}).filter(wt=>wt).join(" ");At>=(ht??pt.logLevel)&&pe({level:X[At].toLowerCase(),message:at,args:jt,type:pt.name})}}}},259:(rn,it,G)=>{G.d(it,{C6:()=>_.getApps,KN:()=>_.registerVersion,Mq:()=>_.getApp,ZF:()=>_.initializeApp});var _=G(6881);(0,_.registerVersion)("firebase","9.23.0","app")},4322:(rn,it,G)=>{G.d(it,{hJ:()=>_.V,v0:()=>_.o,e5:()=>_.a9,rh:()=>_.c,ck:()=>_.ai});var _=G(1389);G(2090),G(6881),G(1877),G(4859)},9260:(rn,it,G)=>{G.d(it,{Z:()=>_.Z});var _=G(3942);_.Z.registerVersion("firebase","9.23.0","app-compat")},9568:(rn,it,G)=>{G.r(it);var _=G(5861),X=G(3942),$=G(1389),Re=G(2090),qe=(G(6881),G(1877),G(4859));function Le(){return window}const Qe=2e3;function fe(){return fe=(0,_.Z)(function*(oe,ue,te){var De;const{BuildInfo:he}=Le();(0,$.as)(ue.sessionId,"AuthEvent did not contain a session ID");const _e=yield function wt(oe){return Tt.apply(this,arguments)}(ue.sessionId),ce={};return(0,$.at)()?ce.ibi=he.packageName:(0,$.au)()?ce.apn=he.packageName:(0,$.av)(oe,"operation-not-supported-in-this-environment"),he.displayName&&(ce.appDisplayName=he.displayName),ce.sessionId=_e,(0,$.aw)(oe,te,ue.type,void 0,null!==(De=ue.eventId)&&void 0!==De?De:void 0,ce)}),fe.apply(this,arguments)}function ht(){return(ht=(0,_.Z)(function*(oe){const{BuildInfo:ue}=Le(),te={};(0,$.at)()?te.iosBundleId=ue.packageName:(0,$.au)()?te.androidPackageName=ue.packageName:(0,$.av)(oe,"operation-not-supported-in-this-environment"),yield(0,$.ax)(oe,te)})).apply(this,arguments)}function jt(){return(jt=(0,_.Z)(function*(oe,ue,te){const{cordova:De}=Le();let he=()=>{};try{yield new Promise((_e,ce)=>{let Ne=null;function nt(){var En;_e();const Pr=null===(En=De.plugins.browsertab)||void 0===En?void 0:En.close;"function"==typeof Pr&&Pr(),"function"==typeof te?.close&&te.close()}function bt(){Ne||(Ne=window.setTimeout(()=>{ce((0,$.az)(oe,"redirect-cancelled-by-user"))},Qe))}function un(){"visible"===document?.visibilityState&&bt()}ue.addPassiveListener(nt),document.addEventListener("resume",bt,!1),(0,$.au)()&&document.addEventListener("visibilitychange",un,!1),he=()=>{ue.removePassiveListener(nt),document.removeEventListener("resume",bt,!1),document.removeEventListener("visibilitychange",un,!1),Ne&&window.clearTimeout(Ne)}})}finally{he()}})).apply(this,arguments)}function Tt(){return(Tt=(0,_.Z)(function*(oe){const ue=function Dt(oe){if((0,$.as)(/[0-9a-zA-Z]+/.test(oe),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(oe);const ue=new ArrayBuffer(oe.length),te=new Uint8Array(ue);for(let De=0;De<oe.length;De++)te[De]=oe.charCodeAt(De);return te}(oe),te=yield crypto.subtle.digest("SHA-256",ue);return Array.from(new Uint8Array(te)).map(he=>he.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}const Ge=20;class ge extends $.aB{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(ue=>{this.resolveInialized=ue})}addPassiveListener(ue){this.passiveListeners.add(ue)}removePassiveListener(ue){this.passiveListeners.delete(ue)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(ue){return this.resolveInialized(),this.passiveListeners.forEach(te=>te(ue)),super.onEvent(ue)}initialized(){var ue=this;return(0,_.Z)(function*(){yield ue.initPromise})()}}function ot(oe){return Be.apply(this,arguments)}function Be(){return(Be=(0,_.Z)(function*(oe){const ue=yield Gt()._get(Rn(oe));return ue&&(yield Gt()._remove(Rn(oe))),ue})).apply(this,arguments)}function en(){const oe=[],ue="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let te=0;te<Ge;te++){const De=Math.floor(Math.random()*ue.length);oe.push(ue.charAt(De))}return oe.join("")}function Gt(){return(0,$.aC)($.b)}function Rn(oe){return(0,$.aD)("authEvent",oe.config.apiKey,oe.name)}function Vn(oe){if(!oe?.includes("?"))return{};const[ue,...te]=oe.split("?");return(0,Re.zd)(te.join("?"))}const ke=class Gn{constructor(){this._redirectPersistence=$.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=$.aE,this._overrideRedirectResult=$.aF}_initialize(ue){var te=this;return(0,_.Z)(function*(){const De=ue._key();let he=te.eventManagers.get(De);return he||(he=new ge(ue),te.eventManagers.set(De,he),te.attachCallbackListeners(ue,he)),he})()}_openPopup(ue){(0,$.av)(ue,"operation-not-supported-in-this-environment")}_openRedirect(ue,te,De,he){var _e=this;return(0,_.Z)(function*(){!function at(oe){var ue,te,De,he,_e,ce,Ne,nt,bt,un;const En=Le();(0,$.aA)("function"==typeof(null===(ue=En?.universalLinks)||void 0===ue?void 0:ue.subscribe),oe,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,$.aA)(typeof(null===(te=En?.BuildInfo)||void 0===te?void 0:te.packageName)<"u",oe,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,$.aA)("function"==typeof(null===(_e=null===(he=null===(De=En?.cordova)||void 0===De?void 0:De.plugins)||void 0===he?void 0:he.browsertab)||void 0===_e?void 0:_e.openUrl),oe,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,$.aA)("function"==typeof(null===(nt=null===(Ne=null===(ce=En?.cordova)||void 0===ce?void 0:ce.plugins)||void 0===Ne?void 0:Ne.browsertab)||void 0===nt?void 0:nt.isAvailable),oe,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,$.aA)("function"==typeof(null===(un=null===(bt=En?.cordova)||void 0===bt?void 0:bt.InAppBrowser)||void 0===un?void 0:un.open),oe,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(ue);const ce=yield _e._initialize(ue);yield ce.initialized(),ce.resetRedirect(),(0,$.aG)(),yield _e._originValidation(ue);const Ne=function lt(oe,ue,te=null){return{type:ue,eventId:te,urlResponse:null,sessionId:en(),postBody:null,tenantId:oe.tenantId,error:(0,$.az)(oe,"no-auth-event")}}(ue,De,he);yield function et(oe,ue){return Gt()._set(Rn(oe),ue)}(ue,Ne);const nt=yield function pe(oe,ue,te){return fe.apply(this,arguments)}(ue,Ne,te),bt=yield function pt(oe){const{cordova:ue}=Le();return new Promise(te=>{ue.plugins.browsertab.isAvailable(De=>{let he=null;De?ue.plugins.browsertab.openUrl(oe):he=ue.InAppBrowser.open(oe,(0,$.ay)()?"_blank":"_system","location=yes"),te(he)})})}(nt);return function At(oe,ue,te){return jt.apply(this,arguments)}(ue,ce,bt)})()}_isIframeWebStorageSupported(ue,te){throw new Error("Method not implemented.")}_originValidation(ue){const te=ue._key();return this.originValidationPromises[te]||(this.originValidationPromises[te]=function Ae(oe){return ht.apply(this,arguments)}(ue)),this.originValidationPromises[te]}attachCallbackListeners(ue,te){const{universalLinks:De,handleOpenURL:he,BuildInfo:_e}=Le(),ce=setTimeout((0,_.Z)(function*(){yield ot(ue),te.onEvent(Fe())}),500),Ne=function(){var un=(0,_.Z)(function*(En){clearTimeout(ce);const Pr=yield ot(ue);let Oi=null;Pr&&En?.url&&(Oi=function re(oe,ue){var te,De;const he=function sn(oe){const ue=Vn(oe),te=ue.link?decodeURIComponent(ue.link):void 0,De=Vn(te).link,he=ue.deep_link_id?decodeURIComponent(ue.deep_link_id):void 0;return Vn(he).link||he||De||te||oe}(ue);if(he.includes("/__/auth/callback")){const _e=Vn(he),ce=_e.firebaseError?function Ut(oe){try{return JSON.parse(oe)}catch{return null}}(decodeURIComponent(_e.firebaseError)):null,Ne=null===(De=null===(te=ce?.code)||void 0===te?void 0:te.split("auth/"))||void 0===De?void 0:De[1],nt=Ne?(0,$.az)(Ne):null;return nt?{type:oe.type,eventId:oe.eventId,tenantId:oe.tenantId,error:nt,urlResponse:null,sessionId:null,postBody:null}:{type:oe.type,eventId:oe.eventId,tenantId:oe.tenantId,sessionId:oe.sessionId,urlResponse:he,postBody:null}}return null}(Pr,En.url)),te.onEvent(Oi||Fe())});return function(Pr){return un.apply(this,arguments)}}();typeof De<"u"&&"function"==typeof De.subscribe&&De.subscribe(null,Ne);const nt=he,bt=`${_e.packageName.toLowerCase()}://`;Le().handleOpenURL=function(){var un=(0,_.Z)(function*(En){if(En.toLowerCase().startsWith(bt)&&Ne({url:En}),"function"==typeof nt)try{nt(En)}catch(Pr){console.error(Pr)}});return function(En){return un.apply(this,arguments)}}()}};function Fe(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,$.az)("no-auth-event")}}const It=1e3;function Ft(){var oe;return(null===(oe=self?.location)||void 0===oe?void 0:oe.protocol)||null}function vn(oe=(0,Re.z$)()){return!("file:"!==Ft()&&"ionic:"!==Ft()&&"capacitor:"!==Ft()||!oe.toLowerCase().match(/iphone|ipad|ipod|android/))}function Un(){try{const oe=self.localStorage,ue=$.aL();if(oe)return oe.setItem(ue,"1"),oe.removeItem(ue),!function xn(oe=(0,Re.z$)()){return function Pn(){return(0,Re.w1)()&&11===document?.documentMode}()||function _r(oe=(0,Re.z$)()){return/Edge\/\d+/.test(oe)}(oe)}()||(0,Re.hl)()}catch{return rr()&&(0,Re.hl)()}return!1}function rr(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Zt(){return(function qt(){return"http:"===Ft()||"https:"===Ft()}()||(0,Re.ru)()||vn())&&!function zt(){return(0,Re.b$)()||(0,Re.UG)()}()&&Un()&&!rr()}function cr(){return vn()&&typeof document<"u"}function Tn(){return(Tn=(0,_.Z)(function*(){return!!cr()&&new Promise(oe=>{const ue=setTimeout(()=>{oe(!1)},It);document.addEventListener("deviceready",()=>{clearTimeout(ue),oe(!0)})})})).apply(this,arguments)}const Bn={LOCAL:"local",NONE:"none",SESSION:"session"},ar=$.aA,kr="persistence";function dr(oe){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,_.Z)(function*(oe){yield oe._initializationPromise;const ue=Kt(),te=$.aD(kr,oe.config.apiKey,oe.name);ue&&ue.setItem(te,oe._getPersistence())})).apply(this,arguments)}function Kt(){var oe;try{return(null===(oe=function Ht(){return typeof window<"u"?window:null}())||void 0===oe?void 0:oe.sessionStorage)||null}catch{return null}}const mn=$.aA;class ei{constructor(){this.browserResolver=$.aC($.k),this.cordovaResolver=$.aC(ke),this.underlyingResolver=null,this._redirectPersistence=$.a,this._completeRedirectFn=$.aE,this._overrideRedirectResult=$.aF}_initialize(ue){var te=this;return(0,_.Z)(function*(){return yield te.selectUnderlyingResolver(),te.assertedUnderlyingResolver._initialize(ue)})()}_openPopup(ue,te,De,he){var _e=this;return(0,_.Z)(function*(){return yield _e.selectUnderlyingResolver(),_e.assertedUnderlyingResolver._openPopup(ue,te,De,he)})()}_openRedirect(ue,te,De,he){var _e=this;return(0,_.Z)(function*(){return yield _e.selectUnderlyingResolver(),_e.assertedUnderlyingResolver._openRedirect(ue,te,De,he)})()}_isIframeWebStorageSupported(ue,te){this.assertedUnderlyingResolver._isIframeWebStorageSupported(ue,te)}_originValidation(ue){return this.assertedUnderlyingResolver._originValidation(ue)}get _shouldInitProactively(){return cr()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return mn(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var ue=this;return(0,_.Z)(function*(){if(ue.underlyingResolver)return;const te=yield function Or(){return Tn.apply(this,arguments)}();ue.underlyingResolver=te?ue.cordovaResolver:ue.browserResolver})()}}function Zr(oe){return oe.unwrap()}function Mi(oe){return ci(oe)}function ci(oe){const{_tokenResponse:ue}=oe instanceof Re.ZR?oe.customData:oe;if(!ue)return null;if(!(oe instanceof Re.ZR)&&"temporaryProof"in ue&&"phoneNumber"in ue)return $.P.credentialFromResult(oe);const te=ue.providerId;if(!te||te===$.p.PASSWORD)return null;let De;switch(te){case $.p.GOOGLE:De=$.V;break;case $.p.FACEBOOK:De=$.U;break;case $.p.GITHUB:De=$.W;break;case $.p.TWITTER:De=$.Z;break;default:const{oauthIdToken:he,oauthAccessToken:_e,oauthTokenSecret:ce,pendingToken:Ne,nonce:nt}=ue;return _e||ce||he||Ne?Ne?te.startsWith("saml.")?$.aO._create(te,Ne):$.L._fromParams({providerId:te,signInMethod:te,pendingToken:Ne,idToken:he,accessToken:_e}):new $.X(te).credential({idToken:he,accessToken:_e,rawNonce:nt}):null}return oe instanceof Re.ZR?De.credentialFromError(oe):De.credentialFromResult(oe)}function Fn(oe,ue){return ue.catch(te=>{throw te instanceof Re.ZR&&function sr(oe,ue){var te;const De=null===(te=ue.customData)||void 0===te?void 0:te._tokenResponse;if("auth/multi-factor-auth-required"===ue?.code)ue.resolver=new Cr(oe,$.aq(oe,ue));else if(De){const he=ci(ue),_e=ue;he&&(_e.credential=he,_e.tenantId=De.tenantId||void 0,_e.email=De.email||void 0,_e.phoneNumber=De.phoneNumber||void 0)}}(oe,te),te}).then(te=>{const he=te.user;return{operationType:te.operationType,credential:Mi(te),additionalUserInfo:$.ao(te),user:Ot.getOrCreate(he)}})}function Ir(oe,ue){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,_.Z)(function*(oe,ue){const te=yield ue;return{verificationId:te.verificationId,confirm:De=>Fn(oe,te.confirm(De))}})).apply(this,arguments)}class Cr{constructor(ue,te){this.resolver=te,this.auth=function Rr(oe){return oe.wrapped()}(ue)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(ue){return Fn(Zr(this.auth),this.resolver.resolveSignIn(ue))}}class Ot{constructor(ue){this._delegate=ue,this.multiFactor=$.ar(ue)}static getOrCreate(ue){return Ot.USER_MAP.has(ue)||Ot.USER_MAP.set(ue,new Ot(ue)),Ot.USER_MAP.get(ue)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(ue){return this._delegate.getIdTokenResult(ue)}getIdToken(ue){return this._delegate.getIdToken(ue)}linkAndRetrieveDataWithCredential(ue){return this.linkWithCredential(ue)}linkWithCredential(ue){var te=this;return(0,_.Z)(function*(){return Fn(te.auth,$.a0(te._delegate,ue))})()}linkWithPhoneNumber(ue,te){var De=this;return(0,_.Z)(function*(){return Ir(De.auth,$.l(De._delegate,ue,te))})()}linkWithPopup(ue){var te=this;return(0,_.Z)(function*(){return Fn(te.auth,$.d(te._delegate,ue,ei))})()}linkWithRedirect(ue){var te=this;return(0,_.Z)(function*(){return yield dr($.aH(te.auth)),$.g(te._delegate,ue,ei)})()}reauthenticateAndRetrieveDataWithCredential(ue){return this.reauthenticateWithCredential(ue)}reauthenticateWithCredential(ue){var te=this;return(0,_.Z)(function*(){return Fn(te.auth,$.a1(te._delegate,ue))})()}reauthenticateWithPhoneNumber(ue,te){return Ir(this.auth,$.r(this._delegate,ue,te))}reauthenticateWithPopup(ue){return Fn(this.auth,$.e(this._delegate,ue,ei))}reauthenticateWithRedirect(ue){var te=this;return(0,_.Z)(function*(){return yield dr($.aH(te.auth)),$.h(te._delegate,ue,ei)})()}sendEmailVerification(ue){return $.ae(this._delegate,ue)}unlink(ue){var te=this;return(0,_.Z)(function*(){return yield $.an(te._delegate,ue),te})()}updateEmail(ue){return $.aj(this._delegate,ue)}updatePassword(ue){return $.ak(this._delegate,ue)}updatePhoneNumber(ue){return $.u(this._delegate,ue)}updateProfile(ue){return $.ai(this._delegate,ue)}verifyBeforeUpdateEmail(ue,te){return $.af(this._delegate,ue,te)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Ot.USER_MAP=new WeakMap;const Mr=$.aA;let ni=(()=>{class oe{constructor(te,De){if(this.app=te,De.isInitialized())return this._delegate=De.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:he}=te.options;Mr(he,"invalid-api-key",{appName:te.name}),Mr(he,"invalid-api-key",{appName:te.name});const _e=typeof window<"u"?ei:void 0;this._delegate=De.initialize({options:{persistence:yi(he,te.name),popupRedirectResolver:_e}}),this._delegate._updateErrorMap($.D),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Ot.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(te){this._delegate.languageCode=te}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(te){this._delegate.tenantId=te}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(te,De){$.I(this._delegate,te,De)}applyActionCode(te){return $.a5(this._delegate,te)}checkActionCode(te){return $.a6(this._delegate,te)}confirmPasswordReset(te,De){return $.a4(this._delegate,te,De)}createUserWithEmailAndPassword(te,De){var he=this;return(0,_.Z)(function*(){return Fn(he._delegate,$.a8(he._delegate,te,De))})()}fetchProvidersForEmail(te){return this.fetchSignInMethodsForEmail(te)}fetchSignInMethodsForEmail(te){return $.ad(this._delegate,te)}isSignInWithEmailLink(te){return $.ab(this._delegate,te)}getRedirectResult(){var te=this;return(0,_.Z)(function*(){Mr(Zt(),te._delegate,"operation-not-supported-in-this-environment");const De=yield $.j(te._delegate,ei);return De?Fn(te._delegate,Promise.resolve(De)):{credential:null,user:null}})()}addFrameworkForLogging(te){!function Ze(oe,ue){(0,$.aH)(oe)._logFramework(ue)}(this._delegate,te)}onAuthStateChanged(te,De,he){const{next:_e,error:ce,complete:Ne}=Fr(te,De,he);return this._delegate.onAuthStateChanged(_e,ce,Ne)}onIdTokenChanged(te,De,he){const{next:_e,error:ce,complete:Ne}=Fr(te,De,he);return this._delegate.onIdTokenChanged(_e,ce,Ne)}sendSignInLinkToEmail(te,De){return $.aa(this._delegate,te,De)}sendPasswordResetEmail(te,De){return $.a3(this._delegate,te,De||void 0)}setPersistence(te){var De=this;return(0,_.Z)(function*(){let he;switch(function xr(oe,ue){ar(Object.values(Bn).includes(ue),oe,"invalid-persistence-type"),(0,Re.b$)()?ar(ue!==Bn.SESSION,oe,"unsupported-persistence-type"):(0,Re.UG)()?ar(ue===Bn.NONE,oe,"unsupported-persistence-type"):rr()?ar(ue===Bn.NONE||ue===Bn.LOCAL&&(0,Re.hl)(),oe,"unsupported-persistence-type"):ar(ue===Bn.NONE||Un(),oe,"unsupported-persistence-type")}(De._delegate,te),te){case Bn.SESSION:he=$.a;break;case Bn.LOCAL:he=(yield $.aC($.i)._isAvailable())?$.i:$.b;break;case Bn.NONE:he=$.N;break;default:return $.av("argument-error",{appName:De._delegate.name})}return De._delegate.setPersistence(he)})()}signInAndRetrieveDataWithCredential(te){return this.signInWithCredential(te)}signInAnonymously(){return Fn(this._delegate,$._(this._delegate))}signInWithCredential(te){return Fn(this._delegate,$.$(this._delegate,te))}signInWithCustomToken(te){return Fn(this._delegate,$.a2(this._delegate,te))}signInWithEmailAndPassword(te,De){return Fn(this._delegate,$.a9(this._delegate,te,De))}signInWithEmailLink(te,De){return Fn(this._delegate,$.ac(this._delegate,te,De))}signInWithPhoneNumber(te,De){return Ir(this._delegate,$.s(this._delegate,te,De))}signInWithPopup(te){var De=this;return(0,_.Z)(function*(){return Mr(Zt(),De._delegate,"operation-not-supported-in-this-environment"),Fn(De._delegate,$.c(De._delegate,te,ei))})()}signInWithRedirect(te){var De=this;return(0,_.Z)(function*(){return Mr(Zt(),De._delegate,"operation-not-supported-in-this-environment"),yield dr(De._delegate),$.f(De._delegate,te,ei)})()}updateCurrentUser(te){return this._delegate.updateCurrentUser(te)}verifyPasswordResetCode(te){return $.a7(this._delegate,te)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return oe.Persistence=Bn,oe})();function Fr(oe,ue,te){let De=oe;"function"!=typeof oe&&({next:De,error:ue,complete:te}=oe);const he=De;return{next:ce=>he(ce&&Ot.getOrCreate(ce)),error:ue,complete:te}}function yi(oe,ue){const te=function fn(oe,ue){const te=Kt();if(!te)return[];const De=$.aD(kr,oe,ue);switch(te.getItem(De)){case Bn.NONE:return[$.N];case Bn.LOCAL:return[$.i,$.a];case Bn.SESSION:return[$.a];default:return[]}}(oe,ue);if(typeof self<"u"&&!te.includes($.i)&&te.push($.i),typeof window<"u")for(const De of[$.b,$.a])te.includes(De)||te.push(De);return te.includes($.N)||te.push($.N),te}class di{constructor(){this.providerId="phone",this._delegate=new $.P(Zr(X.Z.auth()))}static credential(ue,te){return $.P.credential(ue,te)}verifyPhoneNumber(ue,te){return this._delegate.verifyPhoneNumber(ue,te)}unwrap(){return this._delegate}}di.PHONE_SIGN_IN_METHOD=$.P.PHONE_SIGN_IN_METHOD,di.PROVIDER_ID=$.P.PROVIDER_ID;const ri=$.aA;class li{constructor(ue,te,De=X.Z.app()){var he;ri(null===(he=De.options)||void 0===he?void 0:he.apiKey,"invalid-api-key",{appName:De.name}),this._delegate=new $.R(ue,te,De.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Ee(oe){oe.INTERNAL.registerComponent(new qe.wA("auth-compat",ue=>{const te=ue.getProvider("app-compat").getImmediate(),De=ue.getProvider("auth");return new ni(te,De)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:$.A.EMAIL_SIGNIN,PASSWORD_RESET:$.A.PASSWORD_RESET,RECOVER_EMAIL:$.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:$.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:$.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:$.A.VERIFY_EMAIL}},EmailAuthProvider:$.Q,FacebookAuthProvider:$.U,GithubAuthProvider:$.W,GoogleAuthProvider:$.V,OAuthProvider:$.X,SAMLAuthProvider:$.Y,PhoneAuthProvider:di,PhoneMultiFactorGenerator:$.m,RecaptchaVerifier:li,TwitterAuthProvider:$.Z,Auth:ni,AuthCredential:$.J,Error:Re.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),oe.registerVersion("@firebase/auth-compat","0.4.2")}(X.Z)},5861:(rn,it,G)=>{function _($,Re,be,Ve,qe,Le,Qe){try{var pe=$[Le](Qe),fe=pe.value}catch(Ae){return void be(Ae)}pe.done?Re(fe):Promise.resolve(fe).then(Ve,qe)}function X($){return function(){var Re=this,be=arguments;return new Promise(function(Ve,qe){var Le=$.apply(Re,be);function Qe(fe){_(Le,Ve,qe,Qe,pe,"next",fe)}function pe(fe){_(Le,Ve,qe,Qe,pe,"throw",fe)}Qe(void 0)})}}G.d(it,{Z:()=>X})},7582:(rn,it,G)=>{function Re(ke,Fe){var Ze={};for(var Me in ke)Object.prototype.hasOwnProperty.call(ke,Me)&&Fe.indexOf(Me)<0&&(Ze[Me]=ke[Me]);if(null!=ke&&"function"==typeof Object.getOwnPropertySymbols){var Xe=0;for(Me=Object.getOwnPropertySymbols(ke);Xe<Me.length;Xe++)Fe.indexOf(Me[Xe])<0&&Object.prototype.propertyIsEnumerable.call(ke,Me[Xe])&&(Ze[Me[Xe]]=ke[Me[Xe]])}return Ze}function Ae(ke,Fe,Ze,Me){return new(Ze||(Ze=Promise))(function(It,Ft){function qt(Pn){try{zt(Me.next(Pn))}catch(_r){Ft(_r)}}function vn(Pn){try{zt(Me.throw(Pn))}catch(_r){Ft(_r)}}function zt(Pn){Pn.done?It(Pn.value):function Xe(It){return It instanceof Ze?It:new Ze(function(Ft){Ft(It)})}(Pn.value).then(qt,vn)}zt((Me=Me.apply(ke,Fe||[])).next())})}function Ge(ke){return this instanceof Ge?(this.v=ke,this):new Ge(ke)}function ge(ke,Fe,Ze){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Xe,Me=Ze.apply(ke,Fe||[]),It=[];return Xe={},Ft("next"),Ft("throw"),Ft("return"),Xe[Symbol.asyncIterator]=function(){return this},Xe;function Ft(xn){Me[xn]&&(Xe[xn]=function(Un){return new Promise(function(rr,Zt){It.push([xn,Un,rr,Zt])>1||qt(xn,Un)})})}function qt(xn,Un){try{!function vn(xn){xn.value instanceof Ge?Promise.resolve(xn.value.v).then(zt,Pn):_r(It[0][2],xn)}(Me[xn](Un))}catch(rr){_r(It[0][3],rr)}}function zt(xn){qt("next",xn)}function Pn(xn){qt("throw",xn)}function _r(xn,Un){xn(Un),It.shift(),It.length&&qt(It[0][0],It[0][1])}}function et(ke){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ze,Fe=ke[Symbol.asyncIterator];return Fe?Fe.call(ke):(ke=function jt(ke){var Fe="function"==typeof Symbol&&Symbol.iterator,Ze=Fe&&ke[Fe],Me=0;if(Ze)return Ze.call(ke);if(ke&&"number"==typeof ke.length)return{next:function(){return ke&&Me>=ke.length&&(ke=void 0),{value:ke&&ke[Me++],done:!ke}}};throw new TypeError(Fe?"Object is not iterable.":"Symbol.iterator is not defined.")}(ke),Ze={},Me("next"),Me("throw"),Me("return"),Ze[Symbol.asyncIterator]=function(){return this},Ze);function Me(It){Ze[It]=ke[It]&&function(Ft){return new Promise(function(qt,vn){!function Xe(It,Ft,qt,vn){Promise.resolve(vn).then(function(zt){It({value:zt,done:qt})},Ft)}(qt,vn,(Ft=ke[It](Ft)).done,Ft.value)})}}}G.d(it,{FC:()=>ge,KL:()=>et,_T:()=>Re,mG:()=>Ae,qq:()=>Ge}),"function"==typeof SuppressedError&&SuppressedError}},rn=>{rn(rn.s=3411)}]);